"use strict";var x3=Object.defineProperty,R3=Object.defineProperties,k3=Object.getOwnPropertyDescriptors,cN=Object.getOwnPropertySymbols,O3=Object.prototype.hasOwnProperty,N3=Object.prototype.propertyIsEnumerable,dN=(st,Ce,N)=>Ce in st?x3(st,Ce,{enumerable:!0,configurable:!0,writable:!0,value:N}):st[Ce]=N,hN=(st,Ce)=>{for(var N in Ce||(Ce={}))O3.call(Ce,N)&&dN(st,N,Ce[N]);if(cN)for(var N of cN(Ce))N3.call(Ce,N)&&dN(st,N,Ce[N]);return st},fN=(st,Ce)=>R3(st,k3(Ce));(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[179],{2011:(st,Ce,N)=>{N.d(Ce,{Dh:()=>ce,GT:()=>ve,cc:()=>Oe,hO:()=>We,on:()=>z,pX:()=>ue,xv:()=>be});var u=N(5e3),V=N(127),O=N(5813);st=N.hmd(st);const le=["ngOnDestroy"],ue=(Se,ze,Ze,Ne={})=>new Proxy(Se,{get:(Pe,Ie)=>Ze.runOutsideAngular(()=>{var Ke;if(Se[Ie])return(null===(Ke=null==Ne?void 0:Ne.spy)||void 0===Ke?void 0:Ke.get)&&Ne.spy.get(Ie,Se[Ie]),Se[Ie];if(le.indexOf(Ie)>-1)return()=>{};const re=ze.toPromise().then(ge=>{const Te=ge&&ge[Ie];return"function"==typeof Te?Te.bind(ge):Te&&Te.then?Te.then(J=>Ze.run(()=>J)):Ze.run(()=>Te)});return new Proxy(()=>{},{get:(ge,Te)=>re[Te],apply:(ge,Te,J)=>re.then(ie=>{var ae;const Ee=ie&&ie(...J);return(null===(ae=null==Ne?void 0:Ne.spy)||void 0===ae?void 0:ae.apply)&&Ne.spy.apply(Ie,J,Ee),Ee})})})}),ve=(Se,ze)=>{ze.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ne=>{Object.defineProperty(Se.prototype,Ne,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ne))})})};class fe{constructor(ze){return ze}}const ce=new u.OlP("angularfire2.app.options"),be=new u.OlP("angularfire2.app.name");function z(Se,ze,Ze){const Pe="object"==typeof Ze&&Ze||{};Pe.name=Pe.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Ke=V.Z.apps.filter(re=>re&&re.name===Pe.name)[0]||ze.runOutsideAngular(()=>V.Z.initializeApp(Se,Pe));try{JSON.stringify(Se)!==JSON.stringify(Ke.options)&&H("error",`${Ke.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(re){}return new fe(Ke)}const H=(Se,...ze)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Se](...ze)},oe={provide:fe,useFactory:z,deps:[ce,u.R0b,[new u.FiY,be]]};let We=(()=>{class Se{constructor(Ze){V.Z.registerVersion("angularfire",O.q4.full,"core"),V.Z.registerVersion("angularfire",O.q4.full,"app-compat"),V.Z.registerVersion("angular",u.q4F.full,Ze.toString())}static initializeApp(Ze,Ne){return{ngModule:Se,providers:[{provide:ce,useValue:Ze},{provide:be,useValue:Ne}]}}}return Se.\u0275fac=function(Ze){return new(Ze||Se)(u.LFG(u.Lbi))},Se.\u0275mod=u.oAB({type:Se}),Se.\u0275inj=u.cJS({providers:[oe]}),Se})();function Oe(Se,ze,Ze,Ne,Pe){const[,Ie,Ke]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===Se)||[];if(Ie)return function Be(Se,ze){try{return Se.toString()===ze.toString()}catch(Ze){return Se===ze}}(Pe,Ke)||(_e("error",`${ze} was already initialized on the ${Ze} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Pe,was:Ke})),Ie;{const re=Ne();return globalThis.\u0275AngularfireInstanceCache.push([Se,re,Pe]),re}}const Ge=!!st.hot,_e=(Se,...ze)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Se](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,Ce,N)=>{N.d(Ce,{q4:()=>bo,iC:()=>Co,fc:()=>hg,HU:()=>jl,vb:()=>Yh,JM:()=>Vl,u3:()=>Hu});var u=N(5e3),V=N(5867),O=N(5861),le=N(9681),ue=N(2090),ve=N(4859),fe=N(1877),ce=N(8766);const be="@firebase/installations",z="0.5.9",oe=`w:${z}`,We="FIS_v2",ze=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ze(I){return I instanceof ue.ZR&&I.code.includes("request-failed")}function Ne({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Pe(I){return{token:I.token,requestStatus:2,expiresIn:ie(I.expiresIn),creationTime:Date.now()}}function Ie(I,T){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,O.Z)(function*(I,T){const U=(yield T.json()).error;return ze.create("request-failed",{requestName:I,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function re({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ge(I,{refreshToken:T}){const k=re(I);return k.append("Authorization",function ae(I){return`${We} ${I}`}(T)),k}function Te(I){return J.apply(this,arguments)}function J(){return(J=(0,O.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function ie(I){return Number(I.replace("s","000"))}function Ee(I,T){return pe.apply(this,arguments)}function pe(){return(pe=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:T},{fid:k}){const U=Ne(I),X=re(I),ee=T.getImmediate({optional:!0});if(ee){const St=yield ee.getHeartbeatsHeader();St&&X.append("x-firebase-client",St)}const ot={method:"POST",headers:X,body:JSON.stringify({fid:k,authVersion:We,appId:I.appId,sdkVersion:oe})},Ct=yield Te(()=>fetch(U,ot));if(Ct.ok){const St=yield Ct.json();return{fid:St.fid||k,registrationStatus:2,refreshToken:St.refreshToken,authToken:Pe(St.authToken)}}throw yield Ie("Create Installation",Ct)})).apply(this,arguments)}function je(I){return new Promise(T=>{setTimeout(T,I)})}const nn=/^[cdef][\w-]{21}$/;function Je(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function mn(I){return function yt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return nn.test(k)?k:""}catch(I){return""}}function Hn(I){return`${I.appName}!${I.appId}`}const bn=new Map;function an(I,T){const k=Hn(I);Sn(k,T),function Ki(I,T){const k=function kn(){return!Or&&"BroadcastChannel"in self&&(Or=new BroadcastChannel("[Firebase] FID Change"),Or.onmessage=I=>{Sn(I.data.key,I.data.fid)}),Or}();k&&k.postMessage({key:I,fid:T}),function Yi(){0===bn.size&&Or&&(Or.close(),Or=null)}()}(k,T)}function Sn(I,T){const k=bn.get(I);if(k)for(const U of k)U(T)}let Or=null;const er="firebase-installations-store";let Qi=null;function bt(){return Qi||(Qi=(0,ce.X3)("firebase-installations-database",1,{upgrade:(I,T)=>{0===T&&I.createObjectStore(er)}})),Qi}function qr(I,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(I,T){const k=Hn(I),X=(yield bt()).transaction(er,"readwrite"),ee=X.objectStore(er),xe=yield ee.get(k);return yield ee.put(T,k),yield X.done,(!xe||xe.fid!==T.fid)&&an(I,T.fid),T})).apply(this,arguments)}function sn(I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(I){const T=Hn(I),U=(yield bt()).transaction(er,"readwrite");yield U.objectStore(er).delete(T),yield U.done})).apply(this,arguments)}function pr(I,T){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(I,T){const k=Hn(I),X=(yield bt()).transaction(er,"readwrite"),ee=X.objectStore(er),xe=yield ee.get(k),ot=T(xe);return void 0===ot?yield ee.delete(k):yield ee.put(ot,k),yield X.done,ot&&(!xe||xe.fid!==ot.fid)&&an(I,ot.fid),ot})).apply(this,arguments)}function Mn(I){return gr.apply(this,arguments)}function gr(){return(gr=(0,O.Z)(function*(I){let T;const k=yield pr(I.appConfig,U=>{const X=Ps(U),ee=Xt(I,X);return T=ee.registrationPromise,ee.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function Ps(I){return Ji(I||{fid:Je(),registrationStatus:0})}function Xt(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ze.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function mt(I,T){return at.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ti(I)}:{installationEntry:T}}function at(){return(at=(0,O.Z)(function*(I,T){try{const k=yield Ee(I,T);return qr(I.appConfig,k)}catch(k){throw Ze(k)&&409===k.customData.serverCode?yield sn(I.appConfig):yield qr(I.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Ti(I){return Di.apply(this,arguments)}function Di(){return(Di=(0,O.Z)(function*(I){let T=yield Kt(I.appConfig);for(;1===T.registrationStatus;)yield je(100),T=yield Kt(I.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield Mn(I);return U||k}return T})).apply(this,arguments)}function Kt(I){return pr(I,T=>{if(!T)throw ze.create("installation-not-found");return Ji(T)})}function Ji(I){return function $n(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function _n(I,T){return j.apply(this,arguments)}function j(){return(j=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:T},k){const U=W(I,k),X=ge(I,k),ee=T.getImmediate({optional:!0});if(ee){const St=yield ee.getHeartbeatsHeader();St&&X.append("x-firebase-client",St)}const ot={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:oe,appId:I.appId}})},Ct=yield Te(()=>fetch(U,ot));if(Ct.ok)return Pe(yield Ct.json());throw yield Ie("Generate Auth Token",Ct)})).apply(this,arguments)}function W(I,{fid:T}){return`${Ne(I)}/${T}/authTokens:generate`}function Y(I){return we.apply(this,arguments)}function we(){return(we=(0,O.Z)(function*(I,T=!1){let k;const U=yield pr(I.appConfig,ee=>{if(!Bt(ee))throw ze.create("not-registered");const xe=ee.authToken;if(!T&&hn(xe))return ee;if(1===xe.requestStatus)return k=q(I,T),ee;{if(!navigator.onLine)throw ze.create("app-offline");const ot=tr(ee);return k=tt(I,ot),ot}});return k?yield k:U.authToken})).apply(this,arguments)}function q(I,T){return ne.apply(this,arguments)}function ne(){return(ne=(0,O.Z)(function*(I,T){let k=yield Ue(I.appConfig);for(;1===k.authToken.requestStatus;)yield je(100),k=yield Ue(I.appConfig);const U=k.authToken;return 0===U.requestStatus?Y(I,T):U})).apply(this,arguments)}function Ue(I){return pr(I,T=>{if(!Bt(T))throw ze.create("not-registered");return function de(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function tt(I,T){return vt.apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(I,T){try{const k=yield _n(I,T),U=Object.assign(Object.assign({},T),{authToken:k});return yield qr(I.appConfig,U),k}catch(k){if(!Ze(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield qr(I.appConfig,U)}else yield sn(I.appConfig);throw k}})).apply(this,arguments)}function Bt(I){return void 0!==I&&2===I.registrationStatus}function hn(I){return 2===I.requestStatus&&!function At(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+36e5}(I)}function tr(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}function K(){return(K=(0,O.Z)(function*(I){const T=I,{installationEntry:k,registrationPromise:U}=yield Mn(T);return U?U.catch(console.error):Y(T).catch(console.error),k.fid})).apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(I,T=!1){const k=I;return yield gt(k),(yield Y(k,T)).token})).apply(this,arguments)}function gt(I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(I){const{registrationPromise:T}=yield Mn(I);T&&(yield T)})).apply(this,arguments)}function Da(I){return ze.create("missing-app-config-values",{valueName:I})}const oi="installations",Ht=I=>{const T=I.getProvider("app").getImmediate(),k=function mr(I){if(!I||!I.options)throw Da("App Configuration");if(!I.name)throw Da("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!I.options[k])throw Da(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Cn=I=>{const T=I.getProvider("app").getImmediate(),k=(0,le._getProvider)(T,oi).getImmediate();return{getId:()=>function Q(I){return K.apply(this,arguments)}(k),getToken:X=>function Me(I){return Ye.apply(this,arguments)}(k,X)}};(function Zr(){(0,le._registerComponent)(new ve.wA(oi,Ht,"PUBLIC")),(0,le._registerComponent)(new ve.wA("installations-internal",Cn,"PRIVATE"))})(),(0,le.registerVersion)(be,z),(0,le.registerVersion)(be,z,"esm2017");const ds="@firebase/remote-config",qn=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zc{constructor(T,k,U,X){this.client=T,this.storage=k,this.storageCache=U,this.logger=X}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,X=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${X}.`),X}fetch(T){var k=this;return(0,O.Z)(function*(){const[U,X]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(X&&k.isCachedDataFresh(T.cacheMaxAgeMillis,U))return X;T.eTag=X&&X.eTag;const ee=yield k.client.fetch(T),xe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&xe.push(k.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(xe),ee})()}}function Cl(I=navigator){return I.languages&&I.languages[0]||I.language}class nr{constructor(T,k,U,X,ee,xe){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=U,this.projectId=X,this.apiKey=ee,this.appId=xe}fetch(T){var k=this;return(0,O.Z)(function*(){const[U,X]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ct={sdk_version:k.sdkVersion,app_instance_id:U,app_instance_id_token:X,app_id:k.appId,language_code:Cl()},St={method:"POST",headers:ot,body:JSON.stringify(Ct)},qt=fetch(xe,St),Ot=new Promise((Hi,Ts)=>{T.signal.addEventListener(()=>{const To=new Error("The operation was aborted.");To.name="AbortError",Ts(To)})});let Wr;try{yield Promise.race([qt,Ot]),Wr=yield qt}catch(Hi){let Ts="fetch-client-network";throw"AbortError"===Hi.name&&(Ts="fetch-timeout"),qn.create(Ts,{originalErrorMessage:Hi.message})}let jn=Wr.status;const fi=Wr.headers.get("ETag")||void 0;let Is,ji;if(200===Wr.status){let Hi;try{Hi=yield Wr.json()}catch(Ts){throw qn.create("fetch-client-parse",{originalErrorMessage:Ts.message})}Is=Hi.entries,ji=Hi.state}if("INSTANCE_STATE_UNSPECIFIED"===ji?jn=500:"NO_CHANGE"===ji?jn=304:("NO_TEMPLATE"===ji||"EMPTY_CONFIG"===ji)&&(Is={}),304!==jn&&200!==jn)throw qn.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:fi,config:Is}})()}}class fs{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,O.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:U}){var X=this;return(0,O.Z)(function*(){yield function zc(I,T){return new Promise((k,U)=>{const X=Math.max(T-Date.now(),0),ee=setTimeout(k,X);I.addEventListener(()=>{clearTimeout(ee),U(qn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ee=yield X.client.fetch(T);return yield X.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function eg(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ee))throw ee;const xe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(U),backoffCount:U+1};return yield X.storage.setThrottleMetadata(xe),X.attemptFetch(T,xe)}})()}}class ng{constructor(T,k,U,X,ee){this.app=T,this._client=k,this._storageCache=U,this._storage=X,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Aa(I,T){const k=I.target.error||void 0;return qn.create(T,{originalErrorMessage:k&&k.message})}const Yo="app_namespace_store";class Yc{constructor(T,k,U,X=function ig(){return new Promise((I,T)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=U=>{T(Aa(U,"storage-open"))},k.onsuccess=U=>{I(U.target.result)},k.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Yo,{keyPath:"compositeKey"})}}catch(k){T(qn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=T,this.appName=k,this.namespace=U,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,O.Z)(function*(){const U=yield k.openDbPromise;return new Promise((X,ee)=>{const ot=U.transaction([Yo],"readonly").objectStore(Yo),Ct=k.createCompositeKey(T);try{const St=ot.get(Ct);St.onerror=qt=>{ee(Aa(qt,"storage-get"))},St.onsuccess=qt=>{const Ot=qt.target.result;X(Ot?Ot.value:void 0)}}catch(St){ee(qn.create("storage-get",{originalErrorMessage:St&&St.message}))}})})()}set(T,k){var U=this;return(0,O.Z)(function*(){const X=yield U.openDbPromise;return new Promise((ee,xe)=>{const Ct=X.transaction([Yo],"readwrite").objectStore(Yo),St=U.createCompositeKey(T);try{const qt=Ct.put({compositeKey:St,value:k});qt.onerror=Ot=>{xe(Aa(Ot,"storage-set"))},qt.onsuccess=()=>{ee()}}catch(qt){xe(qn.create("storage-set",{originalErrorMessage:qt&&qt.message}))}})})()}delete(T){var k=this;return(0,O.Z)(function*(){const U=yield k.openDbPromise;return new Promise((X,ee)=>{const ot=U.transaction([Yo],"readwrite").objectStore(Yo),Ct=k.createCompositeKey(T);try{const St=ot.delete(Ct);St.onerror=qt=>{ee(Aa(qt,"storage-delete"))},St.onsuccess=()=>{X()}}catch(St){ee(qn.create("storage-delete",{originalErrorMessage:St&&St.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Qo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const k=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),X=T.storage.getActiveConfig(),ee=yield k;ee&&(T.lastFetchStatus=ee);const xe=yield U;xe&&(T.lastSuccessfulFetchTimestampMillis=xe);const ot=yield X;ot&&(T.activeConfig=ot)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function C_(){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(I){return!1}})).apply(this,arguments)}!function sg(){(0,le._registerComponent)(new ve.wA("remote-config",function I(T,{instanceIdentifier:k}){const U=T.getProvider("app").getImmediate(),X=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qn.create("registration-window");if(!(0,ue.hl)())throw qn.create("indexed-db-unavailable");const{projectId:ee,apiKey:xe,appId:ot}=U.options;if(!ee)throw qn.create("registration-project-id");if(!xe)throw qn.create("registration-api-key");if(!ot)throw qn.create("registration-app-id");const Ct=new Yc(ot,U.name,k=k||"firebase"),St=new Qo(Ct),qt=new fe.Yd(ds);qt.logLevel=fe.in.ERROR;const Ot=new nr(X,le.SDK_VERSION,k,ee,xe,ot),Wr=new fs(Ot,Ct),jn=new Zc(Wr,Ct,St,qt),fi=new ng(U,jn,St,Ct,qt);return function yn(I){const T=(0,ue.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(fi),fi},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(ds,"0.3.8"),(0,le.registerVersion)(ds,"0.3.8","esm2017")}();const Us="/firebase-messaging-sw.js",Mi="/firebase-cloud-messaging-push-scope",Jo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xa="google.c.a.c_id",Hh="google.c.a.c_l",og="google.c.a.ts",Vs="google.c.a.e";var gs=(()=>{return(I=gs||(gs={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",gs;var I})();function Vi(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jc(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),X=new Uint8Array(U.length);for(let ee=0;ee<U.length;++ee)X[ee]=U.charCodeAt(ee);return X}const Ar="fcm_token_details_db",Xc="fcm_token_object_Store";function ed(I){return Il.apply(this,arguments)}function Il(){return Il=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(Ar))return null;let T=null;return(yield(0,ce.X3)(Ar,5,{upgrade:(U=(0,O.Z)(function*(X,ee,xe,ot){var Ct;if(ee<2||!X.objectStoreNames.contains(Xc))return;const St=ot.objectStore(Xc),qt=yield St.index("fcmSenderId").get(I);if(yield St.clear(),qt)if(2===ee){const Ot=qt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(Ct=Ot.createTime)&&void 0!==Ct?Ct:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Vi(Ot.vapidKey)}}}else if(3===ee){const Ot=qt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Vi(Ot.auth),p256dh:Vi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Vi(Ot.vapidKey)}}}else if(4===ee){const Ot=qt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Vi(Ot.auth),p256dh:Vi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Vi(Ot.vapidKey)}}}}),function(ee,xe,ot,Ct){return U.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Ar),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Tl(T)?T:null;var U}),Il.apply(this,arguments)}function Tl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ms="firebase-messaging-store";let Ru=null;function In(){return Ru||(Ru=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(I,T)=>{0===T&&I.createObjectStore(ms)}})),Ru}function Ra(I){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,O.Z)(function*(I){const T=_r(I),U=yield(yield In()).transaction(ms).objectStore(ms).get(T);if(U)return U;{const X=yield ed(I.appConfig.senderId);if(X)return yield vn(I,X),X}})).apply(this,arguments)}function vn(I,T){return Al.apply(this,arguments)}function Al(){return(Al=(0,O.Z)(function*(I,T){const k=_r(I),X=(yield In()).transaction(ms,"readwrite");return yield X.objectStore(ms).put(T,k),yield X.done,T})).apply(this,arguments)}function ka(I){return oo.apply(this,arguments)}function oo(){return(oo=(0,O.Z)(function*(I){const T=_r(I),U=(yield In()).transaction(ms,"readwrite");yield U.objectStore(ms).delete(T),yield U.done})).apply(this,arguments)}function _r({appConfig:I}){return I.appId}const Gn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _s(I,T){return yr.apply(this,arguments)}function yr(){return(yr=(0,O.Z)(function*(I,T){const k=yield Hs(I),U=Oa(T),X={method:"POST",headers:k,body:JSON.stringify(U)};let ee;try{ee=yield(yield fetch(js(I.appConfig),X)).json()}catch(xe){throw Gn.create("token-subscribe-failed",{errorInfo:xe})}if(ee.error)throw Gn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Gn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Xo(I,T){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(I,T){const k=yield Hs(I),U=Oa(T.subscriptionOptions),X={method:"PATCH",headers:k,body:JSON.stringify(U)};let ee;try{ee=yield(yield fetch(`${js(I.appConfig)}/${T.token}`,X)).json()}catch(xe){throw Gn.create("token-update-failed",{errorInfo:xe})}if(ee.error)throw Gn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Gn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ku(I,T){return li.apply(this,arguments)}function li(){return(li=(0,O.Z)(function*(I,T){const U={method:"DELETE",headers:yield Hs(I)};try{const ee=yield(yield fetch(`${js(I.appConfig)}/${T}`,U)).json();if(ee.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(X){throw Gn.create("token-unsubscribe-failed",{errorInfo:X})}})).apply(this,arguments)}function js({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Hs(I){return Et.apply(this,arguments)}function Et(){return(Et=(0,O.Z)(function*({appConfig:I,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Oa({p256dh:I,auth:T,endpoint:k,vapidKey:U}){const X={web:{endpoint:k,auth:T,p256dh:I}};return U!==Jo&&(X.web.applicationPubKey=U),X}const Na=6048e5;function td(I){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(I){const T=yield Ln(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:Vi(T.getKey("auth")),p256dh:Vi(T.getKey("p256dh"))},U=yield Ra(I.firebaseDependencies);if(U){if(Ua(U.subscriptionOptions,k))return Date.now()>=U.createTime+Na?$h(I,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield ku(I.firebaseDependencies,U.token)}catch(X){console.warn(X)}return Yt(I.firebaseDependencies,k)}return Yt(I.firebaseDependencies,k)})).apply(this,arguments)}function Ou(I){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,O.Z)(function*(I){const T=yield Ra(I.firebaseDependencies);T&&(yield ku(I.firebaseDependencies,T.token),yield ka(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function $h(I,T){return Re.apply(this,arguments)}function Re(){return(Re=(0,O.Z)(function*(I,T){try{const k=yield Xo(I.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield vn(I.firebaseDependencies,U),k}catch(k){throw yield Ou(I),k}})).apply(this,arguments)}function Yt(I,T){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(I,T){const U={token:yield _s(I,T),createTime:Date.now(),subscriptionOptions:T};return yield vn(I,U),U.token})).apply(this,arguments)}function Ln(I,T){return $s.apply(this,arguments)}function $s(){return($s=(0,O.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jc(T)})})).apply(this,arguments)}function Ua(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}function zr(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Nu(I,T){if(!T.notification)return;I.notification={};const k=T.notification.title;k&&(I.notification.title=k);const U=T.notification.body;U&&(I.notification.body=U);const X=T.notification.image;X&&(I.notification.image=X)}(T,I),function Pu(I,T){!T.data||(I.data=T.data)}(T,I),function nd(I,T){if(!T.fcmOptions)return;I.fcmOptions={};const k=T.fcmOptions.link;k&&(I.fcmOptions.link=k);const U=T.fcmOptions.analytics_label;U&&(I.fcmOptions.analyticsLabel=U)}(T,I),T}function rd(I){return"object"==typeof I&&!!I&&xa in I}function Va(I,T){const k=[];for(let U=0;U<I.length;U++)k.push(I.charAt(U)),U<T.length&&k.push(T.charAt(U));return k.join("")}function ar(I){return Gn.create("missing-app-config-values",{valueName:I})}Va("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Va("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bi{constructor(T,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function ea(I){if(!I||!I.options)throw ar("App Configuration Object");if(!I.name)throw ar("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const U of T)if(!k[U])throw ar(U);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:X,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Fu(I){return ts.apply(this,arguments)}function ts(){return(ts=(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Us,{scope:Mi}),I.swRegistration.update().catch(()=>{})}catch(T){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function ys(I,T){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,O.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield Fu(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function id(I,T){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=Jo)})).apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(I,T){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield id(I,null==T?void 0:T.vapidKey),yield ys(I,null==T?void 0:T.serviceWorkerRegistration),td(I)})).apply(this,arguments)}function Ml(I,T,k){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(I,T,k){const U=Lu(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[xa],message_name:k[Hh],message_time:k[og],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lu(I){switch(I){case gs.NOTIFICATION_CLICKED:return"notification_open";case gs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xl(){return(xl=(0,O.Z)(function*(I,T){const k=T.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===gs.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(zr(k)):I.onMessageHandler.next(zr(k)));const U=k.data;rd(U)&&"1"===U[Vs]&&(yield Ml(I,k.messageType,U))})).apply(this,arguments)}const lo="@firebase/messaging",uo=I=>{const T=new Bi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function ag(I,T){return xl.apply(this,arguments)}(T,k)),T},od=I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:U=>function sd(I,T){return ao.apply(this,arguments)}(T,U)}};function ta(){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(){try{yield(0,ue.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qh(){(0,le._registerComponent)(new ve.wA("messaging",uo,"PUBLIC")),(0,le._registerComponent)(new ve.wA("messaging-internal",od,"PRIVATE")),(0,le.registerVersion)(lo,"0.9.13"),(0,le.registerVersion)(lo,"0.9.13","esm2017")}();const ad="analytics",lg="firebase_id",qa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rl="https://www.googletagmanager.com/gtag/js",br=new fe.Yd("@firebase/analytics");function zh(I){return Promise.all(I.map(T=>T.catch(k=>k)))}function co(I,T){const k=document.createElement("script");k.src=`${Rl}?l=${I}&id=${T}`,k.async=!0,document.head.appendChild(k)}function ld(I,T,k,U,X,ee){return ud.apply(this,arguments)}function ud(){return(ud=(0,O.Z)(function*(I,T,k,U,X,ee){const xe=U[X];try{if(xe)yield T[xe];else{const Ct=(yield zh(k)).find(St=>St.measurementId===X);Ct&&(yield T[Ct.appId])}}catch(ot){br.error(ot)}I("config",X,ee)})).apply(this,arguments)}function rs(I,T,k,U,X){return ra.apply(this,arguments)}function ra(){return(ra=(0,O.Z)(function*(I,T,k,U,X){try{let ee=[];if(X&&X.send_to){let xe=X.send_to;Array.isArray(xe)||(xe=[xe]);const ot=yield zh(k);for(const Ct of xe){const St=ot.find(Ot=>Ot.measurementId===Ct),qt=St&&T[St.appId];if(!qt){ee=[];break}ee.push(qt)}}0===ee.length&&(ee=Object.values(T)),yield Promise.all(ee),I("event",U,X||{})}catch(ee){br.error(ee)}})).apply(this,arguments)}function En(){const I=window.document.getElementsByTagName("script");for(const T of Object.values(I))if(T.src&&T.src.includes(Rl))return T;return null}const nt=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vu=new class Ur{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ia(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function sa(I){return zn.apply(this,arguments)}function zn(){return(zn=(0,O.Z)(function*(I){var T;const{appId:k,apiKey:U}=I,X={method:"GET",headers:ia(U)},ee=qa.replace("{app-id}",k),xe=yield fetch(ee,X);if(200!==xe.status&&304!==xe.status){let ot="";try{const Ct=yield xe.json();(null===(T=Ct.error)||void 0===T?void 0:T.message)&&(ot=Ct.error.message)}catch(Ct){}throw nt.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:ot})}return xe.json()})).apply(this,arguments)}function ho(I){return fo.apply(this,arguments)}function fo(){return(fo=(0,O.Z)(function*(I,T=Vu,k){const{appId:U,apiKey:X,measurementId:ee}=I.options;if(!U)throw nt.create("no-app-id");if(!X){if(ee)return{measurementId:ee,appId:U};throw nt.create("no-api-key")}const xe=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new Ol;return setTimeout((0,O.Z)(function*(){ot.abort()}),void 0!==k?k:6e4),Es({appId:U,apiKey:X,measurementId:ee},xe,ot,T)})).apply(this,arguments)}function Es(I,T,k){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:k},U,X=Vu){const{appId:ee,measurementId:xe}=I;try{yield dd(U,T)}catch(ot){if(xe)return br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:ee,measurementId:xe};throw ot}try{const ot=yield sa(I);return X.deleteThrottleMetadata(ee),ot}catch(ot){if(!hd(ot)){if(X.deleteThrottleMetadata(ee),xe)return br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:ee,measurementId:xe};throw ot}const Ct=503===Number(ot.customData.httpStatus)?(0,ue.$s)(k,X.intervalMillis,30):(0,ue.$s)(k,X.intervalMillis),St={throttleEndTimeMillis:Date.now()+Ct,backoffCount:k+1};return X.setThrottleMetadata(ee,St),br.debug(`Calling attemptFetch again in ${Ct} millis`),Es(I,St,U,X)}})).apply(this,arguments)}function dd(I,T){return new Promise((k,U)=>{const X=Math.max(T-Date.now(),0),ee=setTimeout(k,X);I.addEventListener(()=>{clearTimeout(ee),U(nt.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function hd(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Ol{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function fd(){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(){if(!(0,ue.hl)())return br.warn(nt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(I){return br.warn(nt.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function ws(){return(ws=(0,O.Z)(function*(I,T,k,U,X,ee,xe){var ot;const Ct=ho(I);Ct.then(jn=>{k[jn.measurementId]=jn.appId,I.options.measurementId&&jn.measurementId!==I.options.measurementId&&br.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>br.error(jn)),T.push(Ct);const St=fd().then(jn=>{if(jn)return U.getId()}),[qt,Ot]=yield Promise.all([Ct,St]);En()||co(ee,qt.measurementId),X("js",new Date);const Wr=null!==(ot=null==xe?void 0:xe.config)&&void 0!==ot?ot:{};return Wr.origin="firebase",Wr.update=!0,null!=Ot&&(Wr[lg]=Ot),X("config",qt.measurementId,Wr),qt.measurementId})).apply(this,arguments)}class po{constructor(T){this.app=T}_delete(){return delete ui[this.app.options.appId],Promise.resolve()}}let ui={},ci=[];const qs={};let Gs,aa,go="dataLayer",Ga=!1;function zs(I,T,k){!function Za(){const I=[];if((0,ue.ru)()&&I.push("This is a browser extension environment."),(0,ue.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((U,X)=>`(${X+1}) ${U}`).join(" "),k=nt.create("invalid-analytics-context",{errorInfo:T});br.warn(k.message)}}();const U=I.options.appId;if(!U)throw nt.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw nt.create("no-api-key");br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ui[U])throw nt.create("already-exists",{id:U});if(!Ga){!function na(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(go);const{wrappedGtag:ee,gtagCore:xe}=function ug(I,T,k,U,X){let ee=function(...xe){window[U].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ee=window[X]),window[X]=function cd(I,T,k,U){function ee(){return(ee=(0,O.Z)(function*(xe,ot,Ct){try{"event"===xe?yield rs(I,T,k,ot,Ct):"config"===xe?yield ld(I,T,k,U,ot,Ct):I("set",ot)}catch(St){br.error(St)}})).apply(this,arguments)}return function X(xe,ot,Ct){return ee.apply(this,arguments)}}(ee,I,T,k),{gtagCore:ee,wrappedGtag:window[X]}}(ui,ci,qs,go,"gtag");aa=ee,Gs=xe,Ga=!0}return ui[U]=function Nl(I,T,k,U,X,ee,xe){return ws.apply(this,arguments)}(I,ci,qs,T,Gs,go,k),new po(I)}function lr(){return(lr=(0,O.Z)(function*(I,T,k,U,X){if(X&&X.global)I("event",k,U);else{const ee=yield T;I("event",k,Object.assign(Object.assign({},U),{send_to:ee}))}})).apply(this,arguments)}function za(){return _o.apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(I){return!1}})).apply(this,arguments)}const wr="@firebase/analytics";!function Ks(){(0,le._registerComponent)(new ve.wA(ad,(T,{options:k})=>zs(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new ve.wA("analytics-internal",function I(T){try{const k=T.getProvider(ad).getImmediate();return{logEvent:(U,X,ee)=>function ua(I,T,k,U){I=(0,ue.m9)(I),function Pl(I,T,k,U,X){return lr.apply(this,arguments)}(aa,ui[I.app.options.appId],T,k,U).catch(X=>br.error(X))}(k,U,X,ee)}}catch(k){throw nt.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(wr,"0.7.9"),(0,le.registerVersion)(wr,"0.7.9","esm2017")}();var yo=N(4408),Qn=N(7565);const Ka=new class Wa extends Qn.v{}(class ca extends yo.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,k,U):T.flush(this)}});var Kh=N(4986),Vr=N(8306),hi=N(8505),vo=N(5363),da=N(9468);const bo=new u.GfV("7.3.0"),Fl="__angularfire_symbol__analyticsIsSupportedValue",Cs="__angularfire_symbol__analyticsIsSupported",Ya="__angularfire_symbol__remoteConfigIsSupportedValue",Bu="__angularfire_symbol__remoteConfigIsSupported",$t="__angularfire_symbol__messagingIsSupportedValue",Ll="__angularfire_symbol__messagingIsSupported";function Vl(I,T,k){if(T){if(1===T.length)return T[0];const ee=T.filter(xe=>xe.app===k);if(1===ee.length)return ee[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[Cs]||(globalThis[Cs]=za().then(I=>globalThis[Fl]=I).catch(()=>globalThis[Fl]=!1)),globalThis[Ll]||(globalThis[Ll]=ta().then(I=>globalThis[$t]=I).catch(()=>globalThis[$t]=!1)),globalThis[Bu]||(globalThis[Bu]=C_().then(I=>globalThis[Ya]=I).catch(()=>globalThis[Ya]=!1));const Yh=(I,T)=>{const k=T?[T]:(0,V.C6)(),U=[];return k.forEach(X=>{X.container.getProvider(I).instances.forEach(xe=>{U.includes(xe)||U.push(xe)})}),U};function Cr(){}class ju{constructor(T,k=Ka){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,U){const X=this.zone;return this.delegate.schedule(function(xe){X.runGuarded(()=>{T.apply(this,[xe])})},k,U)}}class Bl{constructor(T){this.zone=T,this.task=null}call(T,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cr,{},Cr,Cr)),k.pipe((0,hi.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jl=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ju(Zone.current)),this.insideAngular=k.run(()=>new ju(Zone.current,Kh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function wo(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Nn(I){return wo().ngZone.runOutsideAngular(()=>I())}function ir(I){return wo().ngZone.run(()=>I())}function hg(I){return I.pipe((0,vo.Q)(wo().outsideAngular))}function Co(I){return wo(),function Io(I){return function(k){return(k=k.lift(new Bl(I.ngZone))).pipe((0,da.R)(I.outsideAngular),(0,vo.Q)(I.insideAngular))}}(wo())(I)}const Qh=(I,T)=>function(){const U=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),ir(()=>I.apply(void 0,U))},Hu=(I,T)=>function(){let k;const U=arguments;for(let ee=0;ee<arguments.length;ee++)"function"==typeof U[ee]&&(T&&(k||(k=ir(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cr,{},Cr,Cr)))),U[ee]=Qh(U[ee],k));const X=Nn(()=>I.apply(this,U));if(!T){if(X instanceof Vr.y){const ee=wo();return X.pipe((0,da.R)(ee.outsideAngular),(0,vo.Q)(ee.insideAngular))}return ir(()=>X)}return X instanceof Vr.y?X.pipe(Co):X instanceof Promise?ir(()=>new Promise((ee,xe)=>X.then(ot=>ir(()=>ee(ot)),ot=>ir(()=>xe(ot))))):"function"==typeof X&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),X.apply(this,arguments)}:ir(()=>X)}},198:(st,Ce,N)=>{N.d(Ce,{$:()=>js,A:()=>H,B:()=>Oe,G:()=>Cn,H:()=>fn,J:()=>fs,L:()=>hn,M:()=>Sa,N:()=>Ma,P:()=>Fl,Q:()=>xa,R:()=>Ks,T:()=>Hh,U:()=>Jo,V:()=>gs,W:()=>Vi,X:()=>ed,Y:()=>Sl,Z:()=>_s,_:()=>Xo,a:()=>xn,a0:()=>td,a1:()=>Ou,a2:()=>$h,a3:()=>Yt,a4:()=>Ln,a5:()=>Ua,a6:()=>Nu,a7:()=>Pu,a8:()=>rd,a9:()=>Va,aA:()=>Ts,aB:()=>jn,aC:()=>Hu,aD:()=>Qh,aE:()=>He,aI:()=>ia,aL:()=>Vs,aa:()=>Fu,ab:()=>ys,ac:()=>id,af:()=>Ml,ag:()=>Lu,ah:()=>ag,ak:()=>ms,al:()=>vr,an:()=>Rl,ao:()=>ud,ap:()=>Kn,aq:()=>Te,ar:()=>Gt,as:()=>gt,at:()=>Ze,au:()=>Ds,av:()=>Jh,aw:()=>Ne,ax:()=>re,ay:()=>ie,az:()=>At,b:()=>nt,c:()=>D_,d:()=>ju,e:()=>Yh,f:()=>k,g:()=>Ct,h:()=>ee,i:()=>zs,j:()=>Ot,k:()=>af,l:()=>Ka,m:()=>uf,n:()=>c0,o:()=>ce,r:()=>Kh,s:()=>Qn,u:()=>da});var u=N(5861),V=N(2090),O=N(9681),le=N(655),ue=N(1877),ve=N(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ue.Yd("@firebase/auth");function ze(v,...g){Se.logLevel<=ue.in.ERROR&&Se.error(`Auth (${O.SDK_VERSION}): ${v}`,...g)}function Ze(v,...g){throw Ke(v,...g)}function Ne(v,...g){return Ke(v,...g)}function Pe(v,g,m){const w=Object.assign(Object.assign({},Be()),{[g]:m});return new V.LL("auth","Firebase",w).create(g,{appName:v.name})}function Ie(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&Ze(v,"argument-error"),Pe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(v,...g){if("string"!=typeof v){const m=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return Ge.create(v,...g)}function re(v,g,...m){if(!v)throw Ke(g,...m)}function ge(v){const g="INTERNAL ASSERTION FAILED: "+v;throw ze(g),new Error(g)}function Te(v,g){v||ge(g)}const J=new Map;function ie(v){Te(v instanceof Function,"Expected a class definition");let g=J.get(v);return g?(Te(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,J.set(v,g),g)}function pe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function je(){return"http:"===yt()||"https:"===yt()}function yt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Je{constructor(g,m){this.shortDelay=g,this.longDelay=m,Te(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function nn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(v,g){Te(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Hn{static initialize(g,m,w){this.fetchImpl=g,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new Je(3e4,6e4);function Wt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function rn(v,g,m,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(v,g,m,w,x={}){return Ki(v,x,(0,u.Z)(function*(){let P={},se={};w&&("GET"===g?se=w:P={body:JSON.stringify(w)});const Fe=(0,V.xO)(Object.assign({key:v.config.apiKey},se)).slice(1),rt=yield v._getAdditionalHeaders();return rt["Content-Type"]="application/json",v.languageCode&&(rt["X-Firebase-Locale"]=v.languageCode),Hn.fetch()(Ii(v,v.config.apiHost,m,Fe),Object.assign({method:g,headers:rt,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Ki(v,g,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(v,g,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},bn),g);try{const x=new Ui(v),P=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const se=yield P.json();if("needConfirmation"in se)throw er(v,"account-exists-with-different-credential",se);if(P.ok&&!("errorMessage"in se))return se;{const Fe=P.ok?se.errorMessage:se.error.message,[rt,wt]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw er(v,"credential-already-in-use",se);if("EMAIL_EXISTS"===rt)throw er(v,"email-already-in-use",se);const Nt=w[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw Pe(v,Nt,wt);Ze(v,Nt)}}catch(x){if(x instanceof V.ZR)throw x;Ze(v,"network-request-failed")}})).apply(this,arguments)}function kn(v,g,m,w){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(v,g,m,w,x={}){const P=yield rn(v,g,m,w,x);return"mfaPendingCredential"in P&&Ze(v,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Ii(v,g,m,w){const x=`${g}${m}?${w}`;return v.config.emulator?mn(v.config,x):`${v.config.apiScheme}://${x}`}class Ui{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ne(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(v,g,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=Ne(v,g,w);return x.customData._tokenResponse=m,x}function bt(){return(bt=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function qr(v,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function sn(v,g){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function pr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function gr(){return(gr=(0,u.Z)(function*(v,g=!1){const m=(0,V.m9)(v),w=yield m.getIdToken(g),x=Xt(w);re(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,se=null==P?void 0:P.sign_in_provider;return{claims:x,token:w,authTime:pr(Ps(x.auth_time)),issuedAtTime:pr(Ps(x.iat)),expirationTime:pr(Ps(x.exp)),signInProvider:se||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Ps(v){return 1e3*Number(v)}function Xt(v){const[g,m,w]=v.split(".");if(void 0===g||void 0===m||void 0===w)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,V.tV)(m);return x?JSON.parse(x):(ze("Failed to decode base64 JWT payload"),null)}catch(x){return ze("Caught error parsing JWT payload as JSON",x),null}}function at(v,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(w){throw w instanceof V.ZR&&Di(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Di({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Kt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),w)}iteration(){var g=this;return(0,u.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Ji{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $n(v){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(v){var g;const m=v.auth,w=yield v.getIdToken(),x=yield at(v,sn(m,{idToken:w}));re(null==x?void 0:x.users.length,m,"internal-error");const P=x.users[0];v._notifyReloadListener(P);const se=(null===(g=P.providerUserInfo)||void 0===g?void 0:g.length)?we(P.providerUserInfo):[],Fe=Y(v.providerData,se),Nt=!!v.isAnonymous&&!(v.email&&P.passwordHash||(null==Fe?void 0:Fe.length)),Rn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Fe,metadata:new Ji(P.createdAt,P.lastLoginAt),isAnonymous:Nt};Object.assign(v,Rn)})).apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(v){const g=(0,V.m9)(v);yield $n(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Y(v,g){return[...v.filter(w=>!g.some(x=>x.providerId===w.providerId)),...g]}function we(v){return v.map(g=>{var{providerId:m}=g,w=(0,le._T)(g,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ne(){return(ne=(0,u.Z)(function*(v,g){const m=yield Ki(v,{},(0,u.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:P}=v.config,se=Ii(v,x,"/v1/token",`key=${P}`),Fe=yield v._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(se,{method:"POST",headers:Fe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){re(g.idToken,"internal-error"),re(void 0!==g.idToken,"internal-error"),re(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function mt(v){const g=Xt(v);return re(g,"internal-error"),re(void 0!==g.exp,"internal-error"),re(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var w=this;return(0,u.Z)(function*(){return re(!w.accessToken||w.refreshToken,g,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var w=this;return(0,u.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:se}=yield function q(v,g){return ne.apply(this,arguments)}(g,m);w.updateTokensAndExpiration(x,P,Number(se))})()}updateTokensAndExpiration(g,m,w){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,m){const{refreshToken:w,accessToken:x,expirationTime:P}=m,se=new Ue;return w&&(re("string"==typeof w,"internal-error",{appName:g}),se.refreshToken=w),x&&(re("string"==typeof x,"internal-error",{appName:g}),se.accessToken=x),P&&(re("number"==typeof P,"internal-error",{appName:g}),se.expirationTime=P),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return ge("not implemented")}}function tt(v,g){re("string"==typeof v||void 0===v,"internal-error",{appName:g})}class vt{constructor(g){var{uid:m,auth:w,stsTokenManager:x}=g,P=(0,le._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ji(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,u.Z)(function*(){const w=yield at(m,m.stsTokenManager.getToken(m.auth,g));return re(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(g){return function Mn(v){return gr.apply(this,arguments)}(this,g)}reload(){return function j(v){return W.apply(this,arguments)}(this)}_assign(g){this!==g&&(re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new vt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var w=this;return(0,u.Z)(function*(){let x=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),x=!0),m&&(yield $n(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,u.Z)(function*(){const m=yield g.getIdToken();return yield at(g,function Qi(v,g){return bt.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var w,x,P,se,Fe,rt,wt,Nt;const Rn=null!==(w=m.displayName)&&void 0!==w?w:void 0,as=null!==(x=m.email)&&void 0!==x?x:void 0,Ys=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,df=null!==(se=m.photoURL)&&void 0!==se?se:void 0,zu=null!==(Fe=m.tenantId)&&void 0!==Fe?Fe:void 0,pa=null!==(rt=m._redirectEventId)&&void 0!==rt?rt:void 0,yg=null!==(wt=m.createdAt)&&void 0!==wt?wt:void 0,Zl=null!==(Nt=m.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:Wu,emailVerified:vg,isAnonymous:vd,providerData:Ja,stsTokenManager:hf}=m;re(Wu&&hf,g,"internal-error");const ff=Ue.fromJSON(this.name,hf);re("string"==typeof Wu,g,"internal-error"),tt(Rn,g.name),tt(as,g.name),re("boolean"==typeof vg,g,"internal-error"),re("boolean"==typeof vd,g,"internal-error"),tt(Ys,g.name),tt(df,g.name),tt(zu,g.name),tt(pa,g.name),tt(yg,g.name),tt(Zl,g.name);const Ku=new vt({uid:Wu,auth:g,email:as,emailVerified:vg,displayName:Rn,isAnonymous:vd,photoURL:df,phoneNumber:Ys,tenantId:zu,stsTokenManager:ff,createdAt:yg,lastLoginAt:Zl});return Ja&&Array.isArray(Ja)&&(Ku.providerData=Ja.map(ln=>Object.assign({},ln))),pa&&(Ku._redirectEventId=pa),Ku}static _fromIdTokenResponse(g,m,w=!1){return(0,u.Z)(function*(){const x=new Ue;x.updateFromServerResponse(m);const P=new vt({uid:m.localId,auth:g,stsTokenManager:x,isAnonymous:w});return yield $n(P),P})()}}const hn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,u.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,u.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,u.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function At(v,g,m){return`firebase:${v}:${g}:${m}`}class tr{constructor(g,m,w){this.persistence=g,this.auth=m,this.userKey=w;const{config:x,name:P}=this.auth;this.fullUserKey=At(this.userKey,x.apiKey,P),this.fullPersistenceKey=At("persistence",x.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?vt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,u.Z)(function*(){if(m.persistence===g)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,w="authUser"){return(0,u.Z)(function*(){if(!m.length)return new tr(ie(hn),g,w);const x=(yield Promise.all(m.map(function(){var wt=(0,u.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let P=x[0]||ie(hn);const se=At(w,g.config.apiKey,g.name);let Fe=null;for(const wt of m)try{const Nt=yield wt._get(se);if(Nt){const Rn=vt._fromJSON(g,Nt);wt!==P&&(Fe=Rn),P=wt;break}}catch(Nt){}const rt=x.filter(wt=>wt._shouldAllowMigration);return P._shouldAllowMigration&&rt.length?(P=rt[0],Fe&&(yield P._set(se,Fe.toJSON())),yield Promise.all(m.map(function(){var wt=(0,u.Z)(function*(Nt){if(Nt!==P)try{yield Nt._remove(se)}catch(Rn){}});return function(Nt){return wt.apply(this,arguments)}}())),new tr(P,g,w)):new tr(P,g,w)})()}}function de(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ye(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Q(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Lt(g))return"Blackberry";if(en(g))return"Webos";if(K(g))return"Safari";if((g.includes("chrome/")||Me(g))&&!g.includes("edge/"))return"Chrome";if(gt(g))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Q(v=(0,V.z$)()){return/firefox\//i.test(v)}function K(v=(0,V.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Me(v=(0,V.z$)()){return/crios\//i.test(v)}function Ye(v=(0,V.z$)()){return/iemobile/i.test(v)}function gt(v=(0,V.z$)()){return/android/i.test(v)}function Lt(v=(0,V.z$)()){return/blackberry/i.test(v)}function en(v=(0,V.z$)()){return/webos/i.test(v)}function Gt(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)}function Kn(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Pr(v=(0,V.z$)()){return Gt(v)||gt(v)||en(v)||Lt(v)||/windows phone/i.test(v)||Ye(v)}function mr(v,g=[]){let m;switch(v){case"Browser":m=de((0,V.z$)());break;case"Worker":m=`${de((0,V.z$)())}-${v}`;break;default:m=v}const w=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${w}`}class Da{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const w=P=>new Promise((se,Fe)=>{try{se(g(P))}catch(rt){Fe(rt)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===g)return;const w=[];try{for(const x of m.queue)yield x(g),x.onAbort&&w.push(x.onAbort)}catch(x){w.reverse();for(const P of w)try{P()}catch(se){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x.message})}})()}}class oi{constructor(g,m,w){this.app=g,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ht(this),this.idTokenSubscription=new Ht(this),this.beforeStateQueue=new Da(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,m){var w=this;return m&&(this._popupRedirectResolver=ie(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var x,P;if(!w._deleted&&(w.persistenceManager=yield tr.create(w,g),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(se){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,u.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let P=x,se=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Fe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,rt=null==P?void 0:P._redirectEventId,wt=yield m.tryRedirectSignIn(g);(!Fe||Fe===rt)&&(null==wt?void 0:wt.user)&&(P=wt.user,se=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(se)try{yield m.beforeStateQueue.runMiddleware(P)}catch(Fe){P=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Fe))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var m=this;return(0,u.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(x){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,u.Z)(function*(){try{yield $n(g)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function zt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,u.Z)(function*(){const w=g?(0,V.m9)(g):null;return w&&re(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(g,m=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return g&&re(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(ie(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,m,w){return this.registerStateListener(this.authStateSubscription,g,m,w)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,w){return this.registerStateListener(this.idTokenSubscription,g,m,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var w=this;return(0,u.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const w=g&&ie(g)||m._popupRedirectResolver;re(w,m,"argument-error"),m.redirectPersistenceManager=yield tr.create(m,[ie(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,u.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===g?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,u.Z)(function*(){if(g===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,w,x){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),se=this._isInitialized?Promise.resolve():this._initializationPromise;return re(se,this,"internal-error"),se.then(()=>P(this.currentUser)),"function"==typeof m?g.addObserver(m,w,x):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,u.Z)(function*(){var m;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function He(v){return(0,V.m9)(v)}class Ht{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cn(v,g,m){const w=He(v);re(w._canInitEmulator,w,"emulator-config-failed"),re(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const x=!!(null==m?void 0:m.disableWarnings),P=Zr(g),{host:se,port:Fe}=function ds(v){const g=Zr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const P=x[1];return{host:P,port:Yn(w.substr(P.length+1))}}{const[P,se]=w.split(":");return{host:P,port:Yn(se)}}}(g);w.config.emulator={url:`${P}//${se}${null===Fe?"":`:${Fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:se,port:Fe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function hs(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Zr(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function Yn(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class fn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(g){return ge("not implemented")}_linkToIdToken(g,m){return ge("not implemented")}_getReauthenticationResolver(g){return ge("not implemented")}}function ro(v,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:resetPassword",Wt(v,g))})).apply(this,arguments)}function jt(v,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zo(v,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:update",Wt(v,g))})).apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signInWithPassword",Wt(v,g))})).apply(this,arguments)}function Fs(v,g){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:sendOobCode",Wt(v,g))})).apply(this,arguments)}function or(v,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(v,g){return Fs(v,g)})).apply(this,arguments)}function qc(v,g){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(v,g){return Fs(v,g)})).apply(this,arguments)}function Ai(v,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(v,g){return Fs(v,g)})).apply(this,arguments)}function Gc(v,g){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(v,g){return Fs(v,g)})).apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,g))})).apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signInWithEmailLink",Wt(v,g))})).apply(this,arguments)}class Cl extends fn{constructor(g,m,w,x=null){super("password",w),this._email=g,this._password=m,this._tenantId=x}static _fromEmailAndPassword(g,m){return new Cl(g,m,"password")}static _fromEmailAndCode(g,m,w=null){return new Cl(g,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Ko(v,g){return On.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ls(v,g){return Si.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:Ze(g,"internal-error")}})()}_linkToIdToken(g,m){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return jt(g,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Bh(v,g){return Zc.apply(this,arguments)}(g,{idToken:m,email:w._email,oobCode:w._password});default:Ze(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function nr(v,g){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signInWithIdp",Wt(v,g))})).apply(this,arguments)}class fs extends fn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new fs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):Ze("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x}=m,P=(0,le._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const se=new fs(w,x);return se.idToken=P.idToken||void 0,se.accessToken=P.accessToken||void 0,se.secret=P.secret,se.nonce=P.nonce,se.pendingToken=P.pendingToken||null,se}_getIdTokenResponse(g){return nr(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,nr(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,nr(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,V.xO)(m)}return g}}function tg(v,g){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:sendVerificationCode",Wt(v,g))})).apply(this,arguments)}function Aa(){return(Aa=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,g))})).apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(v,g){const m=yield kn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,g));if(m.temporaryProof)throw er(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const rg={USER_NOT_FOUND:"user-not-found"};function Yc(){return(Yc=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",Wt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),rg)})).apply(this,arguments)}class Qo extends fn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Qo({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Qo({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function ng(v,g){return Aa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function Yo(v,g){return Kc.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ig(v,g){return Yc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:P}=g;return w||m||x||P?new Qo({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:P}):null}}class ps{constructor(g){var m,w,x,P,se,Fe;const rt=(0,V.zd)((0,V.pd)(g)),wt=null!==(m=rt.apiKey)&&void 0!==m?m:null,Nt=null!==(w=rt.oobCode)&&void 0!==w?w:null,Rn=function sg(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=rt.mode)&&void 0!==x?x:null);re(wt&&Nt&&Rn,"argument-error"),this.apiKey=wt,this.operation=Rn,this.code=Nt,this.continueUrl=null!==(P=rt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(se=rt.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(Fe=rt.tenantId)&&void 0!==Fe?Fe:null}static parseLink(g){const m=function jh(v){const g=(0,V.zd)((0,V.pd)(v)).link,m=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||m||g||v}(g);try{return new ps(m)}catch(w){return null}}}let Sa=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Cl._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=ps.parseLink(w);return re(x,"argument-error"),Cl._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Us{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Mi extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Jo extends Mi{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return re("providerId"in m&&"signInMethod"in m,"argument-error"),fs._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return re(g.idToken||g.accessToken,"argument-error"),fs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Jo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Jo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:P,nonce:se,providerId:Fe}=g;if(!w&&!x&&!m&&!P||!Fe)return null;try{return new Jo(Fe)._credential({idToken:m,accessToken:w,nonce:se,pendingToken:P})}catch(rt){return null}}}let Ma=(()=>{class v extends Mi{constructor(){super("facebook.com")}static credential(m){return fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),xa=(()=>{class v extends Mi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return v.credential(w,x)}catch(P){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Hh=(()=>{class v extends Mi{constructor(){super("github.com")}static credential(m){return fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Vs extends fn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return nr(g,this.buildRequest())}_linkToIdToken(g,m){const w=this.buildRequest();return w.idToken=m,nr(g,w)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,nr(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:x,pendingToken:P}=m;return w&&x&&P&&w===x?new Vs(w,P):null}static _create(g,m){return new Vs(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gs extends Us{constructor(g){re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return gs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return gs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Vs.fromJSON(g);return re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:w}=g;if(!m||!w)return null;try{return Vs._create(w,m)}catch(x){return null}}}let Vi=(()=>{class v extends Mi{constructor(){super("twitter.com")}static credential(m,w){return fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return v.credential(w,x)}catch(P){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Jc(v,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signUp",Wt(v,g))})).apply(this,arguments)}class Fr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,w,x=!1){return(0,u.Z)(function*(){const P=yield vt._fromIdTokenResponse(g,w,x),se=Xc(w);return new Fr({user:P,providerId:se,_tokenResponse:w,operationType:m})})()}static _forOperation(g,m,w){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const x=Xc(w);return new Fr({user:g,providerId:x,_tokenResponse:w,operationType:m})})()}}function Xc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ed(v){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(v){var g;const m=He(v);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Fr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Jc(m,{returnSecureToken:!0}),x=yield Fr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Tl extends V.ZR{constructor(g,m,w,x){var P;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Tl.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,m,w,x){return new Tl(g,m,w,x)}}function Dl(v,g,m,w){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Tl._fromErrorAndOperation(v,P,g,w):P})}function xu(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function ms(v,g){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v);yield Bs(!0,m,g);const{providerUserInfo:w}=yield qr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),x=xu(w||[]);return m.providerData=m.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function In(v,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(v,g,m=!1){const w=yield at(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return Fr._forOperation(v,"link",w)})).apply(this,arguments)}function Bs(v,g,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(v,g,m){yield $n(g);const x=!1===v?"provider-already-linked":"no-such-provider";re(xu(g.providerData).has(m)===v,g.auth,x)})).apply(this,arguments)}function Al(v,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(v,g,m=!1){const{auth:w}=v,x="reauthenticate";try{const P=yield at(v,Dl(w,x,g,v),m);re(P.idToken,w,"internal-error");const se=Xt(P.idToken);re(se,w,"internal-error");const{sub:Fe}=se;return re(v.uid===Fe,w,"user-mismatch"),Fr._forOperation(v,x,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ze(w,"user-mismatch"),P}})).apply(this,arguments)}function oo(v,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(v,g,m=!1){const w="signIn",x=yield Dl(v,w,g),P=yield Fr._fromIdTokenResponse(v,w,x);return m||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Sl(v,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(v,g){return oo(He(v),g)})).apply(this,arguments)}function _s(v,g){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v);return yield Bs(!1,m,g.providerId),In(m,g)})).apply(this,arguments)}function Xo(v,g){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(v,g){return Al((0,V.m9)(v),g)})).apply(this,arguments)}function ku(v,g){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(v,g){return kn(v,"POST","/v1/accounts:signInWithCustomToken",Wt(v,g))})).apply(this,arguments)}function js(v,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(v,g){const m=He(v),w=yield ku(m,{token:g,returnSecureToken:!0}),x=yield Fr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Et{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Oa._fromServerResponse(g,m):Ze(g,"internal-error")}}class Oa extends Et{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Oa(m)}}function Na(v,g,m){var w;re((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),re(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(re(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function td(v,g,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v),x={requestType:"PASSWORD_RESET",email:g};m&&Na(w,x,m),yield qc(w,x)})).apply(this,arguments)}function Ou(v,g,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(v,g,m){yield ro((0,V.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function $h(v,g){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(v,g){yield zo((0,V.m9)(v),{oobCode:g})})).apply(this,arguments)}function Yt(v,g){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v),w=yield ro(m,{oobCode:g}),x=w.requestType;switch(re(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(w.mfaInfo,m,"internal-error");default:re(w.email,m,"internal-error")}let P=null;return w.mfaInfo&&(P=Et._fromServerResponse(He(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function Ln(v,g){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(v,g){const{data:m}=yield Yt((0,V.m9)(v),g);return m.email})).apply(this,arguments)}function Ua(v,g,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(v,g,m){const w=He(v),x=yield Jc(w,{returnSecureToken:!0,email:g,password:m}),P=yield Fr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Nu(v,g,m){return Sl((0,V.m9)(v),Sa.credential(g,m))}function Pu(v,g,m){return nd.apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v),x={requestType:"EMAIL_SIGNIN",email:g};re(m.handleCodeInApp,w,"argument-error"),m&&Na(w,x,m),yield Ai(w,x)})).apply(this,arguments)}function rd(v,g){const m=ps.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Va(v,g,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v),x=Sa.credentialWithLink(g,m||pe());return re(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Sl(w,x)})).apply(this,arguments)}function ar(v,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:createAuthUri",Wt(v,g))})).apply(this,arguments)}function Fu(v,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(v,g){const w={identifier:g,continueUri:je()?pe():"http://localhost"},{signinMethods:x}=yield ar((0,V.m9)(v),w);return x||[]})).apply(this,arguments)}function ys(v,g){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(v,g){const m=(0,V.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Na(m.auth,x,g);const{email:P}=yield or(m.auth,x);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function id(v,g,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&Na(w.auth,P,m);const{email:se}=yield Gc(w.auth,P);se!==v.email&&(yield v.reload())})).apply(this,arguments)}function sd(v,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ml(v,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const w=(0,V.m9)(v),P={idToken:yield w.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},se=yield at(w,sd(w.auth,P));w.displayName=se.displayName||null,w.photoURL=se.photoUrl||null;const Fe=w.providerData.find(({providerId:rt})=>"password"===rt);Fe&&(Fe.displayName=w.displayName,Fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(se)})).apply(this,arguments)}function Lu(v,g){return xl((0,V.m9)(v),g,null)}function ag(v,g){return xl((0,V.m9)(v),null,g)}function xl(v,g,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(v,g,m){const{auth:w}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),m&&(P.password=m);const se=yield at(v,jt(w,P));yield v._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class uo{constructor(g,m,w={}){this.isNewUser=g,this.providerId=m,this.profile=w}}class od extends uo{constructor(g,m,w,x){super(g,m,w),this.username=x}}class qh extends uo{constructor(g,m){super(g,"facebook.com",m)}}class ta extends od{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ns extends uo{constructor(g,m){super(g,"google.com",m)}}class Gh extends od{constructor(g,m,w){super(g,"twitter.com",m,w)}}function vr(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Uu(v){var g,m;if(!v)return null;const{providerId:w}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const se=null===(m=null===(g=Xt(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(se)return new uo(P,"anonymous"!==se&&"custom"!==se?se:null)}if(!w)return null;switch(w){case"facebook.com":return new qh(P,x);case"github.com":return new ta(P,x);case"google.com":return new ns(P,x);case"twitter.com":return new Gh(P,x,v.screenName||null);case"custom":case"anonymous":return new uo(P,null);default:return new uo(P,w,x)}}(m)}class bs{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new bs("enroll",g)}static _fromMfaPendingCredential(g){return new bs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,w;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return bs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return bs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class qa{constructor(g,m,w){this.session=g,this.hints=m,this.signInResolver=w}static _fromError(g,m){const w=He(g),x=m.customData._serverResponse,P=(x.mfaInfo||[]).map(Fe=>Et._fromServerResponse(w,Fe));re(x.mfaPendingCredential,w,"internal-error");const se=bs._fromMfaPendingCredential(x.mfaPendingCredential);return new qa(se,P,function(){var Fe=(0,u.Z)(function*(rt){const wt=yield rt._process(w,se);delete x.mfaInfo,delete x.mfaPendingCredential;const Nt=Object.assign(Object.assign({},x),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(m.operationType){case"signIn":const Rn=yield Fr._fromIdTokenResponse(w,m.operationType,Nt);return yield w._updateCurrentUser(Rn.user),Rn;case"reauthenticate":return re(m.user,w,"internal-error"),Fr._forOperation(m.user,m.operationType,Nt);default:Ze(w,"internal-error")}});return function(rt){return Fe.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,u.Z)(function*(){return m.signInResolver(g)})()}}function Rl(v,g){var m;const w=(0,V.m9)(v),x=g;return re(g.customData.operationType,w,"argument-error"),re(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),qa._fromError(w,x)}function br(v,g){return rn(v,"POST","/v2/accounts/mfaEnrollment:start",Wt(v,g))}class na{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Et._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new na(g)}getSession(){var g=this;return(0,u.Z)(function*(){return bs._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var w=this;return(0,u.Z)(function*(){const x=g,P=yield w.getSession(),se=yield at(w.user,x._process(w.user.auth,P,m));return yield w.user._updateTokensIfNecessary(se),w.user.reload()})()}unenroll(g){var m=this;return(0,u.Z)(function*(){const w="string"==typeof g?g:g.uid,x=yield m.user.getIdToken(),P=yield at(m.user,function co(v,g){return rn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(v,g))}(m.user.auth,{idToken:x,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:se})=>se!==w),yield m.user._updateTokensIfNecessary(P);try{yield m.user.reload()}catch(se){if("auth/user-token-expired"!==se.code)throw se}})()}}const ld=new WeakMap;function ud(v){const g=(0,V.m9)(v);return ld.has(g)||ld.set(g,na._fromUser(g)),ld.get(g)}const rs="__sak";class ra{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const nt=(()=>{class v extends ra{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cd(){const v=(0,V.z$)();return K(v)||Gt(v)}()&&function Xi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),P=this.localCache[w];x!==P&&m(w,P,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Fe,rt,wt)=>{this.notifyListeners(Fe,wt)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(x);if(m.newValue!==Fe)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const P=()=>{const Fe=this.storage.getItem(x);!w&&this.localCache[x]===Fe||this.notifyListeners(x,Fe)},se=this.storage.getItem(x);!function Zt(){return(0,V.w1)()&&10===document.documentMode}()||se===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const P of Array.from(x))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,P=this;return(0,u.Z)(function*(){yield x().call(P,m,w),P.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,u.Z)(function*(){const P=yield w().call(x,m);return x.localCache[m]=JSON.stringify(P),P})()}_remove(m){var w=()=>super._remove,x=this;return(0,u.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),xn=(()=>{class v extends ra{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let Vu=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(P=>P.isListeningto(m));if(w)return w;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,u.Z)(function*(){const x=m,{eventId:P,eventType:se,data:Fe}=x.data,rt=w.handlersMap[se];if(!(null==rt?void 0:rt.size))return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:se});const wt=Array.from(rt).map(function(){var Rn=(0,u.Z)(function*(as){return as(x.origin,Fe)});return function(as){return Rn.apply(this,arguments)}}()),Nt=yield function Ur(v){return Promise.all(v.map(function(){var g=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return g.apply(this,arguments)}}()))}(wt);x.ports[0].postMessage({status:"done",eventId:P,eventType:se,response:Nt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ia(v="",g=10){let m="";for(let w=0;w<g;w++)m+=Math.floor(10*Math.random());return v+m}class sa{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,w=50){var x=this;return(0,u.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let se,Fe;return new Promise((rt,wt)=>{const Nt=ia("",20);P.port1.start();const Rn=setTimeout(()=>{wt(new Error("unsupported_event"))},w);Fe={messageChannel:P,onMessage(as){const Ys=as;if(Ys.data.eventId===Nt)switch(Ys.data.status){case"ack":clearTimeout(Rn),se=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),rt(Ys.data.response);break;default:clearTimeout(Rn),clearTimeout(se),wt(new Error("invalid_response"))}}},x.handlers.add(Fe),P.port1.addEventListener("message",Fe.onMessage),x.target.postMessage({eventType:g,eventId:Nt,data:m},[P.port2])}).finally(()=>{Fe&&x.removeMessageHandler(Fe)})})()}}function zn(){return window}function fo(){return void 0!==zn().WorkerGlobalScope&&"function"==typeof zn().importScripts}function It(){return(It=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Ol="firebaseLocalStorageDb",An="firebaseLocalStorage",Nl="fbase_key";class ws{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function po(v,g){return v.transaction([An],g?"readwrite":"readonly").objectStore(An)}function ci(){const v=indexedDB.open(Ol,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(An,{keyPath:Nl})}catch(x){m(x)}}),v.addEventListener("success",(0,u.Z)(function*(){const w=v.result;w.objectStoreNames.contains(An)?g(w):(w.close(),yield function ui(){const v=indexedDB.deleteDatabase(Ol);return new ws(v).toPromise()}(),g(yield ci()))}))})}function qs(v,g,m){return go.apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(v,g,m){const w=po(v,!0).put({[Nl]:g,value:m});return new ws(w).toPromise()})).apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(v,g){const m=po(v,!1).get(g),w=yield new ws(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function aa(v,g){const m=po(v,!0).delete(g);return new ws(m).toPromise()}const zs=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield ci()),m.db})()}_withRetries(m){var w=this;return(0,u.Z)(function*(){let x=0;for(;;)try{const P=yield w._openDb();return yield m(P)}catch(P){if(x++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return fo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Vu._getInstance(function hd(){return fo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(x,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(x,P){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function Es(){return It.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new sa(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=P[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function dd(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ci();return yield qs(m,rs,"1"),yield aa(m,rs),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(P=>qs(P,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,u.Z)(function*(){const x=yield w._withRetries(P=>function oa(v,g){return Gs.apply(this,arguments)}(P,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(x=>aa(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const w=yield m._withRetries(se=>{const Fe=po(se,!1).getAll();return new ws(Fe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:se,value:Fe}of w)P.add(se),JSON.stringify(m.localCache[se])!==JSON.stringify(Fe)&&(m.notifyListeners(se,Fe),x.push(se));for(const se of Object.keys(m.localCache))m.localCache[se]&&!P.has(se)&&(m.notifyListeners(se,null),x.push(se));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const P of Array.from(x))P(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Pl(v,g){return rn(v,"POST","/v2/accounts/mfaSignIn:start",Wt(v,g))}function la(){return(la=(0,u.Z)(function*(v){return(yield rn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function is(v){return new Promise((g,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=g,w.onerror=x=>{const P=Ne("internal-error");P.customData=x,m(P)},w.type="text/javascript",w.charset="UTF-8",function rr(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(w)})}function di(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Er=1e12;class os{constructor(g){this.auth=g,this.counter=Er,this._widgets=new Map}render(g,m){const w=this.counter;return this._widgets.set(w,new Un(g,this.auth.name,m||{})),this.counter++,w}reset(g){var m;const w=g||Er;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Er))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,u.Z)(function*(){var w;return null===(w=m._widgets.get(g||Er))||void 0===w||w.execute(),""})()}}class Un{constructor(g,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;re(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function za(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _o=di("rcb"),Vn=new Je(3e4,6e4);class dg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zn().grecaptcha}load(g,m=""){return re(function T_(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(zn().grecaptcha):new Promise((w,x)=>{const P=zn().setTimeout(()=>{x(Ne(g,"network-request-failed"))},Vn.get());zn()[_o]=()=>{zn().clearTimeout(P),delete zn()[_o];const Fe=zn().grecaptcha;if(!Fe)return void x(Ne(g,"internal-error"));const rt=Fe.render;Fe.render=(wt,Nt)=>{const Rn=rt(wt,Nt);return this.counter++,Rn},this.hostLanguage=m,w(Fe)},is(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:_o,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),x(Ne(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!zn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ua{load(g){return(0,u.Z)(function*(){return new os(g)})()}clearedOneInstance(){}}const wr="recaptcha",pd={theme:"light",type:"image"};class Ks{constructor(g,m=Object.assign({},pd),w){this.parameters=m,this.type=wr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=He(w),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;re(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ua:new dg,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(m)||new Promise(P=>{const se=Fe=>{!Fe||(g.tokenChangeListeners.delete(se),P(Fe))};g.tokenChangeListeners.add(se),g.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof g)g(m);else if("string"==typeof g){const w=zn()[g];"function"==typeof w&&w(m)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){re(je()&&!fo(),g.auth,"internal-error"),yield function yo(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function mo(v){return la.apply(this,arguments)}(g.auth);re(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ca{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Qo._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Qn(v,g,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(v,g,m){const w=He(v),x=yield hi(w,g,(0,V.m9)(m));return new ca(x,P=>Sl(w,P))})).apply(this,arguments)}function Ka(v,g,m){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v);yield Bs(!1,w,"phone");const x=yield hi(w.auth,g,(0,V.m9)(m));return new ca(x,P=>_s(w,P))})).apply(this,arguments)}function Kh(v,g,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v),x=yield hi(w.auth,g,(0,V.m9)(m));return new ca(x,P=>Xo(w,P))})).apply(this,arguments)}function hi(v,g,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(v,g,m){var w;const x=yield m.verify();try{let P;if(re("string"==typeof x,v,"argument-error"),re(m.type===wr,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const se=P.session;if("phoneNumber"in P)return re("enroll"===se.type,v,"internal-error"),(yield br(v,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{re("signin"===se.type,v,"internal-error");const Fe=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return re(Fe,v,"missing-multi-factor-info"),(yield Pl(v,{mfaPendingCredential:se.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield tg(v,{phoneNumber:P.phoneNumber,recaptchaToken:x});return se}}finally{m._reset()}})).apply(this,arguments)}function da(v,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(v,g){yield In((0,V.m9)(v),g)})).apply(this,arguments)}let Fl=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=He(m)}verifyPhoneNumber(m,w){return hi(this.auth,m,(0,V.m9)(w))}static credential(m,w){return Qo._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?Qo._fromTokenResponse(w,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Cs(v,g){return g?ie(g):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ya extends fn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return nr(g,this._buildIdpRequest())}_linkToIdToken(g,m){return nr(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return nr(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Bu(v){return oo(v.auth,new Ya(v),v.bypassAuthState)}function $t(v){const{auth:g,user:m}=v;return re(m,g,"internal-error"),Al(m,new Ya(v),v.bypassAuthState)}function Ll(v){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(v){const{auth:g,user:m}=v;return re(m,g,"internal-error"),In(m,new Ya(v),v.bypassAuthState)})).apply(this,arguments)}class Ul{constructor(g,m,w,x,P=!1){this.auth=g,this.resolver=w,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,u.Z)(function*(w,x){g.pendingPromise={resolve:w,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:P,tenantId:se,error:Fe,type:rt}=g;if(Fe)return void m.reject(Fe);const wt={auth:m.auth,requestUri:w,sessionId:x,tenantId:se||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(rt)(wt))}catch(Nt){m.reject(Nt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Bu;case"linkViaPopup":case"linkViaRedirect":return Ll;case"reauthViaPopup":case"reauthViaRedirect":return $t;default:Ze(this.auth,"internal-error")}}resolve(g){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Eo=new Je(2e3,1e4);function D_(v,g,m){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,u.Z)(function*(v,g,m){const w=He(v);Ie(v,g,Us);const x=Cs(w,m);return new jl(w,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function Yh(v,g,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v);Ie(w.auth,g,Us);const x=Cs(w.auth,m);return new jl(w.auth,"reauthViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}function ju(v,g,m){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v);Ie(w.auth,g,Us);const x=Cs(w.auth,m);return new jl(w.auth,"linkViaPopup",g,x,w).executeNotNull()})).apply(this,arguments)}let jl=(()=>{class v extends Ul{constructor(m,w,x,P,se){super(m,w,P,se),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const w=yield m.execute();return re(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,u.Z)(function*(){Te(1===m.filter.length,"Popup operations only handle one event");const w=ia();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Ne(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Eo.get())};m()}}return v.currentPopupAction=null,v})();const Nn=new Map;class ir extends Ul{constructor(g,m,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,u.Z)(function*(){let w=Nn.get(m.auth._key());if(!w){try{const P=(yield function hg(v,g){return ha.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;w=()=>Promise.resolve(P)}catch(x){w=()=>Promise.reject(x)}Nn.set(m.auth._key(),w)}return m.bypassAuthState||Nn.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(w,g);if("unknown"!==g.type){if(g.eventId){const x=yield w.auth._redirectUserForId(g.eventId);if(x)return w.user=x,m().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ha(){return(ha=(0,u.Z)(function*(v,g){const m=T(g),w=I(v);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function Co(v,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(v,g){return I(v)._set(T(g),"true")})).apply(this,arguments)}function Qh(){Nn.clear()}function Hu(v,g){Nn.set(v._key(),g)}function I(v){return ie(v._redirectPersistence)}function T(v){return At("pendingRedirect",v.config.apiKey,v.name)}function k(v,g,m){return function U(v,g,m){return X.apply(this,arguments)}(v,g,m)}function X(){return(X=(0,u.Z)(function*(v,g,m){const w=He(v);Ie(v,g,Us);const x=Cs(w,m);return yield Co(x,w),x._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function ee(v,g,m){return function xe(v,g,m){return ot.apply(this,arguments)}(v,g,m)}function ot(){return(ot=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v);Ie(w.auth,g,Us);const x=Cs(w.auth,m);yield Co(x,w.auth);const P=yield Is(w);return x._openRedirect(w.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function Ct(v,g,m){return function St(v,g,m){return qt.apply(this,arguments)}(v,g,m)}function qt(){return(qt=(0,u.Z)(function*(v,g,m){const w=(0,V.m9)(v);Ie(w.auth,g,Us);const x=Cs(w.auth,m);yield Bs(!1,w,g.providerId),yield Co(x,w.auth);const P=yield Is(w);return x._openRedirect(w.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function Ot(v,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,u.Z)(function*(v,g){return yield He(v)._initializationPromise,jn(v,g,!1)})).apply(this,arguments)}function jn(v,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(v,g,m=!1){const w=He(v),x=Cs(w,g),se=yield new ir(w,x,m).execute();return se&&!m&&(delete se.user._redirectEventId,yield w._persistUserIfCurrent(se.user),yield w._setRedirectUser(null,g)),se})).apply(this,arguments)}function Is(v){return ji.apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(v){const g=ia(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Ts{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(m=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function qu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $u(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var w;if(g.error&&!$u(g)){const x=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ne(this.auth,x))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const w=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(To(g))}saveEventToCache(g){this.cachedEventUids.add(To(g)),this.lastProcessedEventTime=Date.now()}}function To(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function $u({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Jh(v){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,u.Z)(function*(v,g={}){return rn(v,"GET","/v1/projects",g)})).apply(this,arguments)}const A_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Do=/^https?/;function ef(){return(ef=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Jh(v);for(const m of g)try{if(u0(m))return}catch(w){}Ze(v,"unauthorized-domain")})).apply(this,arguments)}function u0(v){const g=pe(),{protocol:m,hostname:w}=new URL(g);if(v.startsWith("chrome-extension://")){const se=new URL(v);return""===se.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&se.hostname===w}if(!Do.test(m))return!1;if(A_.test(v))return w===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const fg=new Je(3e4,6e4);function pg(){const v=zn().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Hl=null;function tf(v){return Hl=Hl||function S_(v){return new Promise((g,m)=>{var w,x,P;function se(){pg(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{pg(),m(Ne(v,"network-request-failed"))},timeout:fg.get()})}if(null===(x=null===(w=zn().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)g(gapi.iframes.getContext());else{if(!(null===(P=zn().gapi)||void 0===P?void 0:P.load)){const Fe=di("iframefcb");return zn()[Fe]=()=>{gapi.load?se():m(Ne(v,"network-request-failed"))},is(`https://apis.google.com/js/api.js?onload=${Fe}`).catch(rt=>m(rt))}se()}}).catch(g=>{throw Hl=null,g})}(v),Hl}const Ao=new Je(5e3,15e3),Qa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $l(v){const g=v.config;re(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?mn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:v.name,v:O.SDK_VERSION},x=M_.get(v.config.apiHost);x&&(w.eid=x);const P=v._getFrameworks();return P.length&&(w.fw=P.join(",")),`${m}?${(0,V.xO)(w).slice(1)}`}function ql(){return ql=(0,u.Z)(function*(v){const g=yield tf(v),m=zn().gapi;return re(m,v,"internal-error"),g.open({where:document.body,url:$l(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qa,dontclear:!0},w=>new Promise(function(){var x=(0,u.Z)(function*(P,se){yield w.restyle({setHideOnLeave:!1});const Fe=Ne(v,"network-request-failed"),rt=zn().setTimeout(()=>{se(Fe)},Ao.get());function wt(){zn().clearTimeout(rt),P(w)}w.ping(wt).then(wt,()=>{se(Fe)})});return function(P,se){return x.apply(this,arguments)}}()))}),ql.apply(this,arguments)}const Gl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _d{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Ds(v,g,m,w,x,P){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const se={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:O.SDK_VERSION,eventId:x};if(g instanceof Us){g.setDefaultLanguage(v.languageCode),se.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(se.customParameters=JSON.stringify(g.getCustomParameters()));for(const[rt,wt]of Object.entries(P||{}))se[rt]=wt}if(g instanceof Mi){const rt=g.getScopes().filter(wt=>""!==wt);rt.length>0&&(se.scopes=rt.join(","))}v.tenantId&&(se.tid=v.tenantId);const Fe=se;for(const rt of Object.keys(Fe))void 0===Fe[rt]&&delete Fe[rt];return`${function xo({config:v}){return v.emulator?mn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,V.xO)(Fe).slice(1)}`}const fa="webStorageSupport",af=class sf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=jn,this._overrideRedirectResult=Hu}_openPopup(g,m,w,x){var P=this;return(0,u.Z)(function*(){var se;Te(null===(se=P.eventManagers[g._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const Fe=Ds(g,m,w,pe(),x);return function R_(v,g,m,w=500,x=600){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),se=Math.max((window.screen.availWidth-w)/2,0).toString();let Fe="";const rt=Object.assign(Object.assign({},Gl),{width:w.toString(),height:x.toString(),top:P,left:se}),wt=(0,V.z$)().toLowerCase();m&&(Fe=Me(wt)?"_blank":m),Q(wt)&&(g=g||"http://localhost",rt.scrollbars="yes");const Nt=Object.entries(rt).reduce((as,[Ys,df])=>`${as}${Ys}=${df},`,"");if(function si(v=(0,V.z$)()){var g;return Gt(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(wt)&&"_self"!==Fe)return function Zu(v,g){const m=document.createElement("a");m.href=v,m.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(g||"",Fe),new _d(null);const Rn=window.open(g||"",Fe,Nt);re(Rn,v,"popup-blocked");try{Rn.focus()}catch(as){}return new _d(Rn)}(g,Fe,ia())})()}_openRedirect(g,m,w,x){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(g),function ho(v){zn().location.href=v}(Ds(g,m,w,pe(),x)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:x,promise:P}=this.eventManagers[m];return x?Promise.resolve(x):(Te(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(g);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(g){var m=this;return(0,u.Z)(function*(){const w=yield function x_(v){return ql.apply(this,arguments)}(g),x=new Ts(g);return w.register("authEvent",P=>(re(null==P?void 0:P.authEvent,g,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:x},m.iframes[g._key()]=w,x})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(fa,{type:fa},x=>{var P;const se=null===(P=null==x?void 0:x[0])||void 0===P?void 0:P[fa];void 0!==se&&m(!!se),Ze(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gu(v){return ef.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Pr()||K()||Gt()}};class lf extends class gg{constructor(g){this.factorId=g}_process(g,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,w);case"signin":return this._finalizeSignIn(g,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new lf(g)}_finalizeEnroll(g,m,w){return function zh(v,g){return rn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(v,g))}(g,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function lr(v,g){return rn(v,"POST","/v2/accounts/mfaSignIn:finalize",Wt(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let uf=(()=>{class v{constructor(){}static assertion(m){return lf._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var cf="@firebase/auth";class N_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(w=>{var x;g((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function c0(v=(0,O.getApp)()){const g=(0,O._getProvider)(v,"auth");return g.isInitialized()?g.getImmediate():function ae(v,g){const m=(0,O._getProvider)(v,"auth");if(m.isInitialized()){const x=m.getImmediate(),P=m.getOptions();if((0,V.vZ)(P,null!=g?g:{}))return x;Ze(x,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:af,persistence:[zs,nt,xn]})}!function yd(v){(0,O._registerComponent)(new ve.wA("auth",(g,{options:m})=>{const w=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:P,authDomain:se}=w.options;return((Fe,rt)=>{re(P&&!P.includes(":"),"invalid-api-key",{appName:Fe.name}),re(!(null==se?void 0:se.includes(":")),"argument-error",{appName:Fe.name});const wt={apiKey:P,authDomain:se,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(v)},Nt=new oi(Fe,rt,wt);return function Ee(v,g){const m=(null==g?void 0:g.persistence)||[],w=(Array.isArray(m)?m:[m]).map(ie);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Nt,m),Nt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,w)=>{g.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ve.wA("auth-internal",g=>{const m=He(g.getProvider("auth").getImmediate());return new N_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(cf,"0.20.1",function _g(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,O.registerVersion)(cf,"0.20.1","esm2017")}("Browser")},2090:(st,Ce,N)=>{N.d(Ce,{$s:()=>Kt,BH:()=>We,G6:()=>re,L:()=>ce,LL:()=>pe,Mn:()=>Ie,Sg:()=>Oe,UG:()=>_e,US:()=>ve,ZB:()=>H,ZR:()=>Ee,b$:()=>Ze,d:()=>Ne,eu:()=>Te,hl:()=>ge,jU:()=>Se,m9:()=>_n,ne:()=>Qi,pd:()=>Ui,r3:()=>Wt,ru:()=>ze,tV:()=>be,uI:()=>Ge,vZ:()=>Or,w1:()=>Pe,xO:()=>Yi,xb:()=>Sn,z$:()=>Be,zI:()=>J,zd:()=>Ii});const le=function(j){const W=[];let Y=0;for(let we=0;we<j.length;we++){let q=j.charCodeAt(we);q<128?W[Y++]=q:q<2048?(W[Y++]=q>>6|192,W[Y++]=63&q|128):55296==(64512&q)&&we+1<j.length&&56320==(64512&j.charCodeAt(we+1))?(q=65536+((1023&q)<<10)+(1023&j.charCodeAt(++we)),W[Y++]=q>>18|240,W[Y++]=q>>12&63|128,W[Y++]=q>>6&63|128,W[Y++]=63&q|128):(W[Y++]=q>>12|224,W[Y++]=q>>6&63|128,W[Y++]=63&q|128)}return W},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,W){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let q=0;q<j.length;q+=3){const ne=j[q],Ue=q+1<j.length,tt=Ue?j[q+1]:0,vt=q+2<j.length,Bt=vt?j[q+2]:0;let tr=(15&tt)<<2|Bt>>6,de=63&Bt;vt||(de=64,Ue||(tr=64)),we.push(Y[ne>>2],Y[(3&ne)<<4|tt>>4],Y[tr],Y[de])}return we.join("")},encodeString(j,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(j):this.encodeByteArray(le(j),W)},decodeString(j,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(j):function(j){const W=[];let Y=0,we=0;for(;Y<j.length;){const q=j[Y++];if(q<128)W[we++]=String.fromCharCode(q);else if(q>191&&q<224){const ne=j[Y++];W[we++]=String.fromCharCode((31&q)<<6|63&ne)}else if(q>239&&q<365){const vt=((7&q)<<18|(63&j[Y++])<<12|(63&j[Y++])<<6|63&j[Y++])-65536;W[we++]=String.fromCharCode(55296+(vt>>10)),W[we++]=String.fromCharCode(56320+(1023&vt))}else{const ne=j[Y++],Ue=j[Y++];W[we++]=String.fromCharCode((15&q)<<12|(63&ne)<<6|63&Ue)}}return W.join("")}(this.decodeStringToByteArray(j,W))},decodeStringToByteArray(j,W){this.init_();const Y=W?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let q=0;q<j.length;){const ne=Y[j.charAt(q++)],tt=q<j.length?Y[j.charAt(q)]:0;++q;const Bt=q<j.length?Y[j.charAt(q)]:64;++q;const At=q<j.length?Y[j.charAt(q)]:64;if(++q,null==ne||null==tt||null==Bt||null==At)throw Error();we.push(ne<<2|tt>>4),64!==Bt&&(we.push(tt<<4&240|Bt>>2),64!==At&&we.push(Bt<<6&192|At))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ce=function(j){return function(j){const W=le(j);return ve.encodeByteArray(W,!0)}(j).replace(/\./g,"")},be=function(j){try{return ve.decodeString(j,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function H(j,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return W}for(const Y in W)!W.hasOwnProperty(Y)||!oe(Y)||(j[Y]=H(j[Y],W[Y]));return j}function oe(j){return"__proto__"!==j}class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Y)=>{this.resolve=W,this.reject=Y})}wrapCallback(W){return(Y,we)=>{Y?this.reject(Y):this.resolve(we),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Y):W(Y,we))}}}function Oe(j,W){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=W||"demo-project",q=j.iat||0,ne=j.sub||j.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:q,exp:q+3600,auth_time:q,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ue)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Se(){return"object"==typeof self&&self.self===self}function ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Be().indexOf("Electron/")>=0}function Pe(){const j=Be();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ie(){return Be().indexOf("MSAppHost/")>=0}function re(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){return"object"==typeof indexedDB}function Te(){return new Promise((j,W)=>{try{let Y=!0;const we="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(we);q.onsuccess=()=>{q.result.close(),Y||self.indexedDB.deleteDatabase(we),j(!0)},q.onupgradeneeded=()=>{Y=!1},q.onerror=()=>{var ne;W((null===(ne=q.error)||void 0===ne?void 0:ne.message)||"")}}catch(Y){W(Y)}})}function J(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ee extends Error{constructor(W,Y,we){super(Y),this.code=W,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(W,Y,we){this.service=W,this.serviceName=Y,this.errors=we}create(W,...Y){const we=Y[0]||{},q=`${this.service}/${W}`,ne=this.errors[W],Ue=ne?function je(j,W){return j.replace(yt,(Y,we)=>{const q=W[we];return null!=q?String(q):`<${we}?>`})}(ne,we):"Error";return new Ee(q,`${this.serviceName}: ${Ue} (${q}).`,we)}}const yt=/\{\$([^}]+)}/g;function Wt(j,W){return Object.prototype.hasOwnProperty.call(j,W)}function Sn(j){for(const W in j)if(Object.prototype.hasOwnProperty.call(j,W))return!1;return!0}function Or(j,W){if(j===W)return!0;const Y=Object.keys(j),we=Object.keys(W);for(const q of Y){if(!we.includes(q))return!1;const ne=j[q],Ue=W[q];if(kn(ne)&&kn(Ue)){if(!Or(ne,Ue))return!1}else if(ne!==Ue)return!1}for(const q of we)if(!Y.includes(q))return!1;return!0}function kn(j){return null!==j&&"object"==typeof j}function Yi(j){const W=[];for(const[Y,we]of Object.entries(j))Array.isArray(we)?we.forEach(q=>{W.push(encodeURIComponent(Y)+"="+encodeURIComponent(q))}):W.push(encodeURIComponent(Y)+"="+encodeURIComponent(we));return W.length?"&"+W.join("&"):""}function Ii(j){const W={};return j.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[q,ne]=we.split("=");W[decodeURIComponent(q)]=decodeURIComponent(ne)}}),W}function Ui(j){const W=j.indexOf("?");if(!W)return"";const Y=j.indexOf("#",W);return j.substring(W,Y>0?Y:void 0)}function Qi(j,W){const Y=new bt(j,W);return Y.subscribe.bind(Y)}class bt{constructor(W,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{W(this)}).catch(we=>{this.error(we)})}next(W){this.forEachObserver(Y=>{Y.next(W)})}error(W){this.forEachObserver(Y=>{Y.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Y,we){let q;if(void 0===W&&void 0===Y&&void 0===we)throw new Error("Missing Observer.");q=function Dn(j,W){if("object"!=typeof j||null===j)return!1;for(const Y of W)if(Y in j&&"function"==typeof j[Y])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Y,complete:we},void 0===q.next&&(q.next=sn),void 0===q.error&&(q.error=sn),void 0===q.complete&&(q.complete=sn);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Ue){}}),this.observers.push(q),ne}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,W)}sendOne(W,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Y(this.observers[W])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}function Kt(j,W=1e3,Y=2){const we=W*Math.pow(Y,j),q=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+q)}function _n(j){return j&&j._delegate?j._delegate:j}},8189:(st,Ce,N)=>{var u=N(5e3);let V=null;function O(){return V}const fe=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return(0,u.LFG)(H)}()},providedIn:"platform"}),n})();const z=new u.OlP("Location Initialized");let H=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){oe()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){oe()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function We(){return new H((0,u.LFG)(fe))}()},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Se(n){const e=(0,u.LFG)(fe).location;return new Ze((0,u.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const ze=new u.OlP("appBaseHref");let Ze=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ge(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+Ge(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+Ge(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(ze,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Oe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+Ge(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+Ge(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(ze,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Be(re(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ge(r))}normalize(t){return n.stripTrailingSlash(function Ke(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=Oe,n.stripTrailingSlash=Be,n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ie(){return new Pe((0,u.LFG)(_e),(0,u.LFG)(ce))}()},providedIn:"root"}),n})();function re(n){return n.replace(/\/index.html$/,"")}class Ko{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ko(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,d),Fs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Fs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Fs(n,e){n.context.$implicit=e.item}let or=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function qc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class so{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ai=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ai=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new so(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ai,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Qc="browser";function Fr(n){return"server"===n}let Tl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Dl((0,u.LFG)(fe),window)}),n})();class Dl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ms(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xu(this.window.history)||xu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function xu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bs extends class Ra extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(n){V||(V=n)}(new Bs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Al(){return vn=vn||document.querySelector("base"),vn?vn.getAttribute("href"):null}();return null==t?null:function oo(n){ka=ka||document.createElement("a"),ka.setAttribute("href",n);const e=ka.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Zo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ka,vn=null;const _r=new u.OlP("TRANSITION_ID"),Gn=[{provide:u.ip1,useFactory:function Sl(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[_r,fe,u.zs3],multi:!0}];class _s{static init(){(0,u.VLi)(new _s)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(_){d=d||_,a--,0==a&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let yr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Xo=new u.OlP("EventManagerPlugins");let es=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ku{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let li=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends li{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Hs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hs))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Hs(n){O().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oa=/%COMP%/g;function Re(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Re(n,i,t):(i=i.replace(Oa,n),t.push(i))}return t}function Yt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ln=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $s(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Nu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Pu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Re(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(es),u.LFG(js),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class $s{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Et[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Et[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Yt(r)):this.eventManager.addEventListener(e,t,Yt(r))}}class Nu extends $s{constructor(e,t,r,i){super(e),this.component=r;const a=Re(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Fa(n){return"_ngcontent-%COMP%".replace(Oa,n)}(i+"-"+r.id),this.hostAttr=function $h(n){return"_nghost-%COMP%".replace(Oa,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Pu extends $s{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Re(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nd=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const rd=["alt","control","meta","shift"],ea={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fu=(()=>{class n extends ku{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if(rd.forEach(_=>{const E=r.indexOf(_);E>-1&&(r.splice(E,1),d+=_+".")}),d+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function ts(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ar.hasOwnProperty(e)&&(e=ar[e]))}return ea[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),rd.forEach(a=>{a!=i&&Bi[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sd=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Qc},{provide:u.g9A,useValue:function ys(){Bs.makeCurrent(),_s.init()},multi:!0},{provide:fe,useFactory:function id(){return(0,u.RDi)(document),document},deps:[]}]),ao=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ba(){return new u.qLn},deps:[]},{provide:Xo,useClass:nd,multi:!0,deps:[fe,u.R0b,u.Lbi]},{provide:Xo,useClass:Fu,multi:!0,deps:[fe]},{provide:Ln,useClass:Ln,deps:[es,js,u.AFp]},{provide:u.FYo,useExisting:Ln},{provide:li,useExisting:js},{provide:js,useClass:js,deps:[fe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:es,useClass:es,deps:[Xo,u.R0b]},{provide:class In{},useClass:yr,deps:[]}];let Ml=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:_r,useExisting:u.AFp},Gn]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ao,imports:[Vs,u.hGG]}),n})();"undefined"!=typeof window&&window;let rs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(cd),r},providedIn:"root"}),n})(),cd=(()=>{class n extends rs{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ra(n){return new cd(n.get(fe))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var En=N(8996),kl=N(7669);function nt(...n){const e=(0,kl.yG)(n);return(0,En.D)(n,e)}var Lr=N(7579);class xn extends Lr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ur=N(8306);const{isArray:Vu}=Array,{getPrototypeOf:ia,prototype:sa,keys:zn}=Object;function ho(n){if(1===n.length){const e=n[0];if(Vu(e))return{args:e,keys:null};if(function fo(n){return n&&"object"==typeof n&&ia(n)===sa}(e)){const t=zn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Es=N(4671),It=N(4004);const{isArray:dd}=Array;function Ol(n){return(0,It.U)(e=>function hd(n,e){return dd(e)?n(...e):n(e)}(n,e))}function fd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var An=N(5403),Nl=N(9672);function ui(n,e,t){n?(0,Nl.f)(t,n,e):e()}var ci=N(576);function qs(n,e){const t=(0,ci.m)(n)?n:()=>n,r=i=>i.error(t());return new Ur.y(e?i=>e.schedule(r,0,i):r)}const oa=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Gs=N(5485);function Ga(...n){return function aa(){return(0,Gs.J)(1)}()((0,En.D)(n,(0,kl.yG)(n)))}var Zs=N(8421);function Za(n){return new Ur.y(e=>{(0,Zs.Xf)(n()).subscribe(e)})}var zs=N(515),Pl=N(727),lr=N(4482);function mo(){return(0,lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,An.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class la extends Ur.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,An.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pl.w0.EMPTY)}return e}refCount(){return mo()(this)}}function rr(n,e){return(0,lr.e)((t,r)=>{let i=null,a=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,An.x)(r,_=>{null==i||i.unsubscribe();let E=0;const D=a++;(0,Zs.Xf)(n(_,D)).subscribe(i=(0,An.x)(r,M=>r.next(e?e(_,M,D,E++):M),()=>{i=null,f()}))},()=>{d=!0,f()}))})}var is=N(5698);function di(...n){const e=(0,kl.yG)(n);return(0,lr.e)((t,r)=>{(e?Ga(n,t,e):Ga(n,t)).subscribe(r)})}function Ws(n,e,t,r,i){return(a,d)=>{let f=t,_=e,E=0;a.subscribe((0,An.x)(d,D=>{const M=E++;_=f?n(_,D,M):(f=!0,D),r&&d.next(_)},i&&(()=>{f&&d.next(_),d.complete()})))}}function ss(n,e){return(0,lr.e)(Ws(n,e,arguments.length>=2,!0))}function Er(n,e){return(0,lr.e)((t,r)=>{let i=0;t.subscribe((0,An.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function os(n){return(0,lr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,An.x)(t,void 0,void 0,d=>{a=(0,Zs.Xf)(n(d,os(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Un=N(5577);function za(n,e){return(0,ci.m)(e)?(0,Un.z)(n,e,1):(0,Un.z)(n,1)}function _o(n){return n<=0?()=>zs.E:(0,lr.e)((e,t)=>{let r=[];e.subscribe((0,An.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vn(n=cg){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,An.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cg(){return new oa}function dg(n){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,An.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ua(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Er((i,a)=>n(i,a,r)):Es.y,(0,is.q)(1),t?dg(e):Vn(()=>new oa))}var wr=N(8505);function pd(n){return(0,lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Ks{constructor(e,t){this.id=e,this.url=t}}class yo extends Ks{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ca extends Ks{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qn extends Ks{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wa extends Ks{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ka extends Ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wh extends Ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kh extends Ks{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vr extends Ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class da{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fl{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ya{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class Ll{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bn(n){return new Ll(n)}const Ul="ngNavigationCancelingError";function Eo(n){const e=Error("NavigationCancelingError: "+n);return e[Ul]=!0,e}function Vl(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Cr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!ju(n[i],e[i]))return!1;return!0}function ju(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Bl(n){return Array.prototype.concat.apply([],n)}function jl(n){return n.length>0?n[n.length-1]:null}function Nn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ir(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,En.D)(Promise.resolve(n)):nt(n)}const ha={exact:function Hu(n,e,t){if(!Ct(n.segments,e.segments)||!U(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Hu(n.children[r],e.children[r],t))return!1;return!0},subset:T},Co={exact:function Qh(n,e){return Cr(n,e)},subset:function I(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ju(n[t],e[t]))},ignored:()=>!0};function Io(n,e,t){return ha[t.paths](n.root,e.root,t.matrixParams)&&Co[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function T(n,e,t){return k(n,e,e.segments,t)}function k(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ct(i,t)||e.hasChildren()||!U(i,t,r))}if(n.segments.length===t.length){if(!Ct(n.segments,t)||!U(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!T(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ct(n.segments,i)&&U(n.segments,i,r)&&n.children[$t])&&k(n.children[$t],e,a,r)}}function U(n,e,t){return e.every((r,i)=>Co[t](n[i].parameters,r.parameters))}class X{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return Wr.serialize(this)}}class ee{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Nn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jn(this)}}class xe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bn(this.parameters)),this._parameterMap}toString(){return qu(this)}}function Ct(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class qt{}class Ot{parse(e){const t=new pg(e);return new X(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${fi(e.root,!0)}`,r=function Xh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ji(t)}=${ji(i)}`).join("&"):`${ji(t)}=${ji(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Hi(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Wr=new Ot;function jn(n){return n.segments.map(e=>qu(e)).join("/")}function fi(n,e){if(!n.hasChildren())return jn(n);if(e){const t=n.children[$t]?fi(n.children[$t],!1):"",r=[];return Nn(n.children,(i,a)=>{a!==$t&&r.push(`${a}:${fi(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function St(n,e){let t=[];return Nn(n.children,(r,i)=>{i===$t&&(t=t.concat(e(r,i)))}),Nn(n.children,(r,i)=>{i!==$t&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===$t?[fi(n.children[$t],!1)]:[`${i}:${fi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${jn(n)}/${t[0]}`:`${jn(n)}/(${t.join("//")})`}}function Is(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ji(n){return Is(n).replace(/%3B/gi,";")}function Ts(n){return Is(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function To(n){return decodeURIComponent(n)}function $u(n){return To(n.replace(/\+/g,"%20"))}function qu(n){return`${Ts(n.path)}${function Jh(n){return Object.keys(n).map(e=>`;${Ts(e)}=${Ts(n[e])}`).join("")}(n.parameters)}`}const A_=/^[^\/()?;=#]+/;function Do(n){const e=n.match(A_);return e?e[0]:""}const Gu=/^[^=?&#]+/,u0=/^[^&#]+/;class pg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$t]=new ee(e,t)),r}parseSegment(){const e=Do(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new xe(To(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Do(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Do(this.remaining);i&&(r=i,this.capture(r))}e[To(t)]=To(r)}parseQueryParam(e){const t=function ef(n){const e=n.match(Gu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function fg(n){const e=n.match(u0);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=$u(t),a=$u(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Do(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=$t);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[$t]:new ee([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class S_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hl(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tf(e,this._root).map(t=>t.value)}}function Hl(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hl(n,t);if(r)return r}return null}function tf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tf(n,t);if(r.length)return r.unshift(e),r}return[]}class Ao{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function So(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gd extends S_{constructor(e,t){super(e),this.snapshot=t,md(this,e)}toString(){return this.snapshot.toString()}}function Qa(n,e){const t=function M_(n,e){const d=new Gl([],{},{},"",{},$t,e,null,n.root,-1,{});return new nf("",new Ao(d,[]))}(n,e),r=new xn([new xe("",{})]),i=new xn({}),a=new xn({}),d=new xn({}),f=new xn(""),_=new $l(r,i,d,f,a,$t,e,t.root);return _.snapshot=t.root,new gd(new Ao(_,[]),t)}class $l{constructor(e,t,r,i,a,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>Bn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>Bn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function x_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function ql(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gl{constructor(e,t,r,i,a,d,f,_,E,D,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nf extends S_{constructor(e,t){super(t),this.url=e,md(this,t)}toString(){return rf(this._root)}}function md(n,e){e.value._routerState=n,e.children.forEach(t=>md(n,t))}function rf(n){const e=n.children.length>0?` { ${n.children.map(rf).join(", ")} } `:"";return`${n.value}${e}`}function Mo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Cr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Cr(e.params,t.params)||n.params.next(t.params),function Yh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Cr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Cr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _d(n,e){const t=Cr(n.params,e.params)&&function ot(n,e){return Ct(n,e)&&n.every((t,r)=>Cr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_d(n.parent,e.parent))}function Zu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function k_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zu(n,r,i);return Zu(n,r)})}(n,e,t);return new Ao(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Zu(n,f)),d}}const r=function O_(n){return new $l(new xn(n.url),new xn(n.params),new xn(n.queryParams),new xn(n.fragment),new xn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Zu(n,a));return new Ao(r,i)}}function xo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fa(n){return"object"==typeof n&&null!=n&&n.outlets}function sf(n,e,t,r,i){let a={};if(r&&Nn(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),n===e)return new X(t,a,i);const d=af(n,e,t);return new X(d,a,i)}function af(n,e,t){const r={};return Nn(n.children,(i,a)=>{r[a]=i===e?t:af(i,e,t)}),new ee(n.segments,r)}class gg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xo(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(fa);if(i&&i!==jl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _g(n,e,t){if(n||(n=new ee([],{})),0===n.segments.length&&n.hasChildren())return yd(n,e,t);const r=function c0(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],f=t[r];if(fa(f))break;const _=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!w(_,E,d))return a;r+=2}else{if(!w(_,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new ee(n.segments.slice(0,r.pathIndex),{});return a.children[$t]=new ee(n.segments.slice(r.pathIndex),n.children),yd(a,0,i)}return r.match&&0===i.length?new ee(n.segments,{}):r.match&&!n.hasChildren()?v(n,e,t):r.match?yd(n,0,i):v(n,e,t)}function yd(n,e,t){if(0===t.length)return new ee(n.segments,{});{const r=function N_(n){return fa(n[0])?n[0].outlets:{[$t]:n}}(t),i={};return Nn(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=_g(n.children[d],e,a))}),Nn(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new ee(n.segments,i)}}function v(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(fa(a)){const _=g(a.outlets);return new ee(r,_)}if(0===i&&xo(t[0])){r.push(new xe(n.segments[e].path,m(t[0]))),i++;continue}const d=fa(a)?a.outlets[$t]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&xo(f)?(r.push(new xe(d,m(f))),i+=2):(r.push(new xe(d,{})),i++)}return new ee(r,{})}function g(n){const e={};return Nn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=v(new ee([],{}),0,t))}),e}function m(n){const e={};return Nn(n,(t,r)=>e[r]=`${t}`),e}function w(n,e,t){return n==t.path&&Cr(e,t.parameters)}class P{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=So(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),Nn(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=So(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=So(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=So(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Ya(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Fl(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Mo(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Mo(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function se(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Fe{constructor(e,t){this.routes=e,this.module=t}}function rt(n){return"function"==typeof n}function Nt(n){return n instanceof X}const zu=Symbol("INITIAL_VALUE");function pa(){return rr(n=>function ws(...n){const e=(0,kl.yG)(n),t=(0,kl.jO)(n),{args:r,keys:i}=ho(n);if(0===r.length)return(0,En.D)([],e);const a=new Ur.y(function po(n,e,t=Es.y){return r=>{ui(e,()=>{const{length:i}=n,a=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)ui(e,()=>{const E=(0,En.D)(n[_],e);let D=!1;E.subscribe((0,An.x)(r,M=>{a[_]=M,D||(D=!0,f--),f||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>fd(i,d):Es.y));return t?a.pipe(Ol(t)):a}(n.map(e=>e.pipe((0,is.q)(1),di(zu)))).pipe(ss((e,t)=>{let r=!1;return t.reduce((i,a,d)=>i!==zu?i:(a===zu&&(r=!0),r||!1!==a&&d!==t.length-1&&!Nt(a)?i:a),e)},zu),Er(e=>e!==zu),(0,It.U)(e=>Nt(e)?e:!0===e),(0,is.q)(1)))}class yg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zl,this.attachRef=null}}class Zl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new yg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Wu=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new vg(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class vg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$l?this.route:e===Zl?this.childContexts:this.parent.get(e,t)}}let vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Wu],encapsulation:2}),n})();function Ja(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];hf(r,ff(e,r))}}function hf(n,e){n.children&&Ja(n.children,e)}function ff(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ku(n){const e=n.children&&n.children.map(Ku),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=vd),t}function ln(n){return n.outlet||$t}function d0(n,e){const t=n.filter(r=>ln(r)===e);return t.push(...n.filter(r=>ln(r)!==e)),t}const h0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},h0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Vl)(t,n,e);if(!a)return Object.assign({},h0);const d={};Nn(a.posParams,(_,E)=>{d[E]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function pf(n,e,t,r,i="corrected"){if(t.length>0&&function BI(n,e,t){return t.some(r=>bg(n,e,r)&&ln(r)!==$t)}(n,t,r)){const d=new ee(e,function VI(n,e,t,r){const i={};i[$t]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ln(a)!==$t){const d=new ee([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ln(a)]=d}return i}(n,e,r,new ee(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function jI(n,e,t){return t.some(r=>bg(n,e,r))}(n,t,r)){const d=new ee(n.segments,function UI(n,e,t,r,i,a){const d={};for(const f of r)if(bg(n,t,f)&&!i[ln(f)]){const _=new ee([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[ln(f)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new ee(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function bg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function HI(n,e,t,r){return!!(ln(n)===r||r!==$t&&bg(e,t,n))&&("**"===n.path||bd(e,n,t).matched)}function $I(n,e,t){return 0===e.length&&!n.children[t]}class zl{constructor(e){this.segmentGroup=e||null}}class xi{constructor(e){this.urlTree=e}}function Yu(n){return qs(new zl(n))}function P_(n){return qs(new xi(n))}class F_{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=pf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ee(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$t).pipe((0,It.U)(a=>this.createUrlTree(L_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(os(a=>{if(a instanceof xi)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof zl?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$t).pipe((0,It.U)(i=>this.createUrlTree(L_(i),e.queryParams,e.fragment))).pipe(os(i=>{throw i instanceof zl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ee([],{[$t]:e}):e;return new X(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(a=>new ee([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,En.D)(i).pipe(za(a=>{const d=r.children[a],f=d0(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,It.U)(_=>({segment:_,outlet:a})))}),ss((a,d)=>(a[d.outlet]=d.segment,a),{}),function T_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Er((i,a)=>n(i,a,r)):Es.y,_o(1),t?dg(e):Vn(()=>new oa))}())}expandSegment(e,t,r,i,a,d){return(0,En.D)(r).pipe(za(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,d).pipe(os(E=>{if(E instanceof zl)return nt(null);throw E}))),ua(f=>!!f),os((f,_)=>{if(f instanceof oa||"EmptyError"===f.name)return $I(t,i,a)?nt(new ee([],{})):Yu(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,d,f){return HI(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):Yu(t):Yu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?P_(a):this.lineralizeSegments(r,a).pipe((0,Un.z)(d=>{const f=new ee(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:f,consumedSegments:_,remainingSegments:E,positionalParamSegments:D}=bd(t,i,a);if(!f)return Yu(t);const M=this.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?P_(M):this.lineralizeSegments(i,M).pipe((0,Un.z)(L=>this.expandSegment(e,t,r,L.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?nt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,It.U)(M=>(r._loadedConfig=M,new ee(i,{})))):nt(new ee(i,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=bd(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Un.z)(D=>{const M=D.module,L=D.routes,{segmentGroup:B,slicedSegments:G}=pf(t,f,_,L),he=new ee(B.segments,B.children);if(0===G.length&&he.hasChildren())return this.expandChildren(M,L,he).pipe((0,It.U)(lt=>new ee(f,lt)));if(0===L.length&&0===G.length)return nt(new ee(f,{}));const ke=ln(r)===a;return this.expandSegment(M,he,L,G,ke?$t:a,!0).pipe((0,It.U)(ht=>new ee(f.concat(ht.segments),ht.children)))})):Yu(t)}getChildConfig(e,t,r){return t.children?nt(new Fe(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?nt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Un.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,It.U)(a=>(t._loadedConfig=a,a))):function Ri(n){return qs(Eo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):nt(new Fe([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?nt(i.map(d=>{const f=e.get(d);let _;if(function Rn(n){return n&&rt(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!rt(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return ir(_)})).pipe(pa(),(0,wr.b)(d=>{if(!Nt(d))return;const f=Eo(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,It.U)(d=>!0===d)):nt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[$t])return qs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[$t]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new X(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Nn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return Nn(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new ee(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function L_(n){const e={};for(const r of Object.keys(n.children)){const a=L_(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function qI(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new ee(n.segments.concat(e.segments),e.children)}return n}(new ee(n.segments,e))}class g0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mf{constructor(e,t){this.component=e,this.route=t}}function GI(n,e,t){const r=n._root;return Qu(r,e?e._root:null,t,[r.value])}function Eg(n,e,t){const r=function ZI(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Qu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=So(e);return n.children.forEach(d=>{(function zI(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const _=function WI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ct(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ct(n.url,e.url)||!Cr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_d(n,e)||!Cr(n.queryParams,e.queryParams);default:return!_d(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new g0(r)):(a.data=d.data,a._resolvedData=d._resolvedData),Qu(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new mf(f.outlet.component,d))}else d&&Ju(e,f,i),i.canActivateChecks.push(new g0(r)),Qu(n,null,a.component?f?f.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),Nn(a,(d,f)=>Ju(d,t.getContext(f),i)),i}function Ju(n,e,t){const r=So(n),i=n.value;Nn(r,(a,d)=>{Ju(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new mf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class _0{}function y0(n){return new Ur.y(e=>e.error(n))}class rT{constructor(e,t,r,i,a,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=pf(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$t);if(null===t)return null;const r=new Gl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ao(r,t),a=new nf(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=x_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const d=t.children[a],f=d0(e,a),_=this.processSegmentGroup(f,d,a);if(null===_)return null;r.push(..._)}const i=v0(r);return function iT(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,r,i);if(null!==d)return d}return $I(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!HI(e,t,r,i))return null;let a,d=[],f=[];if("**"===e.path){const B=r.length>0?jl(r).parameters:{};a=new Gl(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aT(e),ln(e),e.component,e,Xu(t),Ro(t)+r.length,lT(e))}else{const B=bd(t,e,r);if(!B.matched)return null;d=B.consumedSegments,f=B.remainingSegments,a=new Gl(d,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,aT(e),ln(e),e.component,e,Xu(t),Ro(t)+d.length,lT(e))}const _=function sT(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:D}=pf(t,d,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===D.length&&E.hasChildren()){const B=this.processChildren(_,E);return null===B?null:[new Ao(a,B)]}if(0===_.length&&0===D.length)return[new Ao(a,[])];const M=ln(e)===i,L=this.processSegment(_,E,D,M?$t:i);return null===L?null:[new Ao(a,L)]}}function oT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function v0(n){const e=[],t=new Set;for(const r of n){if(!oT(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=v0(r.children);e.push(new Ao(r.value,i))}return e.filter(r=>!t.has(r))}function Xu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ro(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function aT(n){return n.data||{}}function lT(n){return n.resolve||{}}function Cg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ig(n){return rr(e=>{const t=n(e);return t?(0,En.D)(t).pipe((0,It.U)(()=>e)):nt(e)})}class w0 extends class E0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yf=new u.OlP("ROUTES");class Tg{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,It.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new Fe(Bl(d.injector.get(yf,void 0,u.XFs.Self|u.XFs.Optional)).map(Ku),d)}),os(a=>{throw t._loader$=void 0,a}));return t._loader$=new la(i,()=>new Lr.x).pipe(mo()),t._loader$}loadModuleFactory(e){return ir(e()).pipe((0,Un.z)(t=>t instanceof u.YKP?nt(t):(0,En.D)(this.compiler.compileModuleAsync(t))))}}class XM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ed(n){throw n}function V_(n,e,t){return e.parse("/")}function B_(n,e){return nt(null)}const cT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class n{constructor(t,r,i,a,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lr.x,this.errorHandler=Ed,this.malformedUriErrorHandler=V_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:B_,afterPreactivation:B_},this.urlHandlingStrategy=new XM,this.routeReuseStrategy=new w0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const M=d.get(u.R0b);this.isNgZoneEnabled=M instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function hg(){return new X(new ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tg(d,f,L=>this.triggerEvent(new vo(L)),L=>this.triggerEvent(new da(L))),this.routerState=Qa(this.currentUrlTree,this.rootComponentType),this.transitions=new xn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Er(i=>0!==i.id),(0,It.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),rr(i=>{let a=!1,d=!1;return nt(i).pipe((0,wr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rr(f=>{const _=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return I0(f.source)&&(this.browserUrlTree=f.extractedUrl),nt(f).pipe(rr(M=>{const L=this.transitions.getValue();return r.next(new yo(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?zs.E:Promise.resolve(M)}),function p0(n,e,t,r){return rr(i=>function gf(n,e,t,r,i){return new F_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function b0(n,e,t,r,i){return(0,Un.z)(a=>function nT(n,e,t,r,i="emptyOnly",a="legacy"){try{const d=new rT(n,e,t,r,i,a).recognize();return null===d?y0(new _0):nt(d)}catch(d){return y0(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,It.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new Ka(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:G,restoredState:he,extras:ke}=f,ct=new yo(L,this.serializeUrl(B),G,he);r.next(ct);const ht=Qa(B,this.rootComponentType).snapshot;return nt(Object.assign(Object.assign({},f),{targetSnapshot:ht,urlAfterRedirects:B,extras:Object.assign(Object.assign({},ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),zs.E}),Ig(f=>{const{targetSnapshot:_,id:E,extractedUrl:D,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:E,appliedUrlTree:D,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!B})}),(0,wr.b)(f=>{const _=new Wh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,It.U)(f=>Object.assign(Object.assign({},f),{guards:GI(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function KI(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?nt(Object.assign(Object.assign({},t),{guardsResult:!0})):function YI(n,e,t,r){return(0,En.D)(n).pipe((0,Un.z)(i=>function tT(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?nt(a.map(f=>{const _=Eg(f,e,i);let E;if(function df(n){return n&&rt(n.canDeactivate)}(_))E=ir(_.canDeactivate(n,e,t,r));else{if(!rt(_))throw new Error("Invalid CanDeactivate guard");E=ir(_(n,e,t,r))}return E.pipe(ua())})).pipe(pa()):nt(!0)}(i.component,i.route,t,e,r)),ua(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Un.z)(f=>f&&function wt(n){return"boolean"==typeof n}(f)?function wg(n,e,t,r){return(0,En.D)(e).pipe(za(i=>Ga(function JI(n,e){return null!==n&&e&&e(new bo(n)),nt(!0)}(i.route.parent,r),function QI(n,e){return null!==n&&e&&e(new Cs(n)),nt(!0)}(i.route,r),function eT(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function m0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Za(()=>nt(d.guards.map(_=>{const E=Eg(_,d.node,t);let D;if(function Ys(n){return n&&rt(n.canActivateChild)}(E))D=ir(E.canActivateChild(r,n));else{if(!rt(E))throw new Error("Invalid CanActivateChild guard");D=ir(E(r,n))}return D.pipe(ua())})).pipe(pa())));return nt(a).pipe(pa())}(n,i.path,t),function XI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(a=>Za(()=>{const d=Eg(a,e,t);let f;if(function as(n){return n&&rt(n.canActivate)}(d))f=ir(d.canActivate(e,n));else{if(!rt(d))throw new Error("Invalid CanActivate guard");f=ir(d(e,n))}return f.pipe(ua())}));return nt(i).pipe(pa())}(n,i.route,t))),ua(i=>!0!==i,!0))}(r,a,n,e):nt(f)),(0,It.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,wr.b)(f=>{if(Nt(f.guardsResult)){const E=Eo(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw E.url=f.guardsResult,E}const _=new Kh(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Er(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Ig(f=>{if(f.guards.canActivateChecks.length)return nt(f).pipe((0,wr.b)(_=>{const E=new Vr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),rr(_=>{let E=!1;return nt(_).pipe(function JM(n,e){return(0,Un.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let a=0;return(0,En.D)(i).pipe(za(d=>function ga(n,e,t,r){return function U_(n,e,t,r){const i=Cg(n);if(0===i.length)return nt({});const a={};return(0,En.D)(i).pipe((0,Un.z)(d=>function uT(n,e,t,r){const i=Eg(n,e,r);return ir(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,wr.b)(f=>{a[d]=f}))),_o(1),(0,Un.z)(()=>Cg(a).length===i.length?nt(a):zs.E))}(n._resolve,n,e,r).pipe((0,It.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),x_(n,t).resolve),null)))}(d.route,r,n,e)),(0,wr.b)(()=>a++),_o(1),(0,Un.z)(d=>a===i.length?nt(t):zs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,wr.b)(_=>{const E=new hi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),Ig(f=>{const{targetSnapshot:_,id:E,extractedUrl:D,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:E,appliedUrlTree:D,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!B})}),(0,It.U)(f=>{const _=function R_(n,e,t){const r=Zu(n,e._root,t?t._root:void 0);return new gd(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,wr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new P(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,wr.b)({next(){a=!0},complete(){a=!0}}),pd(()=>{var f;a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),os(f=>{if(d=!0,function D_(n){return n&&n[Ul]}(f)){const _=Nt(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const E=new Qn(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(E),_?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||I0(i.source)};this.scheduleNavigation(D,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Wa(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return zs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ja(t),this.config=t.map(Ku),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,E=i||this.routerState.root,D=_?this.currentUrlTree.fragment:d;let M=null;switch(f){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),function Ds(n,e,t,r,i){if(0===t.length)return sf(e.root,e.root,e.root,r,i);const a=function lf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Nn(a.outlets,(_,E)=>{f[E]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new gg(t,e,r)}(t);if(a.toRoot())return sf(e.root,e.root,new ee([],{}),r,i);const d=function cf(n,e,t){if(n.isAbsolute)return new uf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new uf(a,a===e.root,0)}const r=xo(n.commands[0])?0:1;return function mg(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new uf(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=d.processChildren?yd(d.segmentGroup,d.index,a.commands):_g(d.segmentGroup,d.index,a.commands);return sf(e.root,d.segmentGroup,f,r,i)}(E,this.currentUrlTree,t,M,null!=D?D:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Nt(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function dT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},cT):!1===r?Object.assign({},j_):r,Nt(t))return Io(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Io(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ca(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){var f,_;if(this.disposed)return Promise.resolve(!1);let E,D,M;d?(E=d.resolve,D=d.reject,M=d.promise):M=new Promise((G,he)=>{E=G,D=he});const L=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:L,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:E,reject:D,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Qn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function I0(n){return"imperative"!==n}let Xa=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Lr.x,this.subscription=t.events.subscribe(a=>{a instanceof ca&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,d){if(0!==t||r||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:wd(this.skipLocationChange),replaceUrl:wd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kr),u.Y36($l),u.Y36(_e))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function wd(n){return""===n||!!n}class q_{}class D0{preload(e,t){return nt(null)}}let A0=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Tg(i,r,_=>t.triggerEvent(new vo(_)),_=>t.triggerEvent(new da(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Er(t=>t instanceof ca),za(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,En.D)(i).pipe((0,Gs.J)(),(0,It.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?nt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Un.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kr),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(q_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Dg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ca&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Bu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const As=new u.OlP("ROUTER_CONFIGURATION"),Z_=new u.OlP("ROUTER_FORROOT_GUARD"),S0=[Pe,{provide:qt,useClass:Ot},{provide:Kr,useFactory:function W_(n,e,t,r,i,a,d={},f,_){const E=new Kr(null,n,e,t,r,i,Bl(a));return f&&(E.urlHandlingStrategy=f),_&&(E.routeReuseStrategy=_),function R0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,E),d.enableTracing&&E.events.subscribe(D=>{var M,L;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(L=console.groupEnd)||void 0===L||L.call(console)}),E},deps:[qt,Zl,Pe,u.zs3,u.Sil,yf,As,[class C0{},new u.FiY],[class _f{},new u.FiY]]},Zl,{provide:$l,useFactory:function Ag(n){return n.routerState.root},deps:[Kr]},A0,D0,class G_{preload(e,t){return t().pipe(os(()=>nt(null)))}},{provide:As,useValue:{enableTracing:!1}}];function fT(){return new u.PXZ("Router",Kr)}let vf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[S0,z_(t),{provide:Z_,useFactory:x0,deps:[[Kr,new u.FiY,new u.tp0]]},{provide:As,useValue:r||{}},{provide:_e,useFactory:M0,deps:[ce,[new u.tBr(ze),new u.FiY],As]},{provide:Dg,useFactory:pT,deps:[Kr,Tl,As]},{provide:q_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:D0},{provide:u.PXZ,multi:!0,useFactory:fT},[Cd,{provide:u.ip1,multi:!0,useFactory:k0,deps:[Cd]},{provide:Y_,useFactory:K_,deps:[Cd]},{provide:u.tb,multi:!0,useExisting:Y_}]]}}static forChild(t){return{ngModule:n,providers:[z_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Z_,8),u.LFG(Kr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function pT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Dg(n,e,t)}function M0(n,e,t={}){return t.useHash?new Ne(n,e):new Ze(n,e)}function x0(n){return"guarded"}function z_(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:yf,multi:!0,useValue:n}]}let Cd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Lr.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Kr),d=this.injector.get(As);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(As),i=this.injector.get(A0),a=this.injector.get(Dg),d=this.injector.get(Kr),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function k0(n){return n.appInitializer.bind(n)}function K_(n){return n.bootstrapListener.bind(n)}const Y_=new u.OlP("Router Initializer");function O0(...n){const e=(0,kl.jO)(n),{args:t,keys:r}=ho(n),i=new Ur.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let _=d,E=d;for(let D=0;D<d;D++){let M=!1;(0,Zs.Xf)(t[D]).subscribe((0,An.x)(a,L=>{M||(M=!0,E--),f[D]=L},()=>_--,void 0,()=>{(!_||!M)&&(E||a.next(r?fd(r,f):f),a.complete())}))}});return e?i.pipe(Ol(e)):i}let J_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),ec=(()=>{class n extends J_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ma=new u.OlP("NgValueAccessor"),P0={provide:ma,useExisting:(0,u.Gpc)(()=>tc),multi:!0},F0=new u.OlP("CompositionEventMode");let tc=(()=>{class n extends J_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ex(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(F0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([P0]),u.qOj]}),n})();function el(n){return null==n||0===n.length}function L0(n){return null!=n&&"number"==typeof n.length}const ki=new u.OlP("NgValidators"),Yr=new u.OlP("NgAsyncValidators"),gT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pi{static min(e){return function U0(n){return e=>{if(el(e.value)||el(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function V0(n){return e=>{if(el(e.value)||el(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function B0(n){return el(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function j0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function X_(n){return el(n.value)||gT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function H0(n){return e=>el(e.value)||!L0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function $0(n){return e=>L0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function q0(n){if(!n)return Pt;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(el(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return G0(e)}static composeAsync(e){return _a(e)}}function Pt(n){return null}function ey(n){return null!=n}function ty(n){const e=(0,u.QGY)(n)?(0,En.D)(n):n;return(0,u.CqO)(e),e}function ny(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function bf(n,e){return e.map(t=>t(n))}function ry(n){return n.map(e=>function ko(n){return!n.validate}(e)?e:t=>e.validate(t))}function G0(n){if(!n)return null;const e=n.filter(ey);return 0==e.length?null:function(t){return ny(bf(t,e))}}function Ef(n){return null!=n?G0(ry(n)):null}function _a(n){if(!n)return null;const e=n.filter(ey);return 0==e.length?null:function(t){return O0(bf(t,e).map(ty)).pipe((0,It.U)(ny))}}function wf(n){return null!=n?_a(ry(n)):null}function iy(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xg(n){return n._rawValidators}function mT(n){return n._rawAsyncValidators}function Rg(n){return n?Array.isArray(n)?n:[n]:[]}function sy(n,e){return Array.isArray(n)?n.includes(e):n===e}function Cf(n,e){const t=Rg(e);return Rg(n).forEach(i=>{sy(t,i)||t.push(i)}),t}function If(n,e){return Rg(e).filter(t=>!sy(n,t))}class kg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ef(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Oo extends kg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gi extends kg{get formDirective(){return null}get path(){return null}}class _T{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Tf=(()=>{class n extends _T{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Oo,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),Df=(()=>{class n extends _T{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Ng(n,e){Pg(n,e),e.valueAccessor.writeValue(n.value),function K0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Y0(n,e)})}(n,e),function Wl(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ly(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Y0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ET(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function No(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Td(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Id(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pg(n,e){const t=xg(n);null!==e.validator?n.setValidators(iy(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mT(n);null!==e.asyncValidator?n.setAsyncValidators(iy(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Id(e._rawValidators,i),Id(e._rawAsyncValidators,i)}function Td(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=xg(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=mT(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Id(e._rawValidators,r),Id(e._rawAsyncValidators,r),t}function Y0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uy(n,e){Pg(n,e)}function nc(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Kl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Mf="VALID",xf="INVALID",rc="PENDING",ic="DISABLED";function Lg(n){return(gy(n)?n.validators:n)||null}function Rf(n){return Array.isArray(n)?Ef(n):n||null}function fy(n,e){return(gy(e)?e.asyncValidators:n)||null}function py(n){return Array.isArray(n)?wf(n):n||null}function gy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const my=n=>n instanceof qi,Ug=n=>n instanceof sc;function _y(n){return my(n)?n.value:n.getRawValue()}function J0(n,e){const t=Ug(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function X0(n,e){Ug(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class $i{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Rf(this._rawValidators),this._composedAsyncValidatorFn=py(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mf}get invalid(){return this.status===xf}get pending(){return this.status==rc}get disabled(){return this.status===ic}get enabled(){return this.status!==ic}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Rf(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=py(e)}addValidators(e){this.setValidators(Cf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Cf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(If(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(If(e,this._rawAsyncValidators))}hasValidator(e){return sy(this._rawValidators,e)}hasAsyncValidator(e){return sy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ic,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mf||this.status===rc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ic:Mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rc,this._hasOwnPendingAsyncValidator=!0;const t=ty(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function hy(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Ug(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof ux)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ic:this.errors?xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rc)?rc:this._anyControlsHaveStatus(xf)?xf:Mf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qi extends $i{constructor(e=null,t,r){super(Lg(t),fy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gy(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class sc extends $i{constructor(e,t,r){super(Lg(t),fy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){X0(this,e),Object.keys(e).forEach(r=>{J0(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=_y(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ux extends $i{constructor(e,t,r){super(Lg(t),fy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){X0(this,e),e.forEach((r,i)=>{J0(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>_y(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const cx={provide:gi,useExisting:(0,u.Gpc)(()=>yy)},Dd=(()=>Promise.resolve(null))();let yy=(()=>{class n extends gi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new sc({},Ef(t),wf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Dd.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ng(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Dd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Dd.then(()=>{const r=this._findContainer(t.path),i=new sc({});uy(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Dd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Dd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,nc(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ki,10),u.Y36(Yr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([cx]),u.qOj]}),n})(),kf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const rE={provide:ma,useExisting:(0,u.Gpc)(()=>Vg),multi:!0};let Vg=(()=>{class n extends ec{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([rE]),u.qOj]}),n})(),Bg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const wy=new u.OlP("NgModelWithFormControlWarning"),Cy={provide:gi,useExisting:(0,u.Gpc)(()=>Ql)};let Ql=(()=>{class n extends gi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Td(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ng(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){No(t.control||null,t,!1),Kl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,nc(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(No(r||null,t),my(i)&&(Ng(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);uy(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function wT(n,e){return Td(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pg(this.form,this),this._oldForm&&Td(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ki,10),u.Y36(Yr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Cy]),u.qOj,u.TTD]}),n})();const Dy={provide:Oo,useExisting:(0,u.Gpc)(()=>oc)};let oc=(()=>{class n extends Oo{constructor(t,r,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Sf(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===tc?t=a:function Af(n){return Object.getPrototypeOf(n.constructor)===ec}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function dy(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ay(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(gi,13),u.Y36(ki,10),u.Y36(Yr,10),u.Y36(ma,10),u.Y36(wy,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Dy]),u.qOj,u.TTD]}),n})(),UT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Bg]]}),n})(),VT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[UT]}),n})();var Ly=N(4986),Qt=N(5813);function qg(){return(0,lr.e)((n,e)=>{let t,r=!1;n.subscribe((0,An.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function Uy(n,e=Es.y){return n=null!=n?n:BT,(0,lr.e)((t,r)=>{let i,a=!0;t.subscribe((0,An.x)(r,d=>{const f=e(d);(a||!n(i,f))&&(a=!1,i=f,r.next(d))}))})}function BT(n,e){return n===e}var ut,Oi=N(2011),gE=(N(5881),N(3942)),De=N(5861),Qs=N(9681),ac=N(4859),Jl=N(1877),kt=N(2090),vx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xl={},Vy=Vy||{},Ut=vx||self;function Pf(){}function mE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gi(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _E="closure_uid_"+(1e9*Math.random()>>>0),yE=0;function vE(n,e,t){return n.call.apply(n.bind,arguments)}function bE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function mi(n,e,t){return(mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vE:bE).apply(null,arguments)}function By(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function ya(){this.s=this.s,this.o=this.o}var jy={};ya.prototype.s=!1,ya.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function bx(n){return Object.prototype.hasOwnProperty.call(n,_E)&&n[_E]||(n[_E]=++yE)}(this);delete jy[n]}},ya.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},wE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function CE(n){return Array.prototype.concat.apply([],arguments)}function Hy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Gg(n){return/^[\s\xa0]*$/.test(n)}var Br,Ff=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Sr(n,e){return-1!=n.indexOf(e)}function $y(n,e){return n<e?-1:n>e?1:0}e:{var IE=Ut.navigator;if(IE){var TE=IE.userAgent;if(TE){Br=TE;break e}}Br=""}function Lf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Po(n){const e={};for(const t in n)e[t]=n[t];return e}var Rd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _i(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Rd.length;a++)t=Rd[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function il(n){return il[" "](n),n}il[" "]=Pf;var sl,n,Js=Sr(Br,"Opera"),eu=Sr(Br,"Trident")||Sr(Br,"MSIE"),lc=Sr(Br,"Edge"),tu=lc||eu,uc=Sr(Br,"Gecko")&&!(Sr(Br.toLowerCase(),"webkit")&&!Sr(Br,"Edge"))&&!(Sr(Br,"Trident")||Sr(Br,"MSIE"))&&!Sr(Br,"Edge"),kd=Sr(Br.toLowerCase(),"webkit")&&!Sr(Br,"Edge");function cc(){var n=Ut.document;return n?n.documentMode:void 0}e:{var nu="",ru=(n=Br,uc?/rv:([^\);]+)(\)|;)/.exec(n):lc?/Edge\/([\d\.]+)/.exec(n):eu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kd?/WebKit\/(\S+)/.exec(n):Js?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ru&&(nu=ru?ru[1]:""),eu){var iu=cc();if(null!=iu&&iu>parseFloat(nu)){sl=String(iu);break e}}sl=nu}var DE={};var SE=Ut.document&&eu&&(cc()||parseInt(sl,10))||void 0,ME=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",Pf,e),Ut.removeEventListener("test",Pf,e)}catch(t){}return n}();function yi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Od(n,e){if(yi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uc){e:{try{il(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:xE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Od.Z.h.call(this)}}yi.prototype.h=function(){this.defaultPrevented=!0},Qr(Od,yi);var xE={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Uf="closure_listenable_"+(1e6*Math.random()|0),RE=0;function $T(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++RE,this.ca=this.fa=!1}function Wg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Vf(n){this.src=n,this.g={},this.h=0}function Gy(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=EE(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Wg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Zy(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}Vf.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=Zy(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new $T(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var Kg="closure_lm_"+(1e6*Math.random()|0),zy={};function Wy(n,e,t,r,i){if(r&&r.once)return GT(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Wy(n,e[a],t,r,i);return null}return t=FE(t),n&&n[Uf]?n.N(e,t,Gi(r)?!!r.capture:!!r,i):kE(n,e,t,!1,r,i)}function kE(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=Gi(i)?!!i.capture:!!i,f=NE(n);if(f||(n[Kg]=f=new Vf(n)),(t=f.add(e,t,r,d,a)).proxy)return t;if(r=function qT(){var e=ZT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ME||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Yg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function GT(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)GT(n,e[a],t,r,i);return null}return t=FE(t),n&&n[Uf]?n.O(e,t,Gi(r)?!!r.capture:!!r,i):kE(n,e,t,!0,r,i)}function OE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)OE(n,e[a],t,r,i);else r=Gi(r)?!!r.capture:!!r,t=FE(t),n&&n[Uf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Zy(a=n.g[e],t,r,i))&&(Wg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=NE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Zy(e,t,r,i)),(t=-1<n?e[n]:null)&&Bf(t))}function Bf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Uf])Gy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Yg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=NE(e))?(Gy(t,n),0==t.h&&(t.src=null,e[Kg]=null)):Wg(n)}}}function Yg(n){return n in zy?zy[n]:zy[n]="on"+n}function ZT(n,e){if(n.ca)n=!0;else{e=new Od(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Bf(n),n=t.call(r,e)}return n}function NE(n){return(n=n[Kg])instanceof Vf?n:null}var PE="__closure_events_fn_"+(1e9*Math.random()>>>0);function FE(n){return"function"==typeof n?n:(n[PE]||(n[PE]=function(e){return n.handleEvent(e)}),n[PE])}function Jr(){ya.call(this),this.i=new Vf(this),this.P=this,this.I=null}function Xr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new yi(e,n);else if(e instanceof yi)e.target=e.target||n;else{var i=e;_i(e=new yi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=Ky(d,r,!0,e)&&i}if(i=Ky(d=e.g=n,r,!0,e)&&i,i=Ky(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Ky(d=e.g=t[a],r,!1,e)&&i}function Ky(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&Gy(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Qr(Jr,ya),Jr.prototype[Uf]=!0,Jr.prototype.removeEventListener=function(n,e,t,r){OE(this,n,e,t,r)},Jr.prototype.M=function(){if(Jr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Wg(t[r]);delete n.g[e],n.h--}}this.I=null},Jr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Yy=Ut.JSON.stringify;function Nd(){var n=VE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jy,Qy=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new WT,n=>n.reset());class WT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function LE(n){Ut.setTimeout(()=>{throw n},0)}function Pd(n,e){Jy||function UE(){var n=Ut.Promise.resolve(void 0);Jy=function(){n.then(KT)}}(),Xy||(Jy(),Xy=!0),VE.add(n,e)}var Xy=!1,VE=new class zT{constructor(){this.h=this.g=null}add(e,t){const r=Qy.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function KT(){for(var n;n=Nd();){try{n.h.call(n.g)}catch(t){LE(t)}var e=Qy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xy=!1}function Qg(n,e){Jr.call(this),this.h=n||1,this.g=e||Ut,this.j=mi(this.kb,this),this.l=Date.now()}function ev(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Jg(n,e,t){if("function"==typeof n)t&&(n=mi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function BE(n){n.g=Jg(()=>{n.g=null,n.i&&(n.i=!1,BE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(Qg,Jr),(ut=Qg.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(ev(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){Qg.Z.M.call(this),ev(this),delete this.g};class jE extends ya{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BE(this)}M(){super.M(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fd(n){ya.call(this),this.h=n,this.g={}}Qr(Fd,ya);var Xg=[];function YT(n,e,t,r){Array.isArray(t)||(t&&(Xg[0]=t.toString()),t=Xg);for(var i=0;i<t.length;i++){var a=Wy(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function em(n){Lf(n.g,function(e,t){this.g.hasOwnProperty(t)&&Bf(e)},n),n.g={}}function tm(){this.g=!0}function dc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return Yy(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Fd.prototype.M=function(){Fd.Z.M.call(this),em(this)},Fd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tm.prototype.Aa=function(){this.g=!1},tm.prototype.info=function(){};var hc={},Hf=null;function fc(){return Hf=Hf||new Jr}function nm(n){yi.call(this,hc.Ma,n)}function rm(n){const e=fc();Xr(e,new nm(e,n))}function HE(n,e){yi.call(this,hc.STAT_EVENT,n),this.stat=e}function ei(n){const e=fc();Xr(e,new HE(e,n))}function $f(n,e){yi.call(this,hc.Na,n),this.size=e}function Ld(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}hc.Ma="serverreachability",Qr(nm,yi),hc.STAT_EVENT="statevent",Qr(HE,yi),hc.Na="timingevent",Qr($f,yi);var qf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},im={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sm(){}function om(){}sm.prototype.h=null;var lm,Ud={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function iv(){yi.call(this,"d")}function am(){yi.call(this,"c")}function Vd(){}function Bd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Fd(this),this.P=qE,this.W=new Qg(n=tu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $E}function $E(){this.i=null,this.g="",this.h=!1}Qr(iv,yi),Qr(am,yi),Qr(Vd,sm),Vd.prototype.g=function(){return new XMLHttpRequest},Vd.prototype.i=function(){return{}},lm=new Vd;var qE=45e3,um={},jd={};function Hd(n,e,t){n.K=1,n.v=Wf(ol(e)),n.s=t,n.U=!0,sv(n,null)}function sv(n,e){n.F=Date.now(),$d(n),n.A=ol(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),YE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new $E,n.g=wv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new jE(mi(n.Ia,n,n.g),n.O)),YT(n.V,n.g,"readystatechange",n.gb),e=n.H?Po(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),rm(1),function Ex(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),_=0;_<f.length;_++){var E=f[_].split("=");if(1<E.length){var D=E[0];E=E[1];var M=D.split("_");d=2<=M.length&&"type"==M[1]?d+(D+"=")+E+"&":d+(D+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ov(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function av(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=GE(n,t),i==jd){4==e&&(n.o=4,ei(14),r=!1),dc(n.j,n.m,null,"[Incomplete Response]");break}if(i==um){n.o=4,ei(15),dc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}dc(n.j,n.m,i,null),uv(n,i)}ov(n)&&i!=jd&&i!=um&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),vm(e),e.L=!0,ei(11))):(dc(n.j,n.m,t,"[Invalid Chunked Response]"),Gd(n),qd(n))}function GE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?jd:(t=Number(e.substring(t,r)),isNaN(t)?um:(r+=1)+t>e.length?jd:(e=e.substr(r,t),n.C=r+t,e))}function $d(n){n.Y=Date.now()+n.P,lv(n,n.P)}function lv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ld(mi(n.eb,n),e)}function Gf(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function qd(n){0==n.l.G||n.I||uw(n.l,n)}function Gd(n){Gf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ev(n.W),em(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function uv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hm(t.i,n)))if(t.I=n.N,!n.J&&hm(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ld(mi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;bm(t),Xf(t)}tp(t),ei(18)}if(1>=QE(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else eh(t,11)}else if((n.J||t.g==n)&&bm(t),!Gg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const D=E[3];null!=D&&(t.ma=D,t.h.info("VER="+t.ma));const M=E[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const L=E[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.i;!a.g&&(Sr(G,"spdy")||Sr(G,"quic")||Sr(G,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(fm(a,a.h),a.h=null))}if(r.D){const he=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(r.sa=he,Jn(r.F,r.D,he))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=uD(r,r.H?r.la:null,r.W),d.J){Kf(r.i,d);var f=d,_=r.K;_&&f.setTimeout(_),f.B&&(Gf(f),$d(f)),r.g=d}else Ev(r);0<t.l.length&&ep(t)}else"stop"!=E[0]&&"close"!=E[0]||eh(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?eh(t,7):_v(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}rm(4)}catch(E){}}function cm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mE(n)||"string"==typeof n)wE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(mE(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function QT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(mE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function Zd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Ir(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];su(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)su(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function su(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ut=Bd.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;const e=this.L;e&&3==ul(n)?e.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{const D=ul(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>D)&&(3!=D||tu||this.g&&(this.h.h||this.g.ga()||ow(this.g)))){this.I||4!=D||7==e||rm(8==e||0>=M?3:2),Gf(this);var t=this.g.ba();this.N=t;t:if(ov(this)){var r=ow(this.g);n="";var i=r.length,a=4==ul(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gd(this),qd(this);var d="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function jf(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,D,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gg(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,ei(12),Gd(this),qd(this);break e}dc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uv(this,t)}this.U?(av(this,D,d),tu&&this.i&&3==D&&(YT(this.V,this.W,"tick",this.fb),this.W.start())):(dc(this.j,this.m,d,null),uv(this,d)),4==D&&Gd(this),this.i&&!this.I&&(4==D?uw(this.l,this):(this.i=!1,$d(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ei(12)):(this.o=0,ei(13)),Gd(this),qd(this)}}}catch(D){}},ut.fb=function(){if(this.g){var n=ul(this.g),e=this.g.ga();this.C<e.length&&(Gf(this),av(this,n,e),this.i&&4!=n&&$d(this))}},ut.cancel=function(){this.I=!0,Gd(this)},ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rm(3),ei(17)),Gd(this),this.o=2,qd(this)):lv(this,this.Y-n)},(ut=Zd.prototype).R=function(){Ir(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ut.T=function(){return Ir(this),this.g.concat()},ut.get=function(n,e){return su(this.h,n)?this.h[n]:e},ut.set=function(n,e){su(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ut.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var ZE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ou(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ou){this.g=void 0!==e?e:n.g,Zf(this,n.j),this.s=n.s,zf(this,n.i),al(this,n.m),this.l=n.l,e=n.h;var t=new Zi;t.i=e.i,e.g&&(t.g=new Zd(e.g),t.h=e.h),zE(this,t),this.o=n.o}else n&&(t=String(n).match(ZE))?(this.g=!!e,Zf(this,t[1]||"",!0),this.s=dm(t[2]||""),zf(this,t[3]||"",!0),al(this,t[4]),this.l=dm(t[5]||"",!0),zE(this,t[6]||"",!0),this.o=dm(t[7]||"")):(this.g=!!e,this.h=new Zi(null,this.g))}function ol(n){return new ou(n)}function Zf(n,e,t){n.j=t?dm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zf(n,e,t){n.i=t?dm(e,!0):e}function al(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zE(n,e,t){e instanceof Zi?(n.h=e,function nD(n,e){e&&!n.j&&(ll(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(dv(this,r),YE(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=zd(e,va)),n.h=new Zi(e,n.g))}function Jn(n,e,t){n.h.set(e,t)}function Wf(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function dm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ou.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zd(e,Fo,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zd(e,Fo,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(zd(t,"/"==t.charAt(0)?tD:eD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zd(t,Lo)),n.join("")};var Fo=/[#\/\?@]/g,eD=/[#\?:]/g,tD=/[#\?]/g,va=/[#\?@]/g,Lo=/#/g;function Zi(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ll(n){n.g||(n.g=new Zd,n.h=0,n.i&&function JT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function dv(n,e){ll(n),e=Wd(n,e),su(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,su((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ir(n)))}function KE(n,e){return ll(n),e=Wd(n,e),su(n.g.h,e)}function YE(n,e,t){dv(n,e),0<t.length&&(n.i=null,n.g.set(Wd(n,e),Hy(t)),n.h+=t.length)}function Wd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kd(n){this.l=n||rD,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ea&&Ut.g.Ea()&&Ut.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=Zi.prototype).add=function(n,e){ll(this),this.i=null,n=Wd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){ll(this),this.g.forEach(function(t,r){wE(t,function(i){n.call(e,i,r,this)},this)},this)},ut.T=function(){ll(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},ut.R=function(n){ll(this);var e=[];if("string"==typeof n)KE(this,n)&&(e=CE(e,this.g.get(Wd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=CE(e,n[t])}return e},ut.set=function(n,e){return ll(this),this.i=null,KE(this,n=Wd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var rD=10;function fv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QE(n){return n.h?1:n.g?n.g.size:0}function hm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fm(n,e){n.g?n.g.add(e):n.h=e}function Kf(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function JE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Hy(n.i)}function pm(){}function XE(){this.g=new pm}function pv(n,e,t){const r=t||"";try{cm(n,function(i,a){let d=i;Gi(i)&&(d=Yy(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Yd(n){this.l=n.$b||null,this.j=n.ib||!1}function Qf(n,e){Jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kd.prototype.cancel=function(){if(this.i=JE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pm.prototype.stringify=function(n){return Ut.JSON.stringify(n,void 0)},pm.prototype.parse=function(n){return Ut.JSON.parse(n,void 0)},Qr(Yd,sm),Yd.prototype.g=function(){return new Qf(this.l,this.j)},Yd.prototype.i=function(n){return function(){return n}}({}),Qr(Qf,Jr);var mm=0;function gv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Qd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jd(n)}function Jd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=Qf.prototype).open=function(n,e){if(this.readyState!=mm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jd(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ut).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qd(this)),this.readyState=mm},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jd(this)),this.g&&(this.readyState=3,Jd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ut.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qd(this):Jd(this),3==this.readyState&&gv(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,Qd(this))},ut.Ta=function(n){this.g&&(this.response=n,Qd(this))},ut.ha=function(){this.g&&Qd(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Qf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ew=Ut.JSON.parse;function Mr(n){Jr.call(this),this.headers=new Zd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tw,this.K=this.L=!1}Qr(Mr,Jr);var tw="",iD=/^https?$/i,sD=["POST","PUT"];function aD(n){return"content-type"==n.toLowerCase()}function nw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rw(n),_m(n)}function rw(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function iw(n){if(n.h&&void 0!==Vy&&(!n.C[1]||4!=ul(n)||2!=n.ba()))if(n.v&&4==ul(n))Jg(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==ul(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(ZE)[1]||null;if(!i&&Ut.self&&Ut.self.location){var a=Ut.self.location.protocol;i=a.substr(0,a.length-1)}r=!iD.test(i?i.toLowerCase():"")}t=r}if(t)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var d=2<ul(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",rw(n)}}finally{_m(n)}}}function _m(n,e){if(n.g){sw(n);const t=n.g,r=n.C[0]?Pf:null;n.g=null,n.C=null,e||Xr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function sw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function ul(n){return n.g?n.g.readyState:0}function ow(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function mv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function lD(n){let e="";return Lf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jn(n,e,t))}function Jf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function aw(n){this.za=0,this.l=[],this.h=new tm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jf("baseRetryDelayMs",5e3,n),this.$a=Jf("retryDelaySeedMs",1e4,n),this.Ya=Jf("forwardChannelMaxRetries",2,n),this.ra=Jf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Kd(n&&n.concurrentRequestLimit),this.Ca=new XE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function _v(n){if(yv(n),3==n.G){var e=n.V++,t=ol(n.F);Jn(t,"SID",n.J),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),Xd(n,t),(e=new Bd(n,n.h,e,void 0)).K=2,e.v=Wf(ol(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(t=Ut.navigator.sendBeacon(e.v.toString(),"")),!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=wv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$d(e)}Em(n)}function Xf(n){n.g&&(vm(n),n.g.cancel(),n.g=null)}function yv(n){Xf(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),bm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function ym(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ep(n)}function ep(n){fv(n.i)||n.m||(n.m=!0,Pd(n.Ha,n),n.C=0)}function vv(n,e){var t;t=e?e.m:n.V++;const r=ol(n.F);Jn(r,"SID",n.J),Jn(r,"RID",t),Jn(r,"AID",n.U),Xd(n,r),n.o&&n.s&&mv(r,n.o,n.s),t=new Bd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=bv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),fm(n.i,t),Hd(t,r,e)}function Xd(n,e){n.j&&cm({},function(t,r){Jn(e,r,t)})}function bv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?mi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let E=i[_].h;const D=i[_].g;if(E-=a,0>E)a=Math.max(0,i[_].h-100),f=!1;else try{pv(D,d,"req"+E+"_")}catch(M){r&&r(D)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ev(n){n.g||n.u||(n.Y=1,Pd(n.Ga,n),n.A=0)}function tp(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ld(mi(n.Ga,n),pc(n,n.A)),n.A++,0))}function vm(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function au(n){n.g=new Bd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ol(n.oa);Jn(e,"RID","rpc"),Jn(e,"SID",n.J),Jn(e,"CI",n.N?"0":"1"),Jn(e,"AID",n.U),Xd(n,e),Jn(e,"TYPE","xmlhttp"),n.o&&n.s&&mv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Wf(ol(e)),t.s=null,t.U=!0,sv(t,n)}function bm(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function uw(n,e){var t=null;if(n.g==e){bm(n),vm(n),n.g=null;var r=2}else{if(!hm(n.i,e))return;t=e.D,Kf(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Xr(r=fc(),new $f(r,t,e,i)),ep(n)}else Ev(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function lw(n,e){return!(QE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ld(mi(n.Ha,n,e),pc(n,n.C)),n.C++,0)))}(n,e)||2==r&&tp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:eh(n,5);break;case 4:eh(n,10);break;case 3:eh(n,6);break;default:eh(n,2)}}function pc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function eh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=mi(n.jb,n);t||(t=new ou("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||Zf(t,"https"),Wf(t)),function gm(n,e){const t=new tm;if(Ut.Image){const r=new Image;r.onload=By(Yf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=By(Yf,t,r,"TestLoadImage: error",!1,e),r.onabort=By(Yf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=By(Yf,t,r,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ei(2);n.G=0,n.j&&n.j.va(e),Em(n),yv(n)}function Em(n){n.G=0,n.I=-1,n.j&&((0!=JE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Hy(n.l),n.l.length=0),n.j.ua())}function uD(n,e,t){let r=function XT(n){return n instanceof ou?ol(n):new ou(n,void 0)}(t);if(""!=r.i)e&&zf(r,e+"."+r.i),al(r,r.m);else{const i=Ut.location;r=function WE(n,e,t,r){var i=new ou(null,void 0);return n&&Zf(i,n),e&&zf(i,e),t&&al(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Lf(n.aa,function(i,a){Jn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Jn(r,e,t),Jn(r,"VER",n.ma),Xd(n,r),r}function wv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mr(t&&n.Ba&&!n.qa?new Yd({ib:!0}):n.qa)).L=n.H,e}function Cv(){}function Iv(){if(eu&&!(10<=Number(SE)))throw Error("Environmental error: no available transport.")}function ft(n,e){Jr.call(this),this.g=new aw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Gg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new th(this)}function cw(n){iv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dw(){am.call(this),this.status=1}function th(n){this.g=n}(ut=Mr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lm.g(),this.C=function rv(n){return n.h||(n.h=n.i())}(this.u?this.u:lm),this.g.onreadystatechange=mi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void nw(this,a)}n=t||"";const i=new Zd(this.headers);r&&cm(r,function(a,d){i.set(d,a)}),r=function HT(n){e:{var e=aD;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ut.FormData&&n instanceof Ut.FormData,!(0<=EE(sD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sw(this),0<this.B&&((this.K=function oD(n){return eu&&function AE(){return function Zg(n){var e=DE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ff(String(sl)).split("."),t=Ff("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=$y(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||$y(0==i[2].length,0==a[2].length)||$y(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mi(this.pa,this)):this.A=Jg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){nw(this,a)}},ut.pa=function(){void 0!==Vy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),_m(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_m(this,!0)),Mr.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?iw(this):this.cb())},ut.cb=function(){iw(this)},ut.ba=function(){try{return 2<ul(this)?this.g.status:-1}catch(n){return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ut.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ew(e)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=aw.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Bd(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Po(a),_i(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bv(this,i,e),Jn(t=ol(this.F),"RID",n),Jn(t,"CVER",22),this.D&&Jn(t,"X-HTTP-Session-Id",this.D),Xd(this,t),this.o&&a&&mv(t,this.o,a),fm(this.i,i),this.Ra&&Jn(t,"TYPE","init"),this.ja?(Jn(t,"$req",e),Jn(t,"SID","null"),i.$=!0,Hd(i,t,null)):Hd(i,t,e),this.G=2}}else 3==this.G&&(n?vv(this,n):0==this.l.length||fv(this.i)||vv(this))},ut.Ga=function(){if(this.u=null,au(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ld(mi(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ei(10),Xf(this),au(this))},ut.ab=function(){null!=this.v&&(this.v=null,Xf(this),tp(this),ei(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ei(2)):(this.h.info("Failed to ping google.com"),ei(1))},(ut=Cv.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},Iv.prototype.g=function(n,e){return new ft(n,e)},Qr(ft,Jr),ft.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Pd(mi(n.hb,n,e))),ei(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=uD(n,null,n.W),ep(n)},ft.prototype.close=function(){_v(this.g)},ft.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ym(this.g,e)}else this.v?((e={}).__data__=Yy(n),ym(this.g,e)):ym(this.g,n)},ft.prototype.M=function(){this.g.j=null,delete this.j,_v(this.g),delete this.g,ft.Z.M.call(this)},Qr(cw,iv),Qr(dw,am),Qr(th,Cv),th.prototype.xa=function(){Xr(this.g,"a")},th.prototype.wa=function(n){Xr(this.g,new cw(n))},th.prototype.va=function(n){Xr(this.g,new dw(n))},th.prototype.ua=function(){Xr(this.g,"b")},Iv.prototype.createWebChannel=Iv.prototype.g,ft.prototype.send=ft.prototype.u,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,qf.NO_ERROR=0,qf.TIMEOUT=8,qf.HTTP_ERROR=6,im.COMPLETE="complete",om.EventType=Ud,Ud.OPEN="a",Ud.CLOSE="b",Ud.ERROR="c",Ud.MESSAGE="d",Jr.prototype.listen=Jr.prototype.N,Mr.prototype.listenOnce=Mr.prototype.O,Mr.prototype.getLastError=Mr.prototype.La,Mr.prototype.getLastErrorCode=Mr.prototype.Da,Mr.prototype.getStatus=Mr.prototype.ba,Mr.prototype.getResponseJson=Mr.prototype.Qa,Mr.prototype.getResponseText=Mr.prototype.ga,Mr.prototype.send=Mr.prototype.ea;var wm=Xl.createWebChannelTransport=function(){return new Iv},cD=Xl.getStatEventTarget=function(){return fc()},nh=Xl.ErrorCode=qf,Cm=Xl.EventType=im,ur=Xl.Event=hc,dD=Xl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hw=Xl.FetchXmlHttpFactory=Yd,Im=Xl.WebChannel=om,hD=Xl.XhrIo=Mr;const Tv="@firebase/firestore";class ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let gc="9.8.0";const cl=new Jl.Yd("@firebase/firestore");function Dv(){return cl.logLevel}function $e(n,...e){if(cl.logLevel<=Jl.in.DEBUG){const t=e.map(Av);cl.debug(`Firestore (${gc}): ${n}`,...t)}}function Xn(n,...e){if(cl.logLevel<=Jl.in.ERROR){const t=e.map(Av);cl.error(`Firestore (${gc}): ${n}`,...t)}}function np(n,...e){if(cl.logLevel<=Jl.in.WARN){const t=e.map(Av);cl.warn(`Firestore (${gc}): ${n}`,...t)}}function Av(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+n;throw Xn(e),new Error(e)}function xt(n,e){n||pt()}function it(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ti.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mD{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new cr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const E=d;e.enqueueRetryable((0,De.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},_=E=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new cr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new rh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new ti(e)}}class pw{constructor(e,t,r){this.type="FirstParty",this.user=ti.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class gw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new pw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _D{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,$e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new Sv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ss{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function vD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ss.A=-1;class bD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function rp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ED(n){return n+"\0"}class dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new dr(0,0))}static max(){return new Dt(new dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dl{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends dl{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new un(t)}static emptyPath(){return new un([])}}const wD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends dl{construct(e,t,r){return new jr(e,t,r)}static isValidIdentifier(e){return wD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ve(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ve(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ve(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new Ve(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(t)}static emptyPath(){return new jr([])}}class ih{constructor(e){this.fields=e,e.sort(jr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const ID=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(xt(!!n),"string"==typeof n){let e=0;const t=ID.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pn(n.seconds),nanos:Pn(n.nanos)}}function Pn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _c(n){return"string"==typeof n?xr.fromBase64String(n):xr.fromUint8Array(n)}function Tm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _w(n){const e=n.mapValue.fields.__previous_value__;return Tm(e)?_w(e):e}function sh(n){const e=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}class TD{constructor(e,t,r,i,a,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}function ip(n){return null==n}function yc(n){return 0===n&&1/n==-1/0}function yw(n){return"number"==typeof n&&Number.isInteger(n)&&!yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(un.fromString(e))}static fromName(e){return new Xe(un.fromString(e).popFirst(5))}static empty(){return new Xe(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new un(e.slice()))}}const hl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dm={nullValue:"NULL_VALUE"};function vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tm(n)?4:Ov(n)?9007199254740991:10:pt()}function Ea(n,e){if(n===e)return!0;const t=vc(n);if(t!==vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sh(n).isEqual(sh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=lu(r.timestampValue),d=lu(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_c(n.bytesValue).isEqual(_c(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Pn(r.geoPointValue.latitude)===Pn(i.geoPointValue.latitude)&&Pn(r.geoPointValue.longitude)===Pn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pn(r.integerValue)===Pn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Pn(r.doubleValue),d=Pn(i.doubleValue);return a===d?yc(a)===yc(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return rp(n.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(mw(a)!==mw(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Ea(a[f],d[f])))return!1;return!0}(n,e);default:return pt()}var i}function bc(n,e){return void 0!==(n.values||[]).find(t=>Ea(t,e))}function uu(n,e){if(n===e)return 0;const t=vc(n),r=vc(e);if(t!==r)return Jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=Pn(i.integerValue||i.doubleValue),f=Pn(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return xv(n.timestampValue,e.timestampValue);case 4:return xv(sh(n),sh(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=_c(i),f=_c(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let _=0;_<d.length&&_<f.length;_++){const E=Jt(d[_],f[_]);if(0!==E)return E}return Jt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Jt(Pn(i.latitude),Pn(a.latitude));return 0!==d?d:Jt(Pn(i.longitude),Pn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let _=0;_<d.length&&_<f.length;++_){const E=uu(d[_],f[_]);if(E)return E}return Jt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===hl.mapValue&&a===hl.mapValue)return 0;if(i===hl.mapValue)return 1;if(a===hl.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),_=a.fields||{},E=Object.keys(_);f.sort(),E.sort();for(let D=0;D<f.length&&D<E.length;++D){const M=Jt(f[D],E[D]);if(0!==M)return M;const L=uu(d[f[D]],_[E[D]]);if(0!==L)return L}return Jt(f.length,E.length)}(n.mapValue,e.mapValue);default:throw pt()}}function xv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=lu(n),r=lu(e),i=Jt(t.seconds,r.seconds);return 0!==i?i:Jt(t.nanos,r.nanos)}function oh(n){return Rv(n)}function Rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=lu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_c(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=Rv(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${Rv(r.fields[f])}`;return a+"}"}(n.mapValue):pt();var e}function Ec(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kv(n){return!!n&&"integerValue"in n}function sp(n){return!!n&&"arrayValue"in n}function vw(n){return!!n&&"nullValue"in n}function bw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Am(n){return!!n&&"mapValue"in n}function ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ov(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function DD(n){return"nullValue"in n?Dm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ec(ba.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function AD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ec(ba.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hl:pt()}function Nv(n,e){const t=uu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ew(n,e){const t=uu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Am(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=jr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=ah(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Am(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Am(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ni(ah(this.value))}}function ww(n){const e=[];return mc(n.fields,(t,r)=>{const i=new jr([t]);if(Am(r)){const a=ww(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new ih(e)}class Fn{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Fn(e,0,Dt.min(),Dt.min(),Ni.empty(),0)}static newFoundDocument(e,t,r){return new Fn(e,1,t,Dt.min(),r,0)}static newNoDocument(e,t){return new Fn(e,2,t,Dt.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,Dt.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Sm(n){return n.fields.find(e=>2===e.kind)}function fl(n){return n.fields.filter(e=>2!==e.kind)}lh.UNKNOWN_ID=-1;class Mm{constructor(e,t){this.fieldPath=e,this.kind=t}}class op{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new op(0,Xs.min())}}function xm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new dr(t+1,0):new dr(t,r));return new Xs(i,Xe.empty(),e)}function SD(n){return new Xs(n.readTime,n.key,-1)}class Xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xs(Dt.min(),Xe.empty(),-1)}static max(){return new Xs(Dt.max(),Xe.empty(),-1)}}function Cw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Jt(n.largestBatchId,e.largestBatchId))}class hr{constructor(e,t){this.comparator=e,this.root=t||ni.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rm(this.root,e,this.comparator,!0)}}class Rm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ni.RED,this.left=null!=i?i:ni.EMPTY,this.right=null!=a?a:ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ni(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ni.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1,ni.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ni(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iw(this.data.getIterator())}getIteratorFrom(e){return new Iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class Iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pl(n){return n.hasNext()?n.getNext():void 0}class MD{constructor(e,t=null,r=[],i=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.P=null}}function wc(n,e=null,t=[],r=[],i=null,a=null,d=null){return new MD(n,e,t,r,i,a,d)}function Uo(n){const e=it(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+oh(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ip(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oh(r)).join(",")),e.P=t}return e.P}function km(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Fv(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ea(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kD(n.startAt,e.startAt)&&kD(n.endAt,e.endAt)}function ap(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Om(n,e){return n.filters.filter(t=>t instanceof vi&&t.field.isEqual(e))}function Tw(n,e,t){let r=Dm,i=!0;for(const a of Om(n,e)){let d=Dm,f=!0;switch(a.op){case"<":case"<=":d=DD(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=Dm}Nv({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];Nv({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Dw(n,e,t){let r=hl,i=!0;for(const a of Om(n,e)){let d=hl,f=!0;switch(a.op){case">=":case">":d=AD(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=hl}Ew({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];Ew({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class vi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Aw(e,t,r):"array-contains"===t?new up(e,r):"in"===t?new RD(e,r):"not-in"===t?new Mw(e,r):"array-contains-any"===t?new xw(e,r):new vi(e,t,r)}static V(e,t,r){return"in"===t?new Sw(e,r):new Pv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(uu(t,this.value)):null!==t&&vc(this.value)===vc(t)&&this.v(uu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Aw extends vi{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.v(t)}}class Sw extends vi{constructor(e,t){super(e,"in",t),this.keys=lp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pv extends vi{constructor(e,t){super(e,"not-in",t),this.keys=lp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lp(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class up extends vi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sp(t)&&bc(t.arrayValue,this.value)}}class RD extends vi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bc(this.value.arrayValue,t)}}class Mw extends vi{constructor(e,t){super(e,"not-in",t)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bc(this.value.arrayValue,t)}}class xw extends vi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}}class cu{constructor(e,t){this.position=e,this.inclusive=t}}class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Fv(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Rw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?Xe.comparator(Xe.fromName(d.referenceValue),t.key):uu(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function kD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ea(n.position[t],e.position[t]))return!1;return!0}class gl{constructor(e,t=null,r=[],i=[],a=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function kw(n,e,t,r,i,a,d,f){return new gl(n,e,t,r,i,a,d,f)}function Vo(n){return new gl(n)}function du(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Nw(n){for(const e of n.filters)if(e.S())return e.field;return null}function Nm(n){return null!==n.collectionGroup}function ch(n){const e=it(n);if(null===e.D){e.D=[];const t=Nw(e),r=du(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new uh(t)),e.D.push(new uh(jr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new uh(jr.keyField(),a))}}}return e.D}function Bo(n){const e=it(n);if(!e.C)if("F"===e.limitType)e.C=wc(e.path,e.collectionGroup,ch(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of ch(e))t.push(new uh(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new cu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new cu(e.startAt.position,e.startAt.inclusive):null;e.C=wc(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Lv(n,e,t){return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pm(n,e){return km(Bo(n),Bo(e))&&n.limitType===e.limitType}function Uv(n){return`${Uo(Bo(n))}|lt:${n.limitType}`}function cp(n){return`Query(target=${function xD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${oh(r.value)}`;var r}).join(", ")}]`),ip(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>oh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>oh(t)).join(",")),`Target(${e})`}(Bo(n))}; limitType=${n.limitType})`}function Vv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const f=Rw(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,ch(t),r)||t.endAt&&!function(i,a,d){const f=Rw(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,ch(t),r)));var t,r}function Pw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fw(n){return(e,t)=>{let r=!1;for(const i of ch(n)){const a=OD(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function OD(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,a,d){const f=a.data.field(i),_=d.data.field(i);return null!==f&&null!==_?uu(f,_):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function Lw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function Uw(n){return{integerValue:""+n}}function Vw(n,e){return yw(e)?Uw(e):Lw(n,e)}class Fm{constructor(){this._=void 0}}function ND(n,e,t){return n instanceof Cc?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof hu?Bv(n,e):n instanceof fu?jv(n,e):function(r,i){const a=dh(r,i),d=Bw(a)+Bw(r.k);return kv(a)&&kv(r.k)?Uw(d):Lw(r.M,d)}(n,e)}function PD(n,e,t){return n instanceof hu?Bv(n,e):n instanceof fu?jv(n,e):t}function dh(n,e){return n instanceof hh?kv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Cc extends Fm{}class hu extends Fm{constructor(e){super(),this.elements=e}}function Bv(n,e){const t=jw(e);for(const r of n.elements)t.some(i=>Ea(i,r))||t.push(r);return{arrayValue:{values:t}}}class fu extends Fm{constructor(e){super(),this.elements=e}}function jv(n,e){let t=jw(e);for(const r of n.elements)t=t.filter(i=>!Ea(i,r));return{arrayValue:{values:t}}}class hh extends Fm{constructor(e,t){super(),this.M=e,this.k=t}}function Bw(n){return Pn(n.integerValue||n.doubleValue)}function jw(n){return sp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dp{constructor(e,t){this.field=e,this.transform=t}}class LD{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Lm{}function Hv(n,e,t){n instanceof hp?function(r,i,a){const d=r.value.clone(),f=fp(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ic?function(r,i,a){if(!pu(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=fp(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(Hw(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function eo(n,e,t){var i;n instanceof hp?function(r,i,a){if(!pu(r.precondition,i))return;const d=r.value.clone(),f=pp(r.fieldTransforms,a,i);d.setAll(f),i.convertToFoundDocument(fh(i),d).setHasLocalMutations()}(n,e,t):n instanceof Ic?function(r,i,a){if(!pu(r.precondition,i))return;const d=pp(r.fieldTransforms,a,i),f=i.data;f.setAll(Hw(r)),f.setAll(d),i.convertToFoundDocument(fh(i),f).setHasLocalMutations()}(n,e,t):pu(n.precondition,i=e)&&i.convertToNoDocument(Dt.min())}function UD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=dh(r.transform,i||null);null!=a&&(null==t&&(t=Ni.empty()),t.set(r.field,a))}return t||null}function Um(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&rp(t,r,(i,a)=>function FD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof hu&&r instanceof hu||t instanceof fu&&r instanceof fu?rp(t.elements,r.elements,Ea):t instanceof hh&&r instanceof hh?Ea(t.k,r.k):t instanceof Cc&&r instanceof Cc);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function fh(n){return n.isFoundDocument()?n.version:Dt.min()}class hp extends Lm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ic extends Lm{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function Hw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fp(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,f=e.data.field(a.field);r.set(a.field,PD(d,f,t[i]))}return r}function pp(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,ND(a,d,e))}return r}class gp extends Lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class $v extends Lm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class $w{constructor(e){this.count=e}}var Tr,on;function qv(n){switch(n){default:return pt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function qw(n){if(void 0===n)return Xn("GRPC error has no .code"),me.UNKNOWN;switch(n){case Tr.OK:return me.OK;case Tr.CANCELLED:return me.CANCELLED;case Tr.UNKNOWN:return me.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return me.INTERNAL;case Tr.UNAVAILABLE:return me.UNAVAILABLE;case Tr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Tr.NOT_FOUND:return me.NOT_FOUND;case Tr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Tr.ABORTED:return me.ABORTED;case Tr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Tr.DATA_LOSS:return me.DATA_LOSS;default:return pt()}}(on=Tr||(Tr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class gu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Mv(this.inner)}size(){return this.innerSize}}const wx=new hr(Xe.comparator);function ls(){return wx}const Gv=new hr(Xe.comparator);function Vm(...n){let e=Gv;for(const t of n)e=e.insert(t.key,t);return e}function Tc(){return new gu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Zv=new hr(Xe.comparator),VD=new Wn(Xe.comparator);function Tn(...n){let e=VD;for(const t of n)e=e.add(t);return e}const BD=new Wn(Jt);function Bm(){return BD}class ph{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,t)),new ph(Dt.min(),r,Bm(),ls(),Tn())}}class Dc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Dc(xr.EMPTY_BYTE_STRING,t,Tn(),Tn(),Tn())}}class mp{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class zv{constructor(e,t){this.targetId=e,this.$=t}}class Wv{constructor(e,t,r=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Kv{constructor(){this.B=0,this.L=Qv(),this.U=xr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Tn(),t=Tn(),r=Tn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:pt()}}),new Dc(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Qv()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class jD{constructor(e){this.nt=e,this.st=new Map,this.it=ls(),this.rt=Yv(),this.ot=new Wn(Jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(ap(a))if(0===r){const d=new Xe(a.path);this.ct(t,d,Fn.newNoDocument(d,Dt.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,d)=>{const f=this.wt(d);if(f){if(a.current&&ap(f.target)){const _=new Xe(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,Fn.newNoDocument(_,e))}a.j&&(t.set(d,a.H()),a.J())}});let r=Tn();this.rt.forEach((a,d)=>{let f=!0;d.forEachWhile(_=>{const E=this.wt(_);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,d)=>d.setReadTime(e));const i=new ph(e,t,this.ot,this.it,r);return this.it=ls(),this.rt=Yv(),this.ot=new Wn(Jt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Kv,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Wn(Jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Kv),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Yv(){return new hr(Xe.comparator)}function Qv(){return new hr(Xe.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},Gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $D{constructor(e,t){this.databaseId=e,this.N=t}}function Hr(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ac(n,e){return n.N?e.toBase64():e.toUint8Array()}function qD(n,e){return Hr(n,e.toTimestamp())}function ri(n){return xt(!!n),Dt.fromTimestamp(function(e){const t=lu(e);return new dr(t.seconds,t.nanos)}(n))}function Zw(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gh(n){const e=un.fromString(n);return xt(nC(e)),e}function _p(n,e){return Zw(n.databaseId,e.path)}function to(n,e){const t=gh(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(zw(t))}function Jv(n,e){return Zw(n.databaseId,e)}function Xv(n){const e=gh(n);return 4===e.length?un.emptyPath():zw(e)}function yp(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zw(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jm(n,e,t){return{name:_p(n,e),fields:t.value.mapValue.fields}}function eb(n,e,t){const r=to(n,e.name),i=ri(e.updateTime),a=new Ni({mapValue:{fields:e.fields}}),d=Fn.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Sc(n,e){let t;if(e instanceof hp)t={update:jm(n,e.key,e.value)};else if(e instanceof gp)t={delete:_p(n,e.key)};else if(e instanceof Ic)t={update:jm(n,e.key,e.data),updateMask:tC(e.fieldMask)};else{if(!(e instanceof $v))return pt();t={verify:_p(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof Cc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hh)return{fieldPath:a.field.canonicalString(),increment:d.k};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:qD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:pt()),t;var i}function Kw(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Rr.updateTime(ri(i.updateTime)):void 0!==i.exists?Rr.exists(i.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(xt("REQUEST_TIME"===d.setToServerValue),f=new Cc):"appendMissingElements"in d?f=new hu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new fu(d.removeAllFromArray.values||[]):"increment"in d?f=new hh(a,d.increment):pt();const _=jr.fromServerFormat(d.fieldPath);return new dp(_,f)}(n,i)):[];var i;if(e.update){const i=to(n,e.update.name),a=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ih((e.updateMask.fieldPaths||[]).map(E=>jr.fromServerFormat(E)));return new Ic(i,a,d,t,r)}return new hp(i,a,t,r)}if(e.delete){const i=to(n,e.delete);return new gp(i,t)}if(e.verify){const i=to(n,e.verify);return new $v(i,t)}return pt()}function Qw(n,e){return{documents:[Jv(n,e.path)]}}function tb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Jv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const E=_.map(D=>function(M){if("=="===M.op){if(bw(M.value))return{unaryFilter:{field:bp(M.field),op:"IS_NAN"}};if(vw(M.value))return{unaryFilter:{field:bp(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(bw(M.value))return{unaryFilter:{field:bp(M.field),op:"IS_NOT_NAN"}};if(vw(M.value))return{unaryFilter:{field:bp(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bp(M.field),op:rb(M.op),value:M.value}}}(D));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(E=>{return{field:bp((D=E).field),direction:nb(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(E=e.limit,n.N||ip(E)?E:{value:E});var E,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function vp(n){let e=Xv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=Xw(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new uh(mh((M=D).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(D){let M;return M="object"==typeof D?D.value:D,ip(M)?null:M}(t.limit));let _=null;var D;t.startAt&&(_=new cu((D=t.startAt).values||[],!!D.before));let E=null;return t.endAt&&(E=function(D){return new cu(D.values||[],!D.before)}(t.endAt)),kw(e,i,d,a,f,"F",_,E)}function Xw(n){return n?void 0!==n.unaryFilter?[eC(n)]:void 0!==n.fieldFilter?[GD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Xw(e)).reduce((e,t)=>e.concat(t)):pt():[]}function nb(n){return HD[n]}function rb(n){return Gw[n]}function bp(n){return{fieldPath:n.canonicalString()}}function mh(n){return jr.fromServerFormat(n.fieldPath)}function GD(n){return vi.create(mh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function eC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=mh(n.unaryFilter.field);return vi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=mh(n.unaryFilter.field);return vi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mh(n.unaryFilter.field);return vi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mh(n.unaryFilter.field);return vi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function tC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Pi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iC(e)),e=rC(n.get(t),e);return iC(e)}function rC(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function iC(n){return n+"\x01\x01"}function wa(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&pt(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:pt()}a=d+2}return new un(r)}const ib=["userId","batchId"];function $m(n,e){return[n,Pi(e)]}function sb(n,e,t){return[n,Pi(e),t]}const sC={},oC=["prefixPath","collectionGroup","readTime","documentId"],aC=["prefixPath","collectionGroup","documentId"],ZD=["collectionGroup","readTime","prefixPath","documentId"],zD=["canonicalId","targetId"],Cx=["targetId","path"],lC=["path","targetId"],Ix=["collectionId","parent"],Tx=["indexId","uid"],Dx=["uid","sequenceNumber"],Ax=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sx=["indexId","uid","orderedDocumentKey"],Mx=["userId","collectionPath","documentId"],xx=["userId","collectionPath","largestBatchId"],Rx=["userId","collectionGroup","largestBatchId"],Ep=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kx=[...Ep,"documentOverlays"],ob=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ab=[...ob,"indexConfiguration","indexState","indexEntries"],lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let i=0,a=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},_=>r(_))}),d=!0,a===i&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(i=>i?ye.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class _h{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new cr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new yh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=cb(r.target.error);this.At.reject(new yh(e,i))}}static open(e,t,r,i){try{return new _h(t,e.transaction(i,r))}catch(a){throw new yh(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KD(t)}}class no{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===no.Vt((0,kt.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Mc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,kt.hl)())return!1;if(no.St())return!0;const e=(0,kt.z$)(),t=no.Vt(e),r=0<t&&t<10,i=no.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,De.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new yh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Ve(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ve(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new yh(e,f))},a.onupgradeneeded=d=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,De.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=_h.open(a.db,e,d?"readonly":"readwrite",r),E=i(_).next(D=>(_.bt(),D)).catch(D=>(_.abort(D),ye.reject(D))).toPromise();return E.catch(()=>{}),yield _.Rt,E}catch(_){const E="FirebaseError"!==_.name&&f<3;if($e("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),a.close(),!E)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WD{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Mc(this.Ft.delete())}}class yh extends Ve{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vh(n){return"IndexedDbTransactionError"===n.name}class KD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Mc(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Mc(this.store.add(e))}get(e){return Mc(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Mc(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Mc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ye((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ye((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,d,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new ye((r,i)=>{t.onerror=a=>{const d=cb(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new ye((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new WD(f),E=t(f.primaryKey,f.value,_);if(E instanceof ye){const D=E.catch(M=>(_.done(),ye.reject(M)));r.push(D)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mc(n){return new ye((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=cb(r.target.error);t(i)}})}let qm=!1;function cb(n){const e=no.Vt((0,kt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qm||(qm=!0,setTimeout(()=>{throw r},0)),r}}return n}class YD extends ub{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function bi(n,e){const t=it(n);return no.xt(t.Ht,e)}class uC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Hv(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&eo(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&eo(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tn())}isEqual(e){return this.batchId===e.batchId&&rp(this.mutations,e.mutations,(t,r)=>Um(t,r))&&rp(this.baseMutations,e.baseMutations,(t,r)=>Um(t,r))}}class db{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=Zv;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new db(e,t,r,i)}}class hb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mu{constructor(e,t,r,i,a=Dt.min(),d=Dt.min(),f=xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QD{constructor(e){this.Jt=e}}function Gm(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Zm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_p(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Hr(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ei(e.version)};else{if(!e.isUnknownDocument())return pt();r.unknownDocument={path:t.path.toArray(),version:Ei(e.version)}}var i,a;return r}function Zm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ei(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xc(n){const e=new dr(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function _u(n,e){const t=(e.baseMutations||[]).map(a=>Kw(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Kw(n.Jt,a)),i=dr.fromMillis(e.localWriteTimeMs);return new uC(e.batchId,i,t,r)}function wp(n){const e=xc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?xc(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=Bo(Vo(Xv(i.documents[0])))):r=Bo(vp(n.query)),new mu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,xr.fromBase64String(n.resumeToken))}function cC(n,e){const t=Ei(e.snapshotVersion),r=Ei(e.lastLimboFreeSnapshotVersion);let i;i=ap(e.target)?Qw(n.Jt,e.target):tb(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uo(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Cp(n){const e=vp({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lv(e,e.limit,"L"):e}function zm(n,e){return new hb(e.largestBatchId,Kw(n.Jt,e.overlayMutation))}function fb(n,e){const t=e.path.lastSegment();return[n,Pi(e.path.popLast()),t]}class XD{getBundleMetadata(e,t){return pb(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:xc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return pb(e).put({bundleId:(r=t).id,createTime:Ei(ri(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return dC(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Cp(i.bundledQuery),readTime:xc(i.readTime)};var i})}saveNamedQuery(e,t){return dC(e).put({name:(r=t).name,readTime:Ei(ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function pb(n){return bi(n,"bundles")}function dC(n){return bi(n,"namedQueries")}class gb{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new gb(e,t.uid||"")}getOverlay(e,t){return Ip(e).get(fb(this.userId,t)).next(r=>r?zm(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const f=new hb(t,d);i.push(this.Xt(e,f))}),ye.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Pi(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(Ip(e).Qt("collectionPathOverlayIndex",f))}),ye.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Tc(),a=Pi(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ip(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const E=zm(this.M,_);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Tc();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ip(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,E,D)=>{const M=zm(this.M,E);a.size()<i||M.largestBatchId===d?(a.set(M.getKey(),M),d=M.largestBatchId):D.done()}).next(()=>a)}Xt(e,t){return Ip(e).put(function(r,i,a){const[d,f,_]=fb(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Sc(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Ip(n){return bi(n,"documentOverlays")}class ml{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Pn(e.integerValue));else if("doubleValue"in e){const r=Pn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),yc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(_c(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Ov(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):pt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Xe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Rc(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function mb(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Rc(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ml.fe=new ml;class hC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=mb(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=mb(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class eA{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Ox{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Tp{constructor(){this.De=new hC,this.Ce=new eA(this.De),this.xe=new Ox(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class kc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new kc(this.indexId,this.documentKey,this.arrayValue,r)}}function Oc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=_b(n.arrayValue,e.arrayValue),0!==t?t:(t=_b(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function _b(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class tA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Sm(e);if(void 0!==t&&!this.Be(t))return!1;const r=fl(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class nA{constructor(){this.qe=new fC}addToCollectionParentIndex(e,t){return this.qe.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(Xs.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class fC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wn(un.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(un.comparator)).toArray()}}const bh=new Uint8Array(0);class pC{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new fC,this.Ge=new gu(r=>Uo(r),(r,i)=>km(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Pi(i)};return gC(e).put(a)}return ye.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ED(t),""],!1,!0);return gC(e).qt(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(wa(d.parent))}return r})}addFieldIndex(e,t){const r=Ap(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Ap(e),i=Eh(e),a=Dp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Dp(e);let i=!0;const a=new Map;return ye.forEach(this.Qe(t),d=>this.je(e,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=Tn();const f=[];return ye.forEach(a,(_,E)=>{var D;$e("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(lt=>`${lt.fieldPath}:${lt.kind}`).join(",")}`} to execute ${Uo(t)}`);const M=function(lt,et){const Rt=Sm(et);if(void 0===Rt)return null;for(const Ft of Om(lt,Rt.fieldPath))switch(Ft.op){case"array-contains-any":return Ft.value.arrayValue.values||[];case"array-contains":return[Ft.value]}return null}(E,_),L=function(lt,et){const Rt=new Map;for(const Ft of fl(et))for(const dn of Om(lt,Ft.fieldPath))switch(dn.op){case"==":case"in":Rt.set(Ft.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return Rt.set(Ft.fieldPath.canonicalString(),dn.value),Array.from(Rt.values())}return null}(E,_),B=function(lt,et){const Rt=[];let Ft=!0;for(const dn of fl(et)){const $r=0===dn.kind?Tw(lt,dn.fieldPath,lt.startAt):Dw(lt,dn.fieldPath,lt.startAt);Rt.push($r.value),Ft&&(Ft=$r.inclusive)}return new cu(Rt,Ft)}(E,_),G=function(lt,et){const Rt=[];let Ft=!0;for(const dn of fl(et)){const $r=0===dn.kind?Dw(lt,dn.fieldPath,lt.endAt):Tw(lt,dn.fieldPath,lt.endAt);Rt.push($r.value),Ft&&(Ft=$r.inclusive)}return new cu(Rt,Ft)}(E,_),he=this.We(_,E,B),ke=this.We(_,E,G),ct=this.ze(_,E,L),ht=this.He(_.indexId,M,he,B.inclusive,ke,G.inclusive,ct);return ye.forEach(ht,lt=>r.Gt(lt,t.limit).next(et=>{et.forEach(Rt=>{const Ft=Xe.fromSegments(Rt.documentKey);d.has(Ft)||(d=d.add(Ft),f.push(Ft))})}))}).next(()=>f)}return ye.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,a,d,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),E=_/(null!=t?t.length:1),D=[];for(let M=0;M<_;++M){const L=t?this.Je(t[M/E]):bh,B=this.Ye(e,L,r[M%E],i),G=this.Xe(e,L,a[M%E],d),he=f.map(ke=>this.Ye(e,L,ke,!0));D.push(...this.createRange(B,G,he))}return D}Ye(e,t,r,i){const a=new kc(e,Xe.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new kc(e,Xe.empty(),t,r);return i?a.ke():a}je(e,t){const r=new tA(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let d=null;for(const f of a)r.$e(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return ye.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?0!==r&&a.fields.length<function(d){let f=new Wn(jr.comparator),_=!1;for(const E of d.filters){const D=E;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:f=f.add(D.field))}for(const E of d.orderBy)E.field.isKeyField()||(f=f.add(E.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Tp;for(const i of fl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.Ne(i.kind);ml.fe.Zt(a,d)}return r.Se()}Je(e){const t=new Tp;return ml.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Tp;return ml.fe.Zt(Ec(this.databaseId,t),r.Ne(function(i){const a=fl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new Tp);let a=0;for(const d of fl(e)){const f=r[a++];for(const _ of i)if(this.en(t,d.fieldPath)&&sp(f))i=this.nn(i,d,f);else{const E=_.Ne(d.kind);ml.fe.Zt(f,E)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new Tp;_.seed(f.Se()),ml.fe.Zt(d,_.Ne(t.kind)),a.push(_)}return a}en(e,t){return!!e.filters.find(r=>r instanceof vi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ap(e),i=Eh(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const d=[];return ye.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(E,D){const M=D?new op(D.sequenceNumber,new Xs(xc(D.readTime),new Xe(wa(D.documentKey)),D.largestBatchId)):op.empty(),L=E.fields.map(([B,G])=>new Mm(jr.fromServerFormat(B),G));return new lh(E.indexId,E.collectionGroup,L,M)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ap(e),a=Eh(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ye.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Ei((L=r).readTime),documentKey:Pi(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?ye.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ye.forEach(f,_=>this.on(e,i,_).next(E=>{const D=this.un(a,_);return E.isEqual(D)?ye.resolve():this.an(e,a,_,E,D)}))))})}cn(e,t,r,i){return Dp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Dp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Dp(e);let a=new Wn(Oc);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,f)=>{a=a.add(new kc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new Wn(Oc);const i=this.Ze(t,e);if(null==i)return r;const a=Sm(t);if(null!=a){const d=e.data.field(a.fieldPath);if(sp(d))for(const f of d.arrayValue.values||[])r=r.add(new kc(t.indexId,e.key,this.Je(f),i))}else r=r.add(new kc(t.indexId,e.key,bh,i));return r}an(e,t,r,i,a){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,E,D,M){const L=f.getIterator(),B=_.getIterator();let G=pl(L),he=pl(B);for(;G||he;){let ke=!1,ct=!1;if(G&&he){const ht=E(G,he);ht<0?ct=!0:ht>0&&(ke=!0)}else null!=G?ct=!0:ke=!0;ke?(D(he),he=pl(B)):ct?(M(G),G=pl(L)):(G=pl(L),he=pl(B))}}(i,a,Oc,f=>{d.push(this.cn(e,t,r,f))},f=>{d.push(this.hn(e,t,r,f))}),ye.waitFor(d)}rn(e){let t=1;return Eh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Oc(d,f)).filter((d,f,_)=>!f||0!==Oc(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=Oc(d,e),_=Oc(d,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(d),i.push(d.ke());else if(_>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,bh,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,bh,[]]));return a}getMinOffset(e,t){let r;return ye.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?(!r||Cw(a.indexState.offset,r)<0)&&(r=a.indexState.offset):r=Xs.min()})).next(()=>r)}}function gC(n){return bi(n,"collectionParents")}function Dp(n){return bi(n,"indexEntries")}function Ap(n){return bi(n,"indexConfiguration")}function Eh(n){return bi(n,"indexState")}const Wm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mC(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:d},(D,M,L)=>(f++,L.delete()));a.push(_.next(()=>{xt(1===f)}));const E=[];for(const D of t.mutations){const M=sb(e,D.key.path,t.batchId);a.push(i.delete(M)),E.push(D.key)}return ye.waitFor(a).next(()=>E)}function Sp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class Km{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){xt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Km(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).Wt({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Mp(e),d=yu(e);return d.add({}).next(f=>{xt("number"==typeof f);const _=new uC(f,t,r,i),E=function(L,B,G){const he=G.baseMutations.map(ct=>Sc(L.Jt,ct)),ke=G.mutations.map(ct=>Sc(L.Jt,ct));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:he,mutations:ke}}(this.M,this.userId,_),D=[];let M=new Wn((L,B)=>Jt(L.canonicalString(),B.canonicalString()));for(const L of i){const B=sb(this.userId,L.key.path,f);M=M.add(L.key.path.popLast()),D.push(d.put(E)),D.push(a.put(B,sC))}return M.forEach(L=>{D.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),ye.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return yu(e).get(t).next(r=>r?(xt(r.userId===this.userId),_u(this.M,r)):null)}fn(e,t){return this.ln[t]?ye.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return yu(e).Wt({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(xt(f.batchId>=r),a=_u(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return yu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).qt("userMutationsIndex",t).next(r=>r.map(i=>_u(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=$m(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Mp(e).Wt({range:i},(d,f,_)=>{const[E,D,M]=d,L=wa(D);if(E===this.userId&&t.path.isEqual(L))return yu(e).get(M).next(B=>{if(!B)throw pt();xt(B.userId===this.userId),a.push(_u(this.M,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Jt);const i=[];return t.forEach(a=>{const d=$m(this.userId,a.path),f=IDBKeyRange.lowerBound(d),_=Mp(e).Wt({range:f},(E,D,M)=>{const[L,B,G]=E,he=wa(B);L===this.userId&&a.path.isEqual(he)?r=r.add(G):M.done()});i.push(_)}),ye.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=$m(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new Wn(Jt);return Mp(e).Wt({range:d},(_,E,D)=>{const[M,L,B]=_,G=wa(L);M===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(B)):D.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(yu(e).get(a).next(d=>{if(null===d)throw pt();xt(d.userId===this.userId),r.push(_u(this.M,d))}))}),ye.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return mC(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ye.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Mp(e).Wt({range:r},(a,d,f)=>{if(a[0]===this.userId){const _=wa(a[1]);i.push(_)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return _C(e,this.userId,t)}wn(e){return rA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _C(n,e,t){const r=$m(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return Mp(n).Wt({range:a,jt:!0},(f,_,E)=>{const[D,M,L]=f;D===e&&M===i&&(d=!0),E.done()}).next(()=>d)}function yu(n){return bi(n,"mutations")}function Mp(n){return bi(n,"documentMutations")}function rA(n){return bi(n,"mutationQueues")}class vu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new vu(0)}static yn(){return new vu(-1)}}class iA{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new vu(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Dt.fromTimestamp(new dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wh(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return wh(e).Wt((d,f)=>{const _=wp(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ye.waitFor(a)).next(()=>i)}forEachTarget(e,t){return wh(e).Wt((r,i)=>{const a=wp(i);t(a)})}pn(e){return yC(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return yC(e).put("targetGlobalKey",t)}Tn(e,t){return wh(e).put(cC(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Uo(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return wh(e).Wt({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const E=wp(f);km(t,E.target)&&(a=E,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Nc(e);return t.forEach(d=>{const f=Pi(d.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),ye.waitFor(i)}removeMatchingKeys(e,t,r){const i=Nc(e);return ye.forEach(t,a=>{const d=Pi(a.path);return ye.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Nc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Nc(e);let a=Tn();return i.Wt({range:r,jt:!0},(d,f,_)=>{const E=wa(d[1]),D=new Xe(E);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=Pi(t.path),i=IDBKeyRange.bound([r],[ED(r)],!1,!0);let a=0;return Nc(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,f],_,E)=>{0!==d&&(a++,E.done())}).next(()=>a>0)}Et(e,t){return wh(e).get(t).next(r=>r?wp(r):null)}}function wh(n){return bi(n,"targets")}function yC(n){return bi(n,"targetGlobal")}function Nc(n){return bi(n,"targetDocuments")}function Ch(n){return vC.apply(this,arguments)}function vC(){return vC=(0,De.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==lb)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),vC.apply(this,arguments)}function sA([n,e],[t,r]){const i=Jt(n,t);return 0===i?Jt(e,r):i}class Nx{constructor(e){this.An=e,this.buffer=new Wn(sA),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();sA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oA{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,De.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){vh(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ch(i)}yield t.Sn(e)}))}}class Ym{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(Ss.A);const r=new Nx(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(Wm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wm):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,d,f,_,E;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(E=Date.now(),Dv()<=Jl.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(E-_)+`ms\nTotal Duration: ${E-D}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class aA{constructor(e,t){this.db=e,this.garbageCollector=new Ym(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Qm(e,r)}removeReference(e,t,r){return Qm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qm(e,t)}On(e,t){return function(r,i){let a=!1;return rA(r).zt(d=>_C(r,d,i).next(f=>(f&&(a=!0),ye.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(d,f)=>{if(f<=t){const _=this.On(e,d).next(E=>{if(!E)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Dt.min()),Nc(e).delete([0,Pi(d.path)])))});i.push(_)}}).next(()=>ye.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qm(e,t)}Mn(e,t){const r=Nc(e);let i,a=Ss.A;return r.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:E})=>{0===d?(a!==Ss.A&&t(new Xe(wa(i)),a),a=E,i=_):a=Ss.A}).next(()=>{a!==Ss.A&&t(new Xe(wa(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qm(n,e){return Nc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Pi(e.path),sequenceNumber:r}));var r}class yb{constructor(){this.changes=new gu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pc{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return _l(e).put(r)}removeEntry(e,t,r){return _l(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Zm(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Fn.newInvalidDocument(t);return _l(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xp(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Fn.newInvalidDocument(t)};return _l(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xp(t))},(i,a)=>{r={document:this.$n(t,a),size:Sp(a)}}).next(()=>r)}getEntries(e,t){let r=ls();return this.Ln(e,t,(i,a)=>{const d=this.$n(i,a);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=ls(),i=new hr(Xe.comparator);return this.Ln(e,t,(a,d)=>{const f=this.$n(a,d);r=r.insert(a,f),i=i.insert(a,Sp(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return ye.resolve();let i=new Wn(e_);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(xp(i.first()),xp(i.last())),d=i.getIterator();let f=d.getNext();return _l(e).Wt({index:"documentKeyIndex",range:a},(_,E,D)=>{const M=Xe.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&e_(f,M)<0;)r(f,null),f=d.getNext();f&&f.isEqual(M)&&(r(f,E),f=d.hasNext()?d.getNext():null),f?D.Ut(xp(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Zm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _l(e).qt(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=ls();for(const _ of d){const E=this.$n(Xe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=ls();const d=Xm(t,r),f=Xm(t,Xs.max());return _l(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,E,D)=>{const M=this.$n(Xe.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(M.key,M),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new bC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jm(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return Jm(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function JD(n,e){let t;if(e.document)t=eb(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=xc(e.noDocument.readTime);t=Fn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const r=Xe.fromSegments(e.unknownDocument.path),i=xc(e.unknownDocument.version);t=Fn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new dr(r[0],r[1]);return Dt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return Fn.newInvalidDocument(e)}}class bC extends yb{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new gu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wn((a,d)=>Jt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),d.isValidDocument()){const _=Gm(this.Kn.M,d);i=i.add(a.path.popLast()),r+=Sp(_)-f.size,t.push(this.Kn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=Gm(this.Kn.M,d.convertToNoDocument(Dt.min()));t.push(this.Kn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,d)=>{this.Gn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function Jm(n){return bi(n,"remoteDocumentGlobal")}function _l(n){return bi(n,"remoteDocumentsV14")}function xp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xm(n,e){const t=e.documentKey.path.toArray();return[n,Zm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function e_(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Jt(t[a],r[a]),i)return i;return i=Jt(t.length,r.length),i||(i=Jt(t[t.length-2],r[r.length-2]),i||Jt(t[t.length-1],r[r.length-1]))}class t_{constructor(e){this.M=e}kt(e,t,r,i){const a=new _h("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ib,{unique:!0}),f.createObjectStore("documentMutations"),lA(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=ye.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),lA(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ib,{unique:!0});const D=_.store("mutations"),M=E.map(L=>D.put(L));return ye.waitFor(M)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(a))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Mx});_.createIndex("collectionPathOverlayIndex",xx,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Rx,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:oC});_.createIndex("documentKeyIndex",aC),_.createIndex("collectionGroupIndex",ZD)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Tx}).createIndex("sequenceNumberIndex",Dx,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Ax}).createIndex("documentKeyIndex",Sx,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=Sp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ye.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(f=>ye.forEach(f,_=>{xt(_.userId===a.userId);const E=_u(this.M,_);return mC(e,a.userId,E).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((d,f)=>{const _=new un(d),E=[0,Pi(_)];a.push(t.get(E).next(D=>D?ye.resolve():t.put({targetId:0,path:Pi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ye.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Ix});const r=t.store("collectionParents"),i=new fC,a=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Pi(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new un(d);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],E)=>{const D=wa(f);return a(D.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=wp(i),d=cC(this.M,a);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,d)=>{const f=t.store("remoteDocumentsV14"),_=(E=d,E.document?new Xe(un.fromString(E.document.name).popFirst(5)):E.noDocument?Xe.fromSegments(E.noDocument.path):E.unknownDocument?Xe.fromSegments(E.unknownDocument.path):pt()).path.toArray();var E;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(D))}).next(()=>ye.waitFor(i))}}function lA(n){n.createObjectStore("targetDocuments",{keyPath:Cx}).createIndex("documentTargetsIndex",lC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zD,{unique:!0}),n.createObjectStore("targetGlobal")}const EC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wC{constructor(e,t,r,i,a,d,f,_,E,D,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=d,this.document=f,this.Xn=E,this.Zn=D,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=L=>Promise.resolve(),!wC.vt())throw new Ve(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aA(this,i),this.hs=t+"main",this.M=new QD(_),this.ls=new no(this.hs,this.ts,new t_(this.M)),this.fs=new iA(this.referenceDelegate,this.M),this.ds=new Pc(this.M),this._s=new XD,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===D&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(me.FAILED_PRECONDITION,EC);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ss(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,De.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,De.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(vh(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return n_(e).get("owner").next(t=>ye.resolve(this.Ps(t)))}Vs(e){return Rp(e).delete(this.clientId)}vs(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=bi(r,"clientMetadata");return i.qt().next(a=>{const d=e.Ds(a,18e5),f=a.filter(_=>-1===d.indexOf(_));return ye.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ye.resolve(!0):n_(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Ve(me.FAILED_PRECONDITION,EC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rp(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new YD(t,Ss.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Rp(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Km.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new pC(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return gb.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){$e("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(d=this.ts)?ab:13===d?ob:12===d?kx:11===d?Ep:void pt();var d;let f;return this.ls.runTransaction(e,i,a,_=>(f=new YD(_,this.es?this.es.next():Ss.A),"readwrite-primary"===t?this.Es(f).next(E=>!!E||this.As(f)).next(E=>{if(!E)throw Xn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ve(me.FAILED_PRECONDITION,lb);return r(f)}).next(E=>this.bs(f).next(()=>E)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return n_(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(me.FAILED_PRECONDITION,EC)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return n_(e).put("owner",t)}static vt(){return no.vt()}Rs(e){const t=n_(e);return t.get("owner").next(r=>this.Ps(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ye.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Xn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,kt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Xn("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function n_(n){return bi(n,"owner")}function Rp(n){return bi(n,"clientMetadata")}function vb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uA{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Nm(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Xe(t)).next(r=>{let i=Vm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=Vm();return this.indexManager.getCollectionParents(e,i).next(d=>ye.forEach(d,f=>{const _=(E=t,D=f.child(i),new gl(D,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,D;return this.zs(e,_,r).next(E=>{E.forEach((D,M)=>{a=a.insert(D,M)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const d of a)for(const f of d.mutations){const _=f.key;let E=i.get(_);null==E&&(E=Fn.newInvalidDocument(_),i=i.insert(_,E)),eo(f,E,d.localWriteTime),E.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,d)=>{Vv(t,d)||(i=i.remove(a))}),i))}}class bb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Tn(),i=Tn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bb(e,t.fromCache,r,i)}}class CC{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(a=>a||this.ei(e,t,i,r)).next(a=>a||this.ni(e,t))}ti(e,t){return ye.resolve(null)}ei(e,t,r,i){return function Ow(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Dt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(a=>{const d=this.si(t,a);return this.ii(t,d,r,i)?this.ni(e,t):(Dv()<=Jl.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cp(t)),this.ri(e,d,t,xm(i,-1)))})}si(e,t){let r=new Wn(Fw(e));return t.forEach((i,a)=>{Vv(e,a)&&(r=r.add(a))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ni(e,t){return Dv()<=Jl.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",cp(t)),this.Zs.Qs(e,t,Xs.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class IC{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new hr(Jt),this.ai=new gu(a=>Uo(a),km),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new uA(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Eb(n,e,t,r){return new IC(n,e,t,r)}function wb(n,e){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,De.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.li(e),t.Bs.getAllMutationBatches(r))).next(a=>{const d=[],f=[];let _=Tn();for(const E of i){d.push(E.batchId);for(const D of E.mutations)_=_.add(D.key)}for(const E of a){f.push(E.batchId);for(const D of E.mutations)_=_.add(D.key)}return t.fi.Ks(r,_).next(E=>({di:E,removedBatchIds:d,addedBatchIds:f}))})})}),Cb.apply(this,arguments)}function cA(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,E){const D=_.batch,M=D.keys();let L=ye.resolve();return M.forEach(B=>{L=L.next(()=>E.getEntry(f,B)).next(G=>{const he=_.docVersions.get(B);xt(null!==he),G.version.compareTo(he)<0&&(D.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),E.addEntry(G)))})}),L.next(()=>d.Bs.removeMutationBatch(f,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function Ib(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Tb(n,e){const t=it(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const f=[];e.targetChanges.forEach((E,D)=>{const M=i.get(D);if(!M)return;f.push(t.fs.removeMatchingKeys(a,E.removedDocuments,D).next(()=>t.fs.addMatchingKeys(a,E.addedDocuments,D)));let L=M.withSequenceNumber(a.currentSequenceNumber);var B,G,he;e.targetMismatches.has(D)?L=L.withResumeToken(xr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,r)),i=i.insert(D,L),G=L,he=E,(0===(B=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,L))});let _=ls();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),f.push(dA(a,d,e.documentUpdates).next(E=>{_=E})),!r.isEqual(Dt.min())){const E=t.fs.getLastRemoteSnapshotVersion(a).next(D=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(E)}return ye.waitFor(f).next(()=>d.apply(a)).next(()=>t.fi.Gs(a,_)).next(()=>_)}).then(a=>(t.ui=i,a))}function dA(n,e,t){let r=Tn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=ls();return t.forEach((d,f)=>{const _=i.get(d);f.isNoDocument()&&f.version.isEqual(Dt.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):$e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),a})}function TC(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function bu(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,ye.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new mu(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Ih(n,e,t){return Db.apply(this,arguments)}function Db(){return Db=(0,De.Z)(function*(n,e,t){const r=it(n),i=r.ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!vh(d))throw d;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),Db.apply(this,arguments)}function Ab(n,e,t){const r=it(n);let i=Dt.min(),a=Tn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,E){const D=it(f),M=D.ai.get(E);return void 0!==M?ye.resolve(D.ui.get(M)):D.fs.getTargetData(_,E)}(r,d,Bo(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{a=_})}).next(()=>r.oi.Qs(d,e,t?i:Dt.min(),t?a:Tn())).next(f=>(AC(r,Pw(e),f),{documents:f,_i:a})))}function hA(n,e){const t=it(n),r=it(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(d=>d?d.target:null))}function DC(n,e){const t=it(n),r=t.ci.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,xm(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(AC(t,e,i),i))}function AC(n,e,t){let r=Dt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ci.set(e,r)}function SC(){return SC=(0,De.Z)(function*(n,e,t,r){const i=it(n);let a=Tn(),d=ls();for(const E of t){const D=e.wi(E.metadata.name);E.document&&(a=a.add(D));const M=e.mi(E);M.setReadTime(e.gi(E.metadata.readTime)),d=d.insert(D,M)}const f=i.hi.newChangeBuffer({trackRemovals:!0}),_=yield bu(i,(E=r,Bo(Vo(un.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>dA(E,f,d).next(D=>(f.apply(E),D)).next(D=>i.fs.removeMatchingKeysForTargetId(E,_.targetId).next(()=>i.fs.addMatchingKeys(E,a,_.targetId)).next(()=>i.fi.Gs(E,D)).next(()=>D)))}),SC.apply(this,arguments)}function Fx(n,e){return MC.apply(this,arguments)}function MC(){return MC=(0,De.Z)(function*(n,e,t=Tn()){const r=yield bu(n,Bo(Cp(e.bundledQuery))),i=it(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=ri(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(xr.EMPTY_BYTE_STRING,d);return i.ui=i.ui.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),MC.apply(this,arguments)}class Lx{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return ye.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:ri(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:Cp(r.bundledQuery),readTime:ri(r.readTime)}),ye.resolve();var r}}class fA{constructor(){this.overlays=new hr(Xe.comparator),this.Ii=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ii.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const i=Tc(),a=t.length+1,d=new Xe(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new hr((E,D)=>E-D);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let D=a.get(E.largestBatchId);null===D&&(D=Tc(),a=a.insert(E.largestBatchId,D)),D.set(E.getKey(),E)}}const f=Tc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,D)=>f.set(E,D)),!(f.size()>=i)););return ye.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new hb(t,r));let a=this.Ii.get(t);void 0===a&&(a=Tn(),this.Ii.set(t,a)),this.Ii.set(t,a.add(r.key))}}class xC{constructor(){this.Ti=new Wn(wi.Ei),this.Ai=new Wn(wi.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new wi(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new wi(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Xe(new un([])),r=new wi(t,e),i=new wi(t,e+1),a=[];return this.Ai.forEachInRange([r,i],d=>{this.Pi(d),a.push(d.key)}),a}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Xe(new un([])),r=new wi(t,e),i=new wi(t,e+1);let a=Tn();return this.Ai.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new wi(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wi{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Xe.comparator(e.key,t.key)||Jt(e.Ci,t.Ci)}static Ri(e,t){return Jt(e.Ci,t.Ci)||Xe.comparator(e.key,t.key)}}class Ux{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Wn(wi.Ei)}checkEmpty(e){return ye.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.xi;this.xi++;const d=new uC(a,t,r,i);this.Bs.push(d);for(const f of i)this.Ni=this.Ni.add(new wi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(d)}lookupMutationBatch(e,t){return ye.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),a=i<0?0:i;return ye.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return ye.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wi(t,0),i=new wi(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],d=>{const f=this.ki(d.Ci);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Jt);return t.forEach(i=>{const a=new wi(i,0),d=new wi(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([a,d],f=>{r=r.add(f.Ci)})}),ye.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const d=new wi(new Xe(a),0);let f=new Wn(Jt);return this.Ni.forEachWhile(_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(_.Ci)),!0)},d),ye.resolve(this.Oi(f))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return ye.forEach(t.mutations,i=>{const a=new wi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new wi(t,0),i=this.Ni.firstAfterOrEqual(r);return ye.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ye.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Vx{constructor(e){this.$i=e,this.docs=new hr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=ls();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Fn.newInvalidDocument(i))}),ye.resolve(r)}getAllFromCollection(e,t,r){let i=ls();const a=new Xe(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||Cw(SD(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,t,r,i){pt()}Bi(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new s(this)}getSize(e){return ye.resolve(this.size)}}class s extends yb{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class o{constructor(e){this.persistence=e,this.Li=new gu(t=>Uo(t),km),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new xC,this.targetCount=0,this.Ki=vu.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),ye.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new vu(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Tn(t),ye.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Li.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Li.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.qi.containsKey(t))}}class l{constructor(e,t){this.Gi={},this.overlays={},this.es=new Ss(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new o(this),this.indexManager=new nA,this.ds=new Vx(r=>this.referenceDelegate.Qi(r)),this.M=new QD(t),this._s=new Lx(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new Ux(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const i=new c(this.es.next());return this.referenceDelegate.ji(),r(i).next(a=>this.referenceDelegate.Wi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}zi(e,t){return ye.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class c extends ub{constructor(e){super(),this.currentSequenceNumber=e}}class h{constructor(e){this.persistence=e,this.Hi=new xC,this.Ji=null}static Yi(e){return new h(e)}get Xi(){if(this.Ji)return this.Ji;throw pt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Xi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xi,r=>{const i=Xe.fromPath(r);return this.Zi(e,i).next(a=>{a||t.removeEntry(i,Dt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return ye.or([()=>ye.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function p(n,e){return`firestore_clients_${n}_${e}`}function y(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function b(n,e){return`firestore_targets_${n}_${e}`}class C{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Ve(i.error.code,i.error.message))),d?new C(e,t,i.state,a):(Xn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class S{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ve(r.error.code,r.error.message))),a?new S(e,r.state,i):(Xn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class R{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bm();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=yw(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new R(e,a):(Xn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class F{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new F(t.clientId,t.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ${constructor(){this.activeTargetIds=Bm()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class te{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new hr(Jt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=p(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new $),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const a=e.getItem(p(e.persistenceKey,i));if(a){const d=R.tr(i,a);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(b(this.persistenceKey,e));if(r){const i=S.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(b(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(a){let d=Ss.A;if(null!=a)try{const f=JSON.parse(a);xt("number"==typeof f),d=f}catch(f){Xn("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Ss.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Fr(a)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new C(this.currentUser,e,t,r),a=y(this.persistenceKey,this.currentUser,e);this.setItem(a,i.er())}Ar(e){const t=y(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=b(this.persistenceKey,e),a=new S(e,t,r);this.setItem(i,a.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return R.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return C.tr(new ti(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return S.tr(i,t)}pr(e){return F.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),d=[],f=[];return a.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Lr(d,f).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Bm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Ae{constructor(){this.Ur=new $,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new $,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qe{Kr(e){}shutdown(){}}class Qe{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Le{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Tt extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const d=this.ho(e,t);$e("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,a),this.fo(e,d,f,r).then(_=>($e("RestConnection","Received: ",_),_),_=>{throw np("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,a){return this.co(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+gc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.uo}/v1/${t}:${dt[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,d)=>{const f=new hD;f.listenOnce(Cm.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case nh.NO_ERROR:const E=f.getResponseJson();$e("Connection","XHR received:",JSON.stringify(E)),a(E);break;case nh.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),d(new Ve(me.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const D=f.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const L=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(G)>=0?G:me.UNKNOWN}(M.status);d(new Ve(L,M.message))}else d(new Ve(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ve(me.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=wm(),d=cD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new hw({})),this.lo(f.initMessageHeaders,t,r),(0,kt.uI)()||(0,kt.b$)()||(0,kt.d)()||(0,kt.w1)()||(0,kt.Mn)()||(0,kt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");$e("Connection","Creating WebChannel: "+_,f);const E=a.createWebChannel(_,f);let D=!1,M=!1;const L=new Le({Jr:G=>{M?$e("Connection","Not sending because WebChannel is closed:",G):(D||($e("Connection","Opening WebChannel transport."),E.open(),D=!0),$e("Connection","WebChannel sending:",G),E.send(G))},Yr:()=>E.close()}),B=(G,he,ke)=>{G.listen(he,ct=>{try{ke(ct)}catch(ht){setTimeout(()=>{throw ht},0)}})};return B(E,Im.EventType.OPEN,()=>{M||$e("Connection","WebChannel transport opened.")}),B(E,Im.EventType.CLOSE,()=>{M||(M=!0,$e("Connection","WebChannel transport closed"),L.ro())}),B(E,Im.EventType.ERROR,G=>{M||(M=!0,np("Connection","WebChannel transport errored:",G),L.ro(new Ve(me.UNAVAILABLE,"The operation could not be completed")))}),B(E,Im.EventType.MESSAGE,G=>{var he;if(!M){const ke=G.data[0];xt(!!ke);const ct=ke,ht=ct.error||(null===(he=ct[0])||void 0===he?void 0:he.error);if(ht){$e("Connection","WebChannel received error:",ht);const lt=ht.status;let et=function(Ft){const dn=Tr[Ft];if(void 0!==dn)return qw(dn)}(lt),Rt=ht.message;void 0===et&&(et=me.INTERNAL,Rt="Unknown error status: "+lt+" with message "+ht.message),M=!0,L.ro(new Ve(et,Rt)),E.close()}else $e("Connection","WebChannel received:",ke),L.oo(ke)}}),B(d,ur.STAT_EVENT,G=>{G.stat===dD.PROXY?$e("Connection","Detected buffering proxy"):G.stat===dD.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.io()},0),L}}function tn(){return"undefined"!=typeof window?window:null}function pn(){return"undefined"!=typeof document?document:null}function Ci(n){return new $D(n,!0)}class yl{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class r_{constructor(e,t,r,i,a,d,f,_){this.Yn=e,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new yl(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,De.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,De.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,De.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Xn(t.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Ve(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,De.Z)(function*(){e.state=0,e.start()}))}jo(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sb extends r_{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Hm(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:pt(),i=e.targetChange.targetIds||[],a=function(_,E){return _.N?(xt(void 0===E||"string"==typeof E),xr.fromBase64String(E||"")):(xt(void 0===E||E instanceof Uint8Array),xr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const E=void 0===_.code?me.UNKNOWN:qw(_.code);return new Ve(E,_.message||"")}(d);t=new Wv(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=to(n,r.document.name),a=ri(r.document.updateTime),d=new Ni({mapValue:{fields:r.document.fields}}),f=Fn.newFoundDocument(i,a,d);t=new mp(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=to(n,r.document),a=r.readTime?ri(r.readTime):Dt.min(),d=Fn.newNoDocument(i,a);t=new mp([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=to(n,r.document);t=new mp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return pt();{const r=e.filter,a=new $w(r.count||0);t=new zv(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Dt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?ri(a.readTime):Dt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=yp(this.M),t.addTarget=function(i,a){let d;const f=a.target;return d=ap(f)?{documents:Qw(i,f)}:{query:tb(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=Ac(i,a.resumeToken):a.snapshotVersion.compareTo(Dt.min())>0&&(d.readTime=Hr(i,a.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function Jw(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=yp(this.M),t.removeTarget=e,this.Lo(t)}}class Mb extends r_{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Yw(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let a=ri(r.updateTime?r.updateTime:i);return a.isEqual(Dt.min())&&(a=ri(i)),new LD(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.tu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=yp(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Sc(this.M,r))};this.Lo(t)}}class xb extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(me.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So._o(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(me.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class Rb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Xn(t),this.uu=!1):$e("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class kb{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr(f=>{r.enqueueAndForget((0,De.Z)(function*(){var _;Th(d)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,De.Z)(function*(E){const D=it(E);D.wu.add(4),yield Eu(D),D.yu.set("Unknown"),D.wu.delete(4),yield Fc(D)}),function(E){return _.apply(this,arguments)})(d))}))}),this.yu=new Rb(r,i)}}function Fc(n){return kp.apply(this,arguments)}function kp(){return kp=(0,De.Z)(function*(n){if(Th(n))for(const e of n.mu)yield e(!0)}),kp.apply(this,arguments)}function Eu(n){return pA.apply(this,arguments)}function pA(){return pA=(0,De.Z)(function*(n){for(const e of n.mu)yield e(!1)}),pA.apply(this,arguments)}function RC(n,e){const t=it(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),_A(t)?mA(t):s_(t).Mo()&&gA(t,e))}function Ob(n,e){const t=it(n),r=s_(t);t._u.delete(e),r.Mo()&&Bx(t,e),0===t._u.size&&(r.Mo()?r.$o():Th(t)&&t.yu.set("Unknown"))}function gA(n,e){n.pu.Z(e.targetId),s_(n).Ho(e)}function Bx(n,e){n.pu.Z(e),s_(n).Jo(e)}function mA(n){n.pu=new jD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),s_(n).start(),n.yu.au()}function _A(n){return Th(n)&&!s_(n).ko()&&n._u.size>0}function Th(n){return 0===it(n).wu.size}function jx(n){n.pu=void 0}function _N(n){return yA.apply(this,arguments)}function yA(){return yA=(0,De.Z)(function*(n){n._u.forEach((e,t)=>{gA(n,e)})}),yA.apply(this,arguments)}function yN(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,De.Z)(function*(n,e){jx(n),_A(n)?(n.yu.lu(e),mA(n)):n.yu.set("Unknown")}),vA.apply(this,arguments)}function vN(n,e,t){return bA.apply(this,arguments)}function bA(){return bA=(0,De.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Wv&&2===e.state&&e.cause)try{yield(r=(0,De.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kC(n,r)}else if(e instanceof mp?n.pu.ut(e):e instanceof zv?n.pu._t(e):n.pu.ht(e),!t.isEqual(Dt.min()))try{const r=yield Ib(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.pu.yt(a);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const E=i._u.get(_);E&&i._u.set(_,E.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const _=i._u.get(f);if(!_)return;i._u.set(f,_.withResumeToken(xr.EMPTY_BYTE_STRING,_.snapshotVersion)),Bx(i,f);const E=new mu(_.target,f,1,_.sequenceNumber);gA(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield kC(n,r)}var r}),bA.apply(this,arguments)}function kC(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,De.Z)(function*(n,e,t){if(!vh(e))throw e;n.wu.add(1),yield Eu(n),n.yu.set("Offline"),t||(t=()=>Ib(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Fc(n)}))}),EA.apply(this,arguments)}function Hx(n,e){return e().catch(t=>kC(n,t,e))}function i_(n){return wA.apply(this,arguments)}function wA(){return wA=(0,De.Z)(function*(n){const e=it(n),t=Dh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;bN(e);)try{const i=yield TC(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,EN(e,i)}catch(i){yield kC(e,i)}$x(e)&&qx(e)}),wA.apply(this,arguments)}function bN(n){return Th(n)&&n.du.length<10}function EN(n,e){n.du.push(e);const t=Dh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function $x(n){return Th(n)&&!Dh(n).ko()&&n.du.length>0}function qx(n){Dh(n).start()}function wN(n){return CA.apply(this,arguments)}function CA(){return CA=(0,De.Z)(function*(n){Dh(n).nu()}),CA.apply(this,arguments)}function CN(n){return IA.apply(this,arguments)}function IA(){return IA=(0,De.Z)(function*(n){const e=Dh(n);for(const t of n.du)e.Zo(t.mutations)}),IA.apply(this,arguments)}function IN(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,De.Z)(function*(n,e,t){const r=n.du.shift(),i=db.from(r,e,t);yield Hx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield i_(n)}),TA.apply(this,arguments)}function TN(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,De.Z)(function*(n,e){var t;e&&Dh(n).Xo&&(yield(t=(0,De.Z)(function*(r,i){if(qv(a=i.code)&&a!==me.ABORTED){const d=r.du.shift();Dh(r).Fo(),yield Hx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield i_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),$x(n)&&qx(n)}),DA.apply(this,arguments)}function Gx(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,De.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Th(t);t.wu.add(3),yield Eu(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Fc(t)}),AA.apply(this,arguments)}function SA(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,De.Z)(function*(n,e){const t=it(n);e?(t.wu.delete(2),yield Fc(t)):e||(t.wu.add(2),yield Eu(t),t.yu.set("Unknown"))}),MA.apply(this,arguments)}function s_(n){return n.Iu||(n.Iu=function(e,t,r){const i=it(e);return i.iu(),new Sb(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:_N.bind(null,n),eo:yN.bind(null,n),zo:vN.bind(null,n)}),n.mu.push(function(){var e=(0,De.Z)(function*(t){t?(n.Iu.Fo(),_A(n)?mA(n):n.yu.set("Unknown")):(yield n.Iu.stop(),jx(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Dh(n){return n.Tu||(n.Tu=function(e,t,r){const i=it(e);return i.iu(),new Mb(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:wN.bind(null,n),eo:TN.bind(null,n),eu:CN.bind(null,n),tu:IN.bind(null,n)}),n.mu.push(function(){var e=(0,De.Z)(function*(t){t?(n.Tu.Fo(),yield i_(n)):(yield n.Tu.stop(),n.du.length>0&&($e("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class xA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,f=new xA(e,t,d,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o_(n,e){if(Xn("AsyncQueue",`${e}: ${n}`),vh(n))return new Ve(me.UNAVAILABLE,`${e}: ${n}`);throw n}class a_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=Vm(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new a_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof a_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new a_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Zx{constructor(){this.Eu=new hr(Xe.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):pt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class l_{constructor(e,t,r,i,a,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new l_(e,t,a_.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class DN{constructor(){this.Ru=void 0,this.listeners=[]}}class AN{constructor(){this.queries=new gu(e=>Uv(e),Pm),this.onlineState="Unknown",this.bu=new Set}}function RA(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,De.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new DN),i)try{a.Ru=yield t.onListen(r)}catch(d){const f=o_(d,`Initialization of query '${cp(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.Vu(a.Ru)&&PA(t)}),kA.apply(this,arguments)}function OA(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,De.Z)(function*(n,e){const t=it(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),NA.apply(this,arguments)}function SN(n,e){const t=it(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Vu(i)&&(r=!0);d.Ru=i}}r&&PA(t)}function MN(n,e,t){const r=it(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function PA(n){n.bu.forEach(e=>{e.next()})}class FA{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new l_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=l_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class xN{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class zx{constructor(e){this.M=e}wi(e){return to(this.M,e)}mi(e){return e.metadata.exists?eb(this.M,e.document,!1):Fn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ri(e)}}class RN{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Wx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new zx(this.M);for(const i of e)if(i.metadata.queries){const a=r.wi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Tn()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function Px(n,e,t,r){return SC.apply(this,arguments)}(e.localStore,new zx(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield Fx(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Wx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Kx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class Qx{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Tn(),this.mutatedKeys=Tn(),this.Gu=Fw(e),this.Qu=new a_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new Zx,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,M)=>{const L=i.get(D),B=Vv(this.query,M)?M:null,G=!!L&&this.mutatedKeys.has(L.key),he=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ke=!1;L&&B?L.data.isEqual(B.data)?G!==he&&(r.track({type:3,doc:B}),ke=!0):this.Hu(L,B)||(r.track({type:2,doc:B}),ke=!0,(_&&this.Gu(B,_)>0||E&&this.Gu(B,E)<0)&&(f=!0)):!L&&B?(r.track({type:0,doc:B}),ke=!0):L&&!B&&(r.track({type:1,doc:L}),ke=!0,(_||E)&&(f=!0)),ke&&(B?(d=d.add(B),a=he?a.add(D):a.delete(D)):(d=d.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{Qu:d,zu:r,ii:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((E,D)=>function(M,L){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return B(M)-B(L)}(E.type,D.type)||this.Gu(E.doc,D.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new l_(this.query,e.Qu,i,a,e.mutatedKeys,0===f,_,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Zx,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Tn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Yx(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Kx(r))}),t}ta(e){this.Uu=e._i,this.Ku=Tn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return l_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class kN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ON{constructor(e){this.key=e,this.na=!1}}class NN{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new gu(f=>Uv(f),Pm),this.ra=new Map,this.oa=new Set,this.ua=new hr(Xe.comparator),this.aa=new Map,this.ca=new xC,this.ha={},this.la=new Map,this.fa=vu.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function PN(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,De.Z)(function*(n,e){const t=oS(n);let r,i;const a=t.ia.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ea();else{const d=yield bu(t.localStore,Bo(e));t.isPrimaryClient&&RC(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield UA(t,e,r,"current"===f)}return i}),LA.apply(this,arguments)}function UA(n,e,t,r){return VA.apply(this,arguments)}function VA(){return VA=(0,De.Z)(function*(n,e,t,r){n._a=(D,M,L)=>{return(B=(0,De.Z)(function*(G,he,ke,ct){let ht=he.view.Wu(ke);ht.ii&&(ht=yield Ab(G.localStore,he.query,!1).then(({documents:Rt})=>he.view.Wu(Rt,ht)));const lt=ct&&ct.targetChanges.get(he.targetId),et=he.view.applyChanges(ht,G.isPrimaryClient,lt);return KA(G,he.targetId,et.Xu),et.snapshot}),function(G,he,ke,ct){return B.apply(this,arguments)})(n,D,M,L);var B};const i=yield Ab(n.localStore,e,!0),a=new Qx(e,i._i),d=a.Wu(i.documents),f=Dc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(d,n.isPrimaryClient,f);KA(n,t,_.Xu);const E=new kN(e,t,a);return n.ia.set(e,E),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),_.snapshot}),VA.apply(this,arguments)}function FN(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,De.Z)(function*(n,e){const t=it(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(a=>!Pm(a,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ih(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ob(t.remoteStore,r.targetId),u_(t,r.targetId)}).catch(Ch))):(u_(t,r.targetId),yield Ih(t.localStore,r.targetId,!0))}),BA.apply(this,arguments)}function jA(){return jA=(0,De.Z)(function*(n,e,t){const r=aS(n);try{const i=yield function(a,d){const f=it(a),_=dr.now(),E=d.reduce((M,L)=>M.add(L.key),Tn());let D;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>f.fi.Ks(M,E).next(L=>{D=L;const B=[];for(const G of d){const he=UD(G,D.get(G.key));null!=he&&B.push(new Ic(G.key,he,ww(he.value.mapValue),Rr.exists(!0)))}return f.Bs.addMutationBatch(M,_,B,d)})).then(M=>(M.applyToLocalDocumentSet(D),{batchId:M.batchId,changes:D}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let _=a.ha[a.currentUser.toKey()];_||(_=new hr(Jt)),_=_.insert(d,f),a.ha[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Lc(r,i.changes),yield i_(r.remoteStore)}catch(i){const a=o_(i,"Failed to persist write");t.reject(a)}}),jA.apply(this,arguments)}function Jx(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,De.Z)(function*(n,e){const t=it(n);try{const r=yield Tb(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.aa.get(a);d&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.na=!0:i.modifiedDocuments.size>0?xt(d.na):i.removedDocuments.size>0&&(xt(d.na),d.na=!1))}),yield Lc(t,r,e)}catch(r){yield Ch(r)}}),HA.apply(this,arguments)}function Xx(n,e,t){const r=it(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((a,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=it(a);f.onlineState=d;let _=!1;f.queries.forEach((E,D)=>{for(const M of D.listeners)M.Pu(d)&&(_=!0)}),_&&PA(f)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function UN(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,De.Z)(function*(n,e,t){const r=it(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),a=i&&i.key;if(a){let d=new hr(Xe.comparator);d=d.insert(a,Fn.newNoDocument(a,Dt.min()));const f=Tn().add(a),_=new ph(Dt.min(),new Map,new Wn(Jt),d,f);yield Jx(r,_),r.ua=r.ua.remove(a),r.aa.delete(e),YA(r)}else yield Ih(r.localStore,e,!1).then(()=>u_(r,e,t)).catch(Ch)}),$A.apply(this,arguments)}function VN(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,De.Z)(function*(n,e){const t=it(n),r=e.batch.batchId;try{const i=yield cA(t.localStore,e);WA(t,r,null),zA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Lc(t,i)}catch(i){yield Ch(i)}}),qA.apply(this,arguments)}function BN(n,e,t){return GA.apply(this,arguments)}function GA(){return GA=(0,De.Z)(function*(n,e,t){const r=it(n);try{const i=yield function(a,d){const f=it(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return f.Bs.lookupMutationBatch(_,d).next(D=>(xt(null!==D),E=D.keys(),f.Bs.removeMutationBatch(_,D))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.fi.Ks(_,E))})}(r.localStore,e);WA(r,e,t),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Lc(r,i)}catch(i){yield Ch(i)}}),GA.apply(this,arguments)}function ZA(){return ZA=(0,De.Z)(function*(n,e){const t=it(n);Th(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=it(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=o_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ZA.apply(this,arguments)}function zA(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function WA(n,e,t){const r=it(n);let i=r.ha[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function u_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||e1(n,r)})}function e1(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Ob(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),YA(n))}function KA(n,e,t){for(const r of t)r instanceof Kx?(n.ca.addReference(r.key,e),HN(n,r)):r instanceof Yx?($e("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||e1(n,r.key)):pt()}function HN(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||($e("SyncEngine","New document in limbo: "+t),n.oa.add(r),YA(n))}function YA(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Xe(un.fromString(e)),r=n.fa.next();n.aa.set(r,new ON(t)),n.ua=n.ua.insert(t,r),RC(n.remoteStore,new mu(Bo(Vo(t.path)),r,2,Ss.A))}}function Lc(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,De.Z)(function*(n,e,t){const r=it(n),i=[],a=[],d=[];var f;r.ia.isEmpty()||(r.ia.forEach((f,_)=>{d.push(r._a(_,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,E.fromCache?"not-current":"current"),i.push(E);const D=bb.Ys(_.targetId,E);a.push(D)}}))}),yield Promise.all(d),r.sa.zo(i),yield(f=(0,De.Z)(function*(_,E){const D=it(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ye.forEach(E,L=>ye.forEach(L.Hs,B=>D.persistence.referenceDelegate.addReference(M,L.targetId,B)).next(()=>ye.forEach(L.Js,B=>D.persistence.referenceDelegate.removeReference(M,L.targetId,B)))))}catch(M){if(!vh(M))throw M;$e("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const L=M.targetId;if(!M.fromCache){const B=D.ui.get(L),he=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);D.ui=D.ui.insert(L,he)}}}),function(_,E){return f.apply(this,arguments)})(r.localStore,a))}),QA.apply(this,arguments)}function $N(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,De.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield wb(t.localStore,e);t.currentUser=e,(i=t).la.forEach(d=>{d.forEach(f=>{f.reject(new Ve(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Lc(t,r.di)}var i}),JA.apply(this,arguments)}function qN(n,e){const t=it(n),r=t.aa.get(e);if(r&&r.na)return Tn().add(r.key);{let i=Tn();const a=t.ra.get(e);if(!a)return i;for(const d of a){const f=t.ia.get(d);i=i.unionWith(f.view.ju)}return i}}function GN(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,De.Z)(function*(n,e){const t=it(n),r=yield Ab(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&KA(t,e.targetId,i.Xu),i}),XA.apply(this,arguments)}function ZN(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,De.Z)(function*(n,e){const t=it(n);return DC(t.localStore,e).then(r=>Lc(t,r))}),eS.apply(this,arguments)}function zN(n,e,t,r){return tS.apply(this,arguments)}function tS(){return tS=(0,De.Z)(function*(n,e,t,r){const i=it(n),a=yield function(d,f){const _=it(d),E=it(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>E.fn(D,f).next(M=>M?_.fi.Ks(D,M):ye.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield i_(i.remoteStore):"acknowledged"===t||"rejected"===t?(WA(i,e,r||null),zA(i,e),f=e,it(it(i.localStore).Bs)._n(f)):pt(),yield Lc(i,a)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),tS.apply(this,arguments)}function nS(){return nS=(0,De.Z)(function*(n,e){const t=it(n);if(oS(t),aS(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield t1(t,r.toArray());t.da=!0,yield SA(t.remoteStore,!0);for(const a of i)RC(t.remoteStore,a)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(u_(t,d),Ih(t.localStore,d,!0))),Ob(t.remoteStore,d)}),yield i,yield t1(t,r),function(a){const d=it(a);d.aa.forEach((f,_)=>{Ob(d.remoteStore,_)}),d.ca.Si(),d.aa=new Map,d.ua=new hr(Xe.comparator)}(t),t.da=!1,yield SA(t.remoteStore,!1)}}),nS.apply(this,arguments)}function t1(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,De.Z)(function*(n,e,t){const r=it(n),i=[],a=[];for(const d of e){let f;const _=r.ra.get(d);if(_&&0!==_.length){f=yield bu(r.localStore,Bo(_[0]));for(const E of _){const D=r.ia.get(E),M=yield GN(r,D);M.snapshot&&a.push(M.snapshot)}}else{const E=yield hA(r.localStore,d);f=yield bu(r.localStore,E),yield UA(r,n1(E),d,!1)}i.push(f)}return r.sa.zo(a),i}),rS.apply(this,arguments)}function n1(n){return kw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function KN(n){const e=it(n);return it(it(e.localStore).persistence).Fs()}function YN(n,e,t,r){return iS.apply(this,arguments)}function iS(){return iS=(0,De.Z)(function*(n,e,t,r){const i=it(n);if(i.da)return void $e("SyncEngine","Ignoring unexpected query state notification.");const a=i.ra.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield DC(i.localStore,Pw(a[0])),f=ph.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Lc(i,d,f);break}case"rejected":yield Ih(i.localStore,e,!0),u_(i,e,r);break;default:pt()}}),iS.apply(this,arguments)}function QN(n,e,t){return sS.apply(this,arguments)}function sS(){return sS=(0,De.Z)(function*(n,e,t){const r=oS(n);if(r.da){for(const i of e){if(r.ra.has(i)){$e("SyncEngine","Adding an already active target "+i);continue}const a=yield hA(r.localStore,i),d=yield bu(r.localStore,a);yield UA(r,n1(a),d.targetId,!1),RC(r.remoteStore,d)}for(const i of t)r.ra.has(i)&&(yield Ih(r.localStore,i,!1).then(()=>{Ob(r.remoteStore,i),u_(r,i)}).catch(Ch))}}),sS.apply(this,arguments)}function oS(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UN.bind(null,e),e.sa.zo=SN.bind(null,e.eventManager),e.sa.wa=MN.bind(null,e.eventManager),e}function aS(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BN.bind(null,e),e}class r1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.M=Ci(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Eb(this.persistence,new CC,e.initialUser,this.M)}ya(e){return new l(h.Yi,this.M)}ga(e){return new Ae}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class s1 extends r1{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield aS(r.Ta.syncEngine),yield i_(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return Eb(this.persistence,new CC,e.initialUser,this.M)}pa(e){return new oA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=vb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new wC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,tn(),pn(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Ae}}class XN extends s1{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof te&&(r.sharedClientState.syncEngine={$r:zN.bind(null,i),Br:YN.bind(null,i),Lr:QN.bind(null,i),Fs:KN.bind(null,i),Fr:ZN.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,De.Z)(function*(d){yield function WN(n,e){return nS.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}ga(e){const t=tn();if(!te.vt(t))throw new Ve(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=vb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new te(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class lS{initialize(e,t){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Xx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,r.syncEngine),yield SA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new AN}createDatastore(e){const t=Ci(e.databaseInfo.databaseId),r=new Tt(e.databaseInfo);return new xb(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Xx(this.syncEngine,f,0),d=Qe.vt()?new Qe:new qe,new kb(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,f,_,E){const D=new NN(r,i,a,d,f,_);return E&&(D.da=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const r=it(t);$e("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Eu(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function o1(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class OC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eP{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new cr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,De.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const a=yield e.Sa(i);return new xN(JSON.parse(a),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,De.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class tP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,De.Z)(function*(a,d){const f=it(a),_=yp(f.M)+"/documents",E={documents:d.map(B=>_p(f.M,B))},D=yield f._o("BatchGetDocuments",_,E),M=new Map;D.forEach(B=>{const G=function Ww(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=to(t,r.found.name),a=ri(r.found.updateTime),d=new Ni({mapValue:{fields:r.found.fields}});return Fn.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=to(t,r.missing),a=ri(r.readTime);return Fn.newNoDocument(i,a)}(n,e):pt()}(f.M,B);M.set(G.key.toString(),G)});const L=[];return d.forEach(B=>{const G=M.get(B.toString());xt(!!G),L.push(G)}),L}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Xe.fromPath(i);e.mutations.push(new $v(a,e.precondition(a)))}),yield(r=(0,De.Z)(function*(i,a){const d=it(i),f=yp(d.M)+"/documents",_={writes:a.map(E=>Sc(d.M,E))};yield d.co("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ve(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Rr.updateTime(t):Rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Ve(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(t)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nP{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new yl(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,De.Z)(function*(){const t=new tP(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ma(a)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!ip(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qv(t)}return!1}}class rP{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ti.UNAUTHENTICATED,this.clientId=bD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,De.Z)(function*(f){$e("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>($e("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=o_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function a1(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,De.Z)(function*(a){r.isEqual(a)||(yield wb(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),uS.apply(this,arguments)}function l1(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield dS(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Gx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Gx(e.remoteStore,a)),n.onlineComponents=e}),cS.apply(this,arguments)}function dS(n){return hS.apply(this,arguments)}function hS(){return hS=(0,De.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield a1(n,new r1)),n.offlineComponents}),hS.apply(this,arguments)}function NC(n){return fS.apply(this,arguments)}function fS(){return fS=(0,De.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield l1(n,new lS)),n.onlineComponents}),fS.apply(this,arguments)}function u1(n){return dS(n).then(e=>e.persistence)}function pS(n){return dS(n).then(e=>e.localStore)}function c1(n){return NC(n).then(e=>e.remoteStore)}function gS(n){return NC(n).then(e=>e.syncEngine)}function c_(n){return mS.apply(this,arguments)}function mS(){return mS=(0,De.Z)(function*(n){const e=yield NC(n),t=e.eventManager;return t.onListen=PN.bind(null,e.syncEngine),t.onUnlisten=FN.bind(null,e.syncEngine),t}),mS.apply(this,arguments)}function d1(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,a,d,f,_){const E=new OC({next:M=>{a.enqueueAndForget(()=>OA(i,D));const L=M.docs.has(d);!L&&M.fromCache?_.reject(new Ve(me.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&f&&"server"===f.source?_.reject(new Ve(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new FA(Vo(d.path),E,{includeMetadataChanges:!0,ku:!0});return RA(i,D)}(yield c_(n),n.asyncQueue,e,t,r)})),r.promise}function h1(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,a,d,f,_){const E=new OC({next:M=>{a.enqueueAndForget(()=>OA(i,D)),M.fromCache&&"server"===f.source?_.reject(new Ve(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new FA(d,E,{includeMetadataChanges:!0,ku:!0});return RA(i,D)}(yield c_(n),n.asyncQueue,e,t,r)})),r.promise}const f1=new Map;function _S(n,e,t){if(!t)throw new Ve(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function p1(n,e,t,r){if(!0===e&&!0===r)throw new Ve(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function g1(n){if(!Xe.isDocumentKey(n))throw new Ve(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m1(n){if(Xe.isDocumentKey(n))throw new Ve(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=PC(n);throw new Ve(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _1(n,e){if(e<=0)throw new Ve(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class y1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,p1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1,e instanceof ba?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ve(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ve(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pD;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new gw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ve(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=f1.get(e);t&&($e("ComponentProvider","Removing Datastore"),f1.delete(e),t.terminate())}(this),Promise.resolve()}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class us{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class wu extends us{constructor(e,t,r){super(e,t,Vo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Xe(e))}withConverter(e){return new wu(this.firestore,e,this._path)}}function v1(n,e,...t){if(n=(0,kt.m9)(n),_S("collection","path",e),n instanceof Nb){const r=un.fromString(e,...t);return m1(r),new wu(n,null,r)}{if(!(n instanceof sr||n instanceof wu))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return m1(r),new wu(n.firestore,null,r)}}function FC(n,e,...t){if(n=(0,kt.m9)(n),1===arguments.length&&(e=bD.R()),_S("doc","path",e),n instanceof Nb){const r=un.fromString(e,...t);return g1(r),new sr(n,null,new Xe(r))}{if(!(n instanceof sr||n instanceof wu))throw new Ve(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return g1(r),new sr(n.firestore,n instanceof wu?n.converter:null,new Xe(r))}}function b1(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),(n instanceof sr||n instanceof wu)&&(e instanceof sr||e instanceof wu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function E1(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),n instanceof us&&e instanceof us&&n.firestore===e.firestore&&Pm(n._query,e._query)&&n.converter===e.converter}class pP{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new yl(this,"async_queue_retry"),this.Qa=()=>{const t=pn();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=pn();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=pn();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new cr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,De.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!vh(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=xA.createAndSchedule(this,e,t,r,a=>this.Ha(a));return this.La.push(i),i}ja(){this.Ua&&pt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function yS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class gP{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends Nb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new pP,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||w1(this),this._firestoreClient.terminate()}}function _P(n=(0,Qs.getApp)()){return(0,Qs._getProvider)(n,"firestore").getImmediate()}function ii(n){return n._firestoreClient||w1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function w1(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TD(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new rP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function C1(n,e,t){const r=new cr;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield a1(n,t),yield l1(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function I1(n){if(n._initialized||n._terminated)throw new Ve(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cu(xr.fromBase64String(e))}catch(t){throw new Ve(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cu(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Op{constructor(e){this._methodName=e}}class LC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const DP=/^__.*__$/;class AP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ic(e,this.data,this.fieldMask,t,this.fieldTransforms):new hp(e,this.data,t,this.fieldTransforms)}}class T1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ic(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function D1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class UC{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new UC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return jC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(D1(this.ec)&&DP.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class SP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Ci(e)}lc(e,t,r,i=!1){return new UC({ec:e,methodName:t,hc:r,path:jr.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Np(n){const e=n._freezeSettings(),t=Ci(n._databaseId);return new SP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VC(n,e,t,r,i,a={}){const d=n.lc(a.merge||a.mergeFields?2:0,e,t,i);wS("Data must be an object, but it was:",d,r);const f=M1(r,d);let _,E;if(a.merge)_=new ih(d.fieldMask),E=d.fieldTransforms;else if(a.mergeFields){const D=[];for(const M of a.mergeFields){const L=CS(e,M,t);if(!d.contains(L))throw new Ve(me.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);R1(D,L)||D.push(L)}_=new ih(D),E=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,E=d.fieldTransforms;return new AP(new Ni(f),_,E)}class Pb extends Op{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pb}}function A1(n,e,t){return new UC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class vS extends Op{_toFieldTransform(e){return new dp(e.path,new Cc)}isEqual(e){return e instanceof vS}}class MP extends Op{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=A1(this,e,!0),r=this.fc.map(a=>Pp(a,t)),i=new hu(r);return new dp(e.path,i)}isEqual(e){return this===e}}class xP extends Op{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=A1(this,e,!0),r=this.fc.map(a=>Pp(a,t)),i=new fu(r);return new dp(e.path,i)}isEqual(e){return this===e}}class RP extends Op{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new hh(e.M,Vw(e.M,this.dc));return new dp(e.path,t)}isEqual(e){return this===e}}function bS(n,e,t,r){const i=n.lc(1,e,t);wS("Data must be an object, but it was:",i,r);const a=[],d=Ni.empty();mc(r,(_,E)=>{const D=BC(e,_,t);E=(0,kt.m9)(E);const M=i.oc(D);if(E instanceof Pb)a.push(D);else{const L=Pp(E,M);null!=L&&(a.push(D),d.set(D,L))}});const f=new ih(a);return new T1(d,f,i.fieldTransforms)}function ES(n,e,t,r,i,a){const d=n.lc(1,e,t),f=[CS(e,r,t)],_=[i];if(a.length%2!=0)throw new Ve(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(CS(e,a[L])),_.push(a[L+1]);const E=[],D=Ni.empty();for(let L=f.length-1;L>=0;--L)if(!R1(E,f[L])){const B=f[L];let G=_[L];G=(0,kt.m9)(G);const he=d.oc(B);if(G instanceof Pb)E.push(B);else{const ke=Pp(G,he);null!=ke&&(E.push(B),D.set(B,ke))}}const M=new ih(E);return new T1(D,M,d.fieldTransforms)}function S1(n,e,t,r=!1){return Pp(t,n.lc(r?4:3,e))}function Pp(n,e){if(x1(n=(0,kt.m9)(n)))return wS("Unsupported field value:",e,n),M1(n,e);if(n instanceof Op)return function(t,r){if(!D1(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let f=Pp(d,r.uc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,kt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Vw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dr.fromDate(t);return{timestampValue:Hr(r.M,i)}}if(t instanceof dr){const i=new dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hr(r.M,i)}}if(t instanceof LC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cu)return{bytesValue:Ac(r.M,t._byteString)};if(t instanceof sr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ac(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zw(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${PC(t)}`)}(n,e)}function M1(n,e){const t={};return Mv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mc(n,(r,i)=>{const a=Pp(i,e.sc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function x1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof dr||n instanceof LC||n instanceof Cu||n instanceof sr||n instanceof Op)}function wS(n,e,t){if(!x1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=PC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function CS(n,e,t){if((e=(0,kt.m9)(e))instanceof Uc)return e._internalPath;if("string"==typeof e)return BC(n,e);throw jC("Field path arguments must be of type string or ",n,!1,void 0,t)}const kP=new RegExp("[~\\*/\\[\\]]");function BC(n,e,t){if(e.search(kP)>=0)throw jC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uc(...e.split("."))._internalPath}catch(r){throw jC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jC(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Ve(me.INVALID_ARGUMENT,f+n+_)}function R1(n,e){return n.some(t=>t.isEqual(e))}class Fb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new OP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class OP extends Fb{data(){return super.data()}}function HC(n,e){return"string"==typeof e?BC(n,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends Fb{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Lb extends Vc{data(e={}){return super.data(e)}}class Ah{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Lb(this._firestore,this._userDataWriter,r.key,r,new Fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Lb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Fp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new Lb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Fp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,E=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),E=a.indexOf(d.doc.key)),{type:NP(d.type),doc:f,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function k1(n,e){return n instanceof Vc&&e instanceof Vc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ah&&e instanceof Ah&&n._firestore===e._firestore&&E1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function O1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{}function Sh(n,...e){for(const t of e)n=t._apply(n);return n}class PP extends Ub{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Np(e.firestore),r=function(i,a,d,f,_,E,D){let M;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){V1(D,E);const B=[];for(const G of D)B.push(U1(f,i,G));M={arrayValue:{values:B}}}else M=U1(f,i,D)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||V1(D,E),M=S1(d,"where",D,"in"===E||"not-in"===E);const L=vi.create(_,E,M);return function(B,G){if(G.S()){const ke=Nw(B);if(null!==ke&&!ke.isEqual(G.field))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ke.toString()}' and '${G.field.toString()}'`);const ct=du(B);null!==ct&&B1(0,G.field,ct)}const he=function(ke,ct){for(const ht of ke.filters)if(ct.indexOf(ht.op)>=0)return ht.op;return null}(B,function(ke){switch(ke){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==he)throw new Ve(me.INVALID_ARGUMENT,he===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${he.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new us(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class LP extends Ub{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new uh(i,a);return function(f,_){if(null===du(f)){const E=Nw(f);null!==E&&B1(0,E,_.field)}}(r,d),d}(e._query,this._c,this.gc);return new us(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new gl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class N1 extends Ub{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new us(e.firestore,e.converter,Lv(e._query,this.yc,this.Ic))}}class P1 extends Ub{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=L1(e,this.type,this.Tc,this.Ec);return new us(e.firestore,e.converter,(i=t,new gl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class F1 extends Ub{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=L1(e,this.type,this.Tc,this.Ec);return new us(e.firestore,e.converter,(i=t,new gl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function L1(n,e,t,r){if(t[0]=(0,kt.m9)(t[0]),t[0]instanceof Fb)return function(i,a,d,f,_){if(!f)throw new Ve(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const D of ch(i))if(D.field.isKeyField())E.push(Ec(a,f.key));else{const M=f.data.field(D.field);if(Tm(M))throw new Ve(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=D.field.canonicalString();throw new Ve(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}E.push(M)}return new cu(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Np(n.firestore);return function(a,d,f,_,E,D){const M=a.explicitOrderBy;if(E.length>M.length)throw new Ve(me.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<E.length;B++){const G=E[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Ve(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof G}`);if(!Nm(a)&&-1!==G.indexOf("/"))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${G}' contains a slash.`);const he=a.path.child(un.fromString(G));if(!Xe.isDocumentKey(he))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${he}' is not because it contains an odd number of segments.`);const ke=new Xe(he);L.push(Ec(d,ke))}else{const he=S1(f,_,G);L.push(he)}}return new cu(L,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function U1(n,e,t){if("string"==typeof(t=(0,kt.m9)(t))){if(""===t)throw new Ve(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nm(e)&&-1!==t.indexOf("/"))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!Xe.isDocumentKey(r))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ec(n,new Xe(r))}if(t instanceof sr)return Ec(n,t._key);throw new Ve(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${PC(t)}.`)}function V1(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ve(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function B1(n,e,t){if(!t.isEqual(e))throw new Ve(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const GP={maxAttempts:5};class IS{convertValue(e,t="none"){switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return mc(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new LC(Pn(e.latitude),Pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_w(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const t=lu(e);return new dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);xt(nC(r));const i=new ba(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(t)||Xn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function $C(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZP extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}class j1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,t,r){this._verifyNotCommitted();const i=Mh(e,this._firestore),a=$C(i.converter,t,r),d=VC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Rr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Mh(e,this._firestore);let d;return d="string"==typeof(t=(0,kt.m9)(t))||t instanceof Uc?ES(this._dataReader,"WriteBatch.update",a._key,t,r,i):bS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mh(e,this._firestore);return this._mutations=this._mutations.concat(new gp(t._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mh(n,e){if((n=(0,kt.m9)(n)).firestore!==e)throw new Ve(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lp extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function H1(n,e,t){n=gn(n,sr);const r=gn(n.firestore,fr),i=$C(n.converter,e,t);return d_(r,[VC(Np(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Rr.none())])}function $1(n,e,t,...r){n=gn(n,sr);const i=gn(n.firestore,fr),a=Np(i);let d;return d="string"==typeof(e=(0,kt.m9)(e))||e instanceof Uc?ES(a,"updateDoc",n._key,e,t,r):bS(a,"updateDoc",n._key,e),d_(i,[d.toMutation(n._key,Rr.exists(!0))])}function q1(n,...e){var t,r,i;n=(0,kt.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||yS(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(yS(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,E,D;if(n instanceof sr)E=gn(n.firestore,fr),D=Vo(n._key.path),_={next:M=>{e[d]&&e[d](TS(E,n,M))},error:e[d+1],complete:e[d+2]};else{const M=gn(n,us);E=gn(M.firestore,fr),D=M._query;const L=new Lp(E);_={next:B=>{e[d]&&e[d](new Ah(E,L,M,B))},error:e[d+1],complete:e[d+2]},O1(n._query)}return function(M,L,B,G){const he=new OC(G),ke=new FA(L,he,B);return M.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return RA(yield c_(M),ke)})),()=>{he.Aa(),M.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return OA(yield c_(M),ke)}))}}(ii(E),D,f,_)}function d_(n,e){return function(t,r){const i=new cr;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function LN(n,e,t){return jA.apply(this,arguments)}(yield gS(t),r,i)})),i.promise}(ii(n),e)}function TS(n,e,t){const r=t.docs.get(e._key),i=new Lp(n);return new Vc(n,i,e._key,r,new Fp(t.hasPendingWrites,t.fromCache),e.converter)}class nF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Np(e)}get(e){const t=Mh(e,this._firestore),r=new ZP(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return pt();const a=i[0];if(a.isFoundDocument())return new Fb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Fb(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const i=Mh(e,this._firestore),a=$C(i.converter,t,r),d=VC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=Mh(e,this._firestore);let d;return d="string"==typeof(t=(0,kt.m9)(t))||t instanceof Uc?ES(this._dataReader,"Transaction.update",a._key,t,r,i):bS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Mh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mh(e,this._firestore),r=new Lp(this._firestore);return super.get(e).then(i=>new Vc(this._firestore,r,t._key,i._document,new Fp(!1,!1),t.converter))}}function DS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Z1(){if("undefined"==typeof Uint8Array)throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function z1(){if(!function CD(){return"undefined"!=typeof atob}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){gc=Qs.SDK_VERSION,(0,Qs._registerComponent)(new ac.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new fr(i,new mD(t.getProvider("auth-internal")),new _D(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Qs.registerVersion)(Tv,"3.4.9",n),(0,Qs.registerVersion)(Tv,"3.4.9","esm2017")}();class Vb{constructor(e){this._delegate=e}static fromBase64String(e){return z1(),new Vb(Cu.fromBase64String(e))}static fromUint8Array(e){return Z1(),new Vb(Cu.fromUint8Array(e))}toBase64(){return z1(),this._delegate.toBase64()}toUint8Array(){return Z1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AS(n){return function dF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class hF{enableIndexedDbPersistence(e,t){return function yP(n,e){I1(n=gn(n,fr));const t=ii(n),r=n._freezeSettings(),i=new lS;return C1(t,i,new s1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function vP(n){I1(n=gn(n,fr));const e=ii(n),t=n._freezeSettings(),r=new lS;return C1(e,r,new XN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bP(n){if(n._initialized&&!n._terminated)throw new Ve(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(r){if(!no.vt())return Promise.resolve();const i=r+"main";yield no.delete(i)}),function(r){return t.apply(this,arguments)})(vb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class W1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ba||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&np("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function hP(n,e,t,r={}){var i;const a=(n=gn(n,Nb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&np("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=ti.MOCK_USER;else{d=(0,kt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ve(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ti(_)}n._authCredentials=new gD(new rh(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function wP(n){return function iP(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield u1(n),t=yield c1(n);return e.setNetworkEnabled(!0),function(r){const i=it(r);return i.wu.delete(0),Fc(i)}(t)}))}(ii(n=gn(n,fr)))}(this._delegate)}disableNetwork(){return function CP(n){return function sP(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield u1(n),t=yield c1(n);return e.setNetworkEnabled(!1),(r=(0,De.Z)(function*(i){const a=it(i);a.wu.add(0),yield Eu(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ii(n=gn(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,p1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function EP(n){return function(e){const t=new cr;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function jN(n,e){return ZA.apply(this,arguments)}(yield gS(e),t)})),t.promise}(ii(n=gn(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function tF(n,e){return function lP(n,e){const t=new OC(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield c_(n),i=t,it(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield c_(n),i=t,void it(r).bu.delete(i);var r,i}))}}(ii(n=gn(n,fr)),yS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new h_(this,v1(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ca(this,FC(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function fP(n,e){if(n=gn(n,Nb),_S("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(n,null,(t=e,new gl(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rF(n,e,t){n=gn(n,fr);const r=Object.assign(Object.assign({},GP),t);return function(i){if(i.maxAttempts<1)throw new Ve(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function uP(n,e,t){const r=new cr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const i=yield(a=n,NC(a).then(d=>d.datastore));var a;new nP(n.asyncQueue,i,t,e,r).run()})),r.promise}(ii(n),i=>e(new nF(n,i)),r)}(this._delegate,t=>e(new K1(this,t)))}batch(){return ii(this._delegate),new Y1(new j1(this._delegate,e=>d_(this._delegate,e)))}loadBundle(e){return function IP(n,e){const t=ii(n=gn(n,fr)),r=new gP;return function cP(n,e,t,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,E){if(_ instanceof Uint8Array)return o1(_,E);if(_ instanceof ArrayBuffer)return o1(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new eP(_,d);var _}(t,Ci(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function JN(n,e,t){const r=it(n);var i;(i=(0,De.Z)(function*(a,d,f){try{const _=yield d.getMetadata();if(yield function(L,B){const G=it(L),he=ri(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ke=>G._s.getBundleMetadata(ke,B.id)).then(ke=>!!ke&&ke.createTime.compareTo(he)>=0)}(a.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(Wx(_));const E=new RN(_,a.localStore,d.M);let D=yield d.ma();for(;D;){const L=yield E.Fu(D);L&&f._updateProgress(L),D=yield d.ma()}const M=yield E.complete();return yield Lc(a,M.Lu,void 0),yield function(L,B){const G=it(L);return G.persistence.runTransaction("Save bundle","readwrite",he=>G._s.saveBundleMetadata(he,B))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Bu)}catch(_){return np("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield gS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function TP(n,e){return function dP(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,r){const i=it(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield pS(n),e)}))}(ii(n=gn(n,fr)),e).then(t=>t?new us(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class qC extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vb(new Cu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ca.forKey(t,this.firestore,null)}}class K1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qC(e)}get(e){const t=Vp(e);return this._delegate.get(t).then(r=>new Bb(this._firestore,new Vc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Vp(e);return r?(DS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}}class Y1{constructor(e){this._delegate=e}set(e,t,r){const i=Vp(e);return r?(DS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Up{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Lb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Up.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Up(e,new qC(e),t),i.set(t,a)),a}}Up.INSTANCES=new WeakMap;class Ca{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ca(t,new sr(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new Ca(t,new sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new h_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new h_(this.firestore,v1(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,kt.m9)(e))instanceof sr&&b1(this._delegate,e)}set(e,t){t=DS("DocumentReference.set",t);try{return t?H1(this._delegate,e,t):H1(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?$1(this._delegate,e):$1(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function XP(n){return d_(gn(n.firestore,fr),[new gp(n._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const t=Q1(e),r=J1(e,i=>new Bb(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return q1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function WP(n){n=gn(n,sr);const e=gn(n.firestore,fr),t=ii(e),r=new Lp(e);return function oP(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,a,d){try{const f=yield function(_,E){const D=it(_);return D.persistence.runTransaction("read document","readonly",M=>D.fi.Ls(M,E))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Ve(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=o_(f,`Failed to get document '${a} from cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield pS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Vc(e,r,n._key,i,new Fp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function KP(n){n=gn(n,sr);const e=gn(n.firestore,fr);return d1(ii(e),n._key,{source:"server"}).then(t=>TS(e,n,t))}(this._delegate):function zP(n){n=gn(n,sr);const e=gn(n.firestore,fr);return d1(ii(e),n._key).then(t=>TS(e,n,t))}(this._delegate),t.then(r=>new Bb(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ca(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function Q1(n){for(const e of n)if("object"==typeof e&&!AS(e))return e;return{}}function J1(n,e){var t,r;let i;return i=AS(n[0])?n[0]:AS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Bb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return k1(this._delegate,e._delegate)}}class jb extends Bb{data(e){const t=this._delegate.data(e);return function fw(n,e){n||pt()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qC(e)}where(e,t,r){try{return new xs(this.firestore,Sh(this._delegate,function FP(n,e,t){const r=e,i=HC("where",n);return new PP(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,Sh(this._delegate,function UP(n,e="asc"){const t=e,r=HC("orderBy",n);return new LP(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,Sh(this._delegate,function VP(n){return _1("limit",n),new N1("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,Sh(this._delegate,function BP(n){return _1("limitToLast",n),new N1("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,Sh(this._delegate,function jP(...n){return new P1("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,Sh(this._delegate,function HP(...n){return new P1("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,Sh(this._delegate,function $P(...n){return new F1("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,Sh(this._delegate,function qP(...n){return new F1("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return E1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function QP(n){n=gn(n,us);const e=gn(n.firestore,fr),t=ii(e),r=new Lp(e);return function aP(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,a,d){try{const f=yield Ab(i,a,!0),_=new Qx(a,f._i),E=_.Wu(f.documents),D=_.applyChanges(E,!1);d.resolve(D.snapshot)}catch(f){const _=o_(f,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield pS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ah(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function JP(n){n=gn(n,us);const e=gn(n.firestore,fr),t=ii(e),r=new Lp(e);return h1(t,n._query,{source:"server"}).then(i=>new Ah(e,r,n,i))}(this._delegate):function YP(n){n=gn(n,us);const e=gn(n.firestore,fr),t=ii(e),r=new Lp(e);return O1(n._query),h1(t,n._query).then(i=>new Ah(e,r,n,i))}(this._delegate),t.then(r=>new SS(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Q1(e),r=J1(e,i=>new SS(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return q1(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}class pF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new jb(this._firestore,r))})}isEqual(e){return k1(this._delegate,e._delegate)}}class h_ extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ca(this.firestore,e):null}doc(e){try{return new Ca(this.firestore,void 0===e?FC(this._delegate):FC(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function eF(n,e){const t=gn(n.firestore,fr),r=FC(n),i=$C(n.converter,e);return d_(t,[VC(Np(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ca(this.firestore,t))}isEqual(e){return b1(this._delegate,e._delegate)}withConverter(e){return new h_(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function Vp(n){return gn(n,sr)}class MS{constructor(...e){this._delegate=new Uc(...e)}static documentId(){return new MS(jr.keyField().canonicalString())}isEqual(e){return(e=(0,kt.m9)(e))instanceof Uc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function sF(){return new vS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=function iF(){return new Pb("deleteField")}();return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function oF(...n){return new MP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function aF(...n){return new xP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function lF(n){return new RP("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gF={Firestore:W1,GeoPoint:LC,Timestamp:dr,Blob:Vb,Transaction:K1,WriteBatch:Y1,DocumentReference:Ca,DocumentSnapshot:Bb,Query:xs,QueryDocumentSnapshot:jb,QuerySnapshot:SS,CollectionReference:h_,FieldPath:MS,FieldValue:Bp,setLogLevel:function fF(n){!function fD(n){cl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function _F(n){(function mF(n,e){n.INTERNAL.registerComponent(new ac.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},gF)))})(n,(e,t)=>new W1(e,t,new hF)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(gE.Z);var X1=N(6451),GC=N(5363),yF=N(6063);class vF extends Lr.x{constructor(e=1/0,t=1/0,r=yF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var eR=N(3099);function tR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,eR.B)({connector:()=>new vF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function nR(n,e){return(0,ci.m)(e)?rr(()=>n,e):rr(()=>n)}var xS=N(9468),xh=N(5867);class f_{constructor(e){return e}}class RS{constructor(){return(0,xh.C6)()}}const kS=new u.OlP("angularfire2._apps"),EF={provide:f_,useFactory:function bF(n){return n&&1===n.length?n[0]:new f_((0,xh.Mq)())},deps:[[new u.FiY,kS]]},wF={provide:RS,deps:[[new u.FiY,kS]]};function CF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new f_(r)}}let IF=(()=>{class n{constructor(t){(0,xh.KN)("angularfire",Qt.q4.full,"core"),(0,xh.KN)("angularfire",Qt.q4.full,"app"),(0,xh.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[EF,wF]}),n})();function TF(n,...e){return{ngModule:IF,providers:[{provide:kS,useFactory:CF(n),multi:!0,deps:[u.R0b,u.zs3,Qt.HU,...e]}]}}const DF=(0,Qt.u3)(xh.ZF,!0),rR=new Map,AF={activated:!1,tokenObservers:[]},SF={initialized:!1,enabled:!1};function Fi(n){return rR.get(n)||AF}function vl(n,e){rR.set(n,e)}function ZC(){return SF}class OF{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new kt.BH,yield function NF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new kt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Rs=new kt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sR(n){if(!Fi(n).activated)throw Rs.create("use-before-activation",{appName:n.name})}function PS(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,De.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,a)}catch(M){throw Rs.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw Rs.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(M){throw Rs.create("fetch-parse-error",{originalErrorMessage:M.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+E,issuedAtTimeMillis:D}}),FS.apply(this,arguments)}function VF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Hb="firebase-app-check-store";let KC=null;function aR(){return KC||(KC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Rs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hb,{keyPath:"compositeKey"})}}catch(t){e(Rs.create("storage-open",{originalErrorMessage:t.message}))}}),KC)}function LS(){return LS=(0,De.Z)(function*(n,e){const r=(yield aR()).transaction(Hb,"readwrite"),a=r.objectStore(Hb).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=_=>{d()},r.onerror=_=>{var E;f(Rs.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})}),LS.apply(this,arguments)}const $b=new Jl.Yd("@firebase/app-check");function dR(n,e){return(0,kt.hl)()?function $F(n,e){return function lR(n,e){return LS.apply(this,arguments)}(function cR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{$b.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hR(){return ZC().enabled}function fR(){return jS.apply(this,arguments)}function jS(){return jS=(0,De.Z)(function*(){const n=ZC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),jS.apply(this,arguments)}const KF={error:"UNKNOWN_ERROR"};function YF(n){return kt.US.encodeString(JSON.stringify(n),!1)}function YC(n){return HS.apply(this,arguments)}function HS(){return HS=(0,De.Z)(function*(n,e=!1){const t=n.app;sR(t);const r=Fi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&QC(_)&&(i=_)}if(!e&&i&&QC(i))return{token:i.token};let f,d=!1;if(hR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=PS(VF(t,yield fR()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0);const _=yield r.exchangeTokenPromise;return yield dR(t,_),vl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?$b.warn(_.message):$b.error(_),a=_}return i?(f={token:i.token},vl(t,Object.assign(Object.assign({},r),{token:i})),yield dR(t,i)):f=JF(a),d&&gR(t,f),f}),HS.apply(this,arguments)}function qS(n,e){const t=Fi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function pR(n){const{app:e}=n,t=Fi(e);let r=t.tokenRefresher;r||(r=function QF(n){const{app:e}=n;return new OF((0,De.Z)(function*(){let r;if(r=Fi(e).token?yield YC(n,!0):yield YC(n),r.error)throw r.error}),()=>!0,()=>{const t=Fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),vl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function gR(n,e){const t=Fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function QC(n){return n.expireTimeMillis-Date.now()>0}function JF(n){return{token:YF(KF),error:n}}class XF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)qS(this.app,t.next);return Promise.resolve()}}const CR="app-check-internal";!function fL(){(0,Qs._registerComponent)(new ac.wA("app-check",n=>function eL(n,e){return new XF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CR).initialize()})),(0,Qs._registerComponent)(new ac.wA(CR,n=>function tL(n){return{getToken:e=>YC(n,e),addTokenListener:e=>function $S(n,e,t,r){const{app:i}=n,a=Fi(i),d={next:t,error:r,type:e};if(vl(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&QC(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),pR(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>pR(n))}(n,"INTERNAL",e),removeTokenListener:e=>qS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qs.registerVersion)("@firebase/app-check","0.5.8")}();class p_{constructor(){return(0,Qt.vb)("app-check")}}"undefined"!=typeof window&&window;var KS=N(127);const TR=new u.OlP("angularfire2.auth.use-emulator"),DR=new u.OlP("angularfire2.auth.settings"),AR=new u.OlP("angularfire2.auth.tenant-id"),SR=new u.OlP("angularfire2.auth.langugage-code"),MR=new u.OlP("angularfire2.auth.use-device-language"),xR=new u.OlP("angularfire.auth.persistence"),RR=(n,e,t,r,i,a,d,f)=>(0,Oi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),d)for(const[E,D]of Object.entries(d))_.settings[E]=D;return f&&_.setPersistence(f),_},[t,r,i,a,d,f]);let qb=(()=>{class n{constructor(t,r,i,a,d,f,_,E,D,M,L,B){const G=new Lr.x,he=nt(void 0).pipe((0,GC.Q)(d.outsideAngular),rr(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,It.U)(()=>(0,Oi.on)(t,a,r)),(0,It.U)(ke=>RR(ke,a,f,E,D,M,_,L)),tR({bufferSize:1,refCount:!1}));if(Fr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{he.pipe(ua()).subscribe();const ct=he.pipe(rr(et=>et.getRedirectResult().then(Rt=>Rt,()=>null)),Qt.iC,tR({bufferSize:1,refCount:!1})),ht=he.pipe(rr(et=>new Ur.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>et.onAuthStateChanged(Ft=>Rt.next(Ft),Ft=>Rt.error(Ft),()=>Rt.complete()))})))),lt=he.pipe(rr(et=>new Ur.y(Rt=>({unsubscribe:a.runOutsideAngular(()=>et.onIdTokenChanged(Ft=>Rt.next(Ft),Ft=>Rt.error(Ft),()=>Rt.complete()))}))));this.authState=ct.pipe(nR(ht),(0,xS.R)(d.outsideAngular),(0,GC.Q)(d.insideAngular)),this.user=ct.pipe(nR(lt),(0,xS.R)(d.outsideAngular),(0,GC.Q)(d.insideAngular)),this.idToken=this.user.pipe(rr(et=>et?(0,En.D)(et.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(rr(et=>et?(0,En.D)(et.getIdTokenResult()):nt(null))),this.credential=(0,X1.T)(ct,G,this.authState.pipe(Er(et=>!et))).pipe((0,It.U)(et=>(null==et?void 0:et.user)?et:null),(0,xS.R)(d.outsideAngular),(0,GC.Q)(d.insideAngular))}return(0,Oi.pX)(this,he,a,{spy:{apply:(ke,ct,ht)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&ht.then(lt=>G.next(lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Oi.Dh),u.LFG(Oi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Qt.HU),u.LFG(TR,8),u.LFG(DR,8),u.LFG(AR,8),u.LFG(SR,8),u.LFG(MR,8),u.LFG(xR,8),u.LFG(p_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vL=(()=>{class n{constructor(){KS.Z.registerVersion("angularfire",Qt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[qb]}),n})();function kR(n,e){return function bL(n,e=Ly.z){return new Ur.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function YS(n,e){return kR(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function XC(n,e){return YS(n,e).pipe(di(void 0),qg(),(0,It.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(D=>D.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function OR(n,e,t){return XC(n,t).pipe(ss((r,i)=>function wL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function CL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return QS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return QS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return QS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),Uy(),(0,It.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function QS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function NR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class PR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=XC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(di(void 0),qg(),Er(([r,i])=>i.length>0||!r),(0,It.U)(([r,i])=>i),Qt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ss((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NR(e);return OR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}valueChanges(e={}){return YS(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Qt.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(Qt.iC)}add(e){return this.ref.add(e)}doc(e){return new FR(this.ref.doc(e),this.afs)}}class FR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=VR(r,t);return new PR(i,a,this.afs)}snapshotChanges(){return function EL(n,e){return kR(n,e).pipe(di(void 0),qg(),(0,It.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,En.D)(this.ref.get(e)).pipe(Qt.iC)}}class IL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?XC(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Er(t=>t.length>0),Qt.iC):XC(this.query,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}auditTrail(e){return this.stateChanges(e).pipe(ss((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NR(e);return OR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qt.iC)}valueChanges(e={}){return YS(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Qt.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(Qt.iC)}}const LR=new u.OlP("angularfire2.enableFirestorePersistence"),UR=new u.OlP("angularfire2.firestore.persistenceSettings"),TL=new u.OlP("angularfire2.firestore.settings"),DL=new u.OlP("angularfire2.firestore.use-emulator");function VR(n,e=(t=>t)){return{query:e(n),ref:n}}let Gb=(()=>{class n{constructor(t,r,i,a,d,f,_,E,D,M,L,B,G,he,ke,ct,ht){this.schedulers=_;const lt=(0,Oi.on)(t,f,r),et=D;M&&RR(lt,f,L,G,he,ke,B,ct),[this.firestore,this.persistenceEnabled$]=(0,Oi.cc)(`${lt.name}.firestore`,"AngularFirestore",lt.name,()=>{const Rt=f.runOutsideAngular(()=>lt.firestore());if(a&&Rt.settings(a),et&&Rt.useEmulator(...et),i&&!Fr(d)){const Ft=()=>{try{return(0,En.D)(Rt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(dn){return"undefined"!=typeof console&&console.warn(dn),nt(!1)}};return[Rt,f.runOutsideAngular(Ft)]}return[Rt,nt(!1)]},[a,et,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=VR(i,r),f=this.schedulers.ngZone.run(()=>a);return new PR(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new IL(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new FR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Oi.Dh),u.LFG(Oi.xv,8),u.LFG(LR,8),u.LFG(TL,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Qt.HU),u.LFG(UR,8),u.LFG(DL,8),u.LFG(qb,8),u.LFG(TR,8),u.LFG(DR,8),u.LFG(AR,8),u.LFG(SR,8),u.LFG(MR,8),u.LFG(xR,8),u.LFG(p_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AL=(()=>{class n{constructor(){KS.Z.registerVersion("angularfire",Qt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:LR,useValue:!0},{provide:UR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Gb]}),n})();var JS=N(198);class eI{constructor(e){return e}}class jR{constructor(){return(0,Qt.vb)("auth")}}const XS=new u.OlP("angularfire2.auth-instances");function ML(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new eI(r)}}const xL={provide:jR,deps:[[new u.FiY,XS]]},RL={provide:eI,useFactory:function SL(n,e){const t=(0,Qt.JM)("auth",n,e);return t&&new eI(t)},deps:[[new u.FiY,XS],f_]};let kL=(()=>{class n{constructor(){(0,xh.KN)("angularfire",Qt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[RL,xL]}),n})();function OL(n,...e){return{ngModule:kL,providers:[{provide:XS,useFactory:ML(n),multi:!0,deps:[u.R0b,u.zs3,Qt.HU,RS,[new u.FiY,p_],...e]}]}}const NL=(0,Qt.u3)(JS.a5,!0),PL=(0,Qt.u3)(JS.n,!0),FL=(0,Qt.u3)(JS.a6,!0);let Iu=(()=>{class n{constructor(t,r){this._Auth=t,this._AngularFireAuth=r,this.curentUser$=new xn(null),this.test=new xn(null),this.userId="",this.user=r.user}login(t,r){return(0,En.D)(FL(this._Auth,t,r))}signup(t,r){return(0,En.D)(NL(this._Auth,t,r))}logout(){return this._Auth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eI),u.LFG(qb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g_=(()=>{class n{constructor(t,r){this._AngularFirestore=t,this._AutheService=r,this.orderitem=[],this.quantity=new xn(1),this.productlist=new xn([])}getProduct(){return this.productlist.asObservable()}setProduct(t){this.orderitem.push(...t),this.productlist.next(t)}addtocart(t){this.orderitem.push(t),this.productlist.next(this.orderitem),this.getTotalprice()}getprice(){let t=0;return this.orderitem.map(r=>{t+=r.price}),t}test(t){t.forEach(r=>{this._AngularFirestore.collection(`users/${this._AutheService.userId}/cart`).add(r)})}get_order(){return this._AngularFirestore.collection(`users/${this._AutheService.userId}/cart`).snapshotChanges()}getTotalprice(){let t=0;return this.orderitem.map(r=>{t+=r.total}),t}removecartitem(t){this.orderitem.map((r,i)=>{t.id===r.id&&this.orderitem.splice(i,1)}),this.productlist.next(this.orderitem)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gb),u.LFG(Iu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tI=(()=>{class n{constructor(t,r,i){this._AngularFirestore=t,this._AutheService=r,this._AngularFireAuth=i}addnewUser(t,r,i){return this._AngularFirestore.doc("users/"+t).set({name:r,address:i})}getuserdata(t){return this._AngularFirestore.collection("users").doc(t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gb),u.LFG(Iu),u.LFG(qb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jp=(()=>{class n{constructor(t,r,i,a){this._AutheService=t,this._OrdersService=r,this._Router=i,this._UsersService=a,this.totalItem=0,this.islogin=!1,this.isclicked=!1}ngOnInit(){this._AutheService.user.subscribe(t=>{t&&(this.islogin=!0,this._AutheService.userId=t.uid,this.userdata(this._AutheService.userId))}),this._OrdersService.getProduct().subscribe(t=>{this.totalItem=t.length})}logout(){this._AutheService.logout(),this._Router.navigate(["/signin"])}userdata(t){this._UsersService.getuserdata(t).subscribe(r=>{this.username=r,this.name=this.username.name})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Iu),u.Y36(g_),u.Y36(Kr),u.Y36(tI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:34,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container"],["routerLink","/home",1,"navbar-brand"],[1,"fa-solid","fa-futbol","text-danger"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/products",1,"nav-link","active"],[1,"fa-solid","fa-basket-shopping"],[1,"testt"],["aria-current","page","routerLink","/orders",1,"nav-link","active"],[1,"fa-solid","fa-cart-shopping"],[1,"bg-danger","p-2","testtt"],[1,"nav-item","dropdown","mt-2"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","fs-5"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLink","/myorder",1,"dropdown-item"],["routerLink","/manageproduct",1,"dropdown-item"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._UZ(3,"i",3),u._uU(4," Mo-sports"),u.qZA(),u.TgZ(5,"button",4),u._UZ(6,"span",5),u.qZA(),u.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),u._UZ(11,"i",10),u.qZA()(),u.TgZ(12,"li",8)(13,"div",11)(14,"a",12),u._UZ(15,"i",13),u.qZA(),u.TgZ(16,"p",14),u._uU(17),u.qZA()()(),u.TgZ(18,"li",15)(19,"a",16),u._uU(20),u.qZA(),u.TgZ(21,"ul",17)(22,"li")(23,"a",18),u._uU(24,"My Order"),u.qZA()(),u.TgZ(25,"li")(26,"a",19),u._uU(27,"Manage Products"),u.qZA()(),u.TgZ(28,"li"),u._UZ(29,"hr",20),u.qZA(),u.TgZ(30,"li")(31,"a",21),u.NdJ("click",function(){return r.logout()}),u._uU(32,"Logout"),u.qZA()()()(),u._UZ(33,"li"),u.qZA()()()()),2&t&&(u.xp6(17),u.Oqu(r.totalItem),u.xp6(3),u.hij(" ",r.name," "))},directives:[Xa],styles:[".navbar[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000026!important;background-color:#fff!important;padding:18px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#e7e1e1;padding:8px;font-size:18px}.testt[_ngcontent-%COMP%]{position:relative}.testtt[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-5px;width:30px;height:30px;border-radius:50%;color:#fff;text-align:center}@media only screen and (max-width: 1000px){.testt[_ngcontent-%COMP%]{width:48px}}"]}),n})();function LL(n,e){1&n&&(u.TgZ(0,"p",27),u._uU(1,"name is requierd"),u.qZA())}function UL(n,e){if(1&n&&(u.TgZ(0,"div",25),u.YNc(1,LL,2,0,"p",26),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.place_order.get("name"))||null==r.errors?null:r.errors.required)}}function VL(n,e){1&n&&(u.TgZ(0,"p",27),u._uU(1,"address is requierd"),u.qZA())}function BL(n,e){if(1&n&&(u.TgZ(0,"div",25),u.YNc(1,VL,2,0,"p",26),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.place_order.get("address_one"))||null==r.errors?null:r.errors.required)}}function jL(n,e){1&n&&(u.TgZ(0,"p",27),u._uU(1,"address is requierd"),u.qZA())}function HL(n,e){if(1&n&&(u.TgZ(0,"div",25),u.YNc(1,jL,2,0,"p",26),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.place_order.get("address_two"))||null==r.errors?null:r.errors.required)}}function $L(n,e){1&n&&(u.TgZ(0,"p",27),u._uU(1,"city is requierd"),u.qZA())}function qL(n,e){if(1&n&&(u.TgZ(0,"div",25),u.YNc(1,$L,2,0,"p",26),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.place_order.get("city"))||null==r.errors?null:r.errors.required)}}function GL(n,e){if(1&n&&(u.TgZ(0,"li",28)(1,"div",29)(2,"span",30),u._uU(3),u.qZA(),u._uU(4),u._UZ(5,"div",23),u.TgZ(6,"div",24),u._uU(7),u.qZA()()()),2&n){const t=e.$implicit;u.xp6(3),u.hij("",t.quantity,"x "),u.xp6(1),u.hij("",t.discrption," "),u.xp6(3),u.hij(" $ ",t.total," ")}}let ZL=(()=>{class n{constructor(t,r){this._OrdersService=t,this._Router=r,this.products=[],this.grandTotal=0,this.test=new xn(1),this.total=0,this.aytest=[],this.item=[],this.place_order=new sc({name:new qi(null,[pi.required]),address_one:new qi(null,[pi.required]),address_two:new qi(null,[pi.required]),city:new qi(null,[pi.required])})}ngOnInit(){this._OrdersService.getProduct().subscribe(t=>{this.aytest=t,this.totalprice(t,0),this.show_items()})}show_items(){this.item=this.aytest.map(t=>t)}addtofirebase(){this._OrdersService.test(this.aytest)}totals(){this.grandTotal=this._OrdersService.getTotalprice()}totalprice(t,r){this.test.next(t.quantity),this.total=t.total,t.total=t.quantity*t.price,this.totals()}submit_order(t){t.value?this._Router.navigate(["/ordersuccess"]):console.log("yarab")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(g_),u.Y36(Kr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-cheackout"]],decls:41,vars:9,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-md-6","col-md-6"],[1,"my-xl-5"],[1,"mt-sm-5","mt-xl-5","mb-xl-3"],["action","",3,"formGroup","ngSubmit"],["for","",1,"pb-1"],["type","text","formControlName","name","placeholder","Ex:mohamed",1,"form-control"],["class","alert alert-danger my-2",4,"ngIf"],["for","",1,"pb-1","pt-1"],["type","text","formControlName","address_one","placeholder","line 1",1,"form-control"],["type","text","formControlName","address_two","placeholder","Line 2",1,"form-control","mt-2"],["for","",1,"py-2"],["type","text","formControlName","city","placeholder","Cairo",1,"form-control","mt-2"],[1,"btn","btn","btn-outline-success","mt-3",3,"disabled","click"],[1,"card","my-xl-5"],[1,"mt-sm-2","mt-xl-2"],[1,"s-title","ms-2"],[1,"text-muted","ms-2"],[1,"list-unstyled","ms-2","me-2"],["class","list",4,"ngFor","ngForOf"],[1,"d-flex","ms-3","me-3"],["ms-2","","me-2",""],[1,"d-flex","ms-3","me-3","br"],[1,"d-flex","ms-auto"],[1,"alert","alert-danger","my-2"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"list"],[1,"d-flex"],[1,"me-1","ms-1"]],template:function(t,r){if(1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"div",1)(3,"h3"),u._uU(4,"Shipping"),u.qZA(),u.TgZ(5,"div",2)(6,"div",3),u._UZ(7,"div",4),u.TgZ(8,"form",5),u.NdJ("ngSubmit",function(){return r.submit_order(r.place_order)}),u.TgZ(9,"label",6),u._uU(10,"Name"),u.qZA(),u._UZ(11,"input",7),u.YNc(12,UL,2,1,"div",8),u.TgZ(13,"label",9),u._uU(14,"Address"),u.qZA(),u._UZ(15,"input",10),u.YNc(16,BL,2,1,"div",8),u._UZ(17,"input",11),u.YNc(18,HL,2,1,"div",8),u.TgZ(19,"label",12),u._uU(20,"City"),u.qZA(),u._UZ(21,"input",13),u.YNc(22,qL,2,1,"div",8),u.TgZ(23,"button",14),u.NdJ("click",function(){return r.addtofirebase()}),u._uU(24,"Place Order"),u.qZA()()()(),u.TgZ(25,"div",2)(26,"div",15),u._UZ(27,"div",16),u.TgZ(28,"h3",17),u._uU(29,"Order Summary "),u.qZA(),u.TgZ(30,"p",18),u._uU(31),u.qZA(),u.TgZ(32,"ul",19),u.YNc(33,GL,8,3,"li",20),u.qZA(),u.TgZ(34,"div",21)(35,"p",22),u._uU(36,"Total Price: "),u.qZA(),u._UZ(37,"div",23),u.TgZ(38,"div",24)(39,"span"),u._uU(40),u.qZA()()()()()()()),2&t){let i,a,d,f;u.xp6(8),u.Q6J("formGroup",r.place_order),u.xp6(4),u.Q6J("ngIf",(null==(i=r.place_order.get("name"))?null:i.errors)&&(null==(i=r.place_order.get("name"))?null:i.touched)),u.xp6(4),u.Q6J("ngIf",(null==(a=r.place_order.get("address_one"))?null:a.errors)&&(null==(a=r.place_order.get("address_one"))?null:a.touched)),u.xp6(2),u.Q6J("ngIf",(null==(d=r.place_order.get("address_two"))?null:d.errors)&&(null==(d=r.place_order.get("address_two"))?null:d.touched)),u.xp6(4),u.Q6J("ngIf",(null==(f=r.place_order.get("city"))?null:f.errors)&&(null==(f=r.place_order.get("city"))?null:f.touched)),u.xp6(1),u.Q6J("disabled",r.place_order.invalid),u.xp6(8),u.hij("You have ",r.item.length," items in Your Shopping Cart."),u.xp6(2),u.Q6J("ngForOf",r.item),u.xp6(7),u.hij(" $ ",r.grandTotal,"")}},directives:[jp,kf,Df,Ql,tc,Tf,oc,or,On],styles:[".list[_ngcontent-%COMP%]{border-top:1px solid;padding:5px}.card[_ngcontent-%COMP%]{box-shadow:0 1px 1px #0000000f,0 2px 5px #0003}@media only screen and (max-width: 1000px){.card[_ngcontent-%COMP%]{margin-top:30px}}"]}),n})(),zL=(()=>{class n{constructor(t,r){this._AutheService=t,this._UsersService=r}ngOnInit(){this._AutheService.user.subscribe(t=>{null!=localStorage.getItem("usertoken")?this._UsersService.getuserdata(this._AutheService.userId):console.log("whatsrong")})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Iu),u.Y36(tI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:302,vars:0,consts:[[1,"grad","d-flex","justify-content-center","align-items-center","text-white"],[1,"text-center"],[1,"text","fs-4"],[1,"fs-2","text-danger"],["routerLink","/products"],[1,"bttn","text-white"],["id","serv",1,"services","hover","bg-light","text-center","bord"],[1,"container"],[1,"row"],[1,"col-xl-12","d-flex","justify-content-center","align-items-center","mb-sm-5"],[1,"const-title"],[1,"title-a","pt-xl-4","mt-5"],[1,""],[1,"text-muted"],[1,"line"],[1,"col-xl-4","col-md-6","mb-sm-5"],[1,"card"],[1,"icon","mt-sm-2","mb-xl-3"],["src","././assets/header.jpg","alt","",1,""],[1,"s-title","mt-sm-3"],[1,"subtitle-a","px-xl-3","text-muted"],[1,"bttn","mb-3"],[1,"col-xl-4","col-md-6","mb-sm-3"],[1,"icon","mt-xl-2","mb-xl-3"],["src","././assets/feature-img-2.png","alt","",1,""],["src","././assets/feature-img-3.png","alt","",1,""],["id","serv",1,"services","bg-light","text-center","bord"],[1,"col-xl-12","d-flex","justify-content-center","align-items-center"],[1,"line","mb-md-3"],[1,"col-xl-3","col-md-6","mb-sm-3"],[1,"card","my-xl-5"],[1,"icon","mt-sm-2","mt-xl-2","mb-xl-3"],["src","././assets/nike.jpg","alt","",1,"rounded-2"],[1,"col-xl-3","col-md-6","mb-sm-5"],["src","././assets/ah.webp","alt","",1,"rounded-2"],["src","././assets/adidoushoe.jpg"],["src","././assets/acc.jpg","alt","",1,""],["id","serv1",1,"services","bg-light","text-center","bord"],[1,"mt-sm-5","mt-xl-5","mb-xl-3"],["src","././assets/2.jpg","alt","",1,"rounded-circle","w-100"],[1,"s-title"],["src","././assets/3.jpg","alt","",1,"rounded-circle","w-100"],["src","././assets/testimonial-2.jpg","alt","",1,"rounded-circle","w-100"],["src","././assets/testimonial-4.jpg","alt","",1,"rounded-circle","w-100"],["id","serv3",1,"services","bg-light","bord"],[1,"const-title","blog"],[1,"title-a","pt-xl-4"],[1,"col-xl-4","col-md-6"],[1,"card2","my-xl-5"],[1,"icon","mb-xl-3"],["src","././assets/test.jpg","alt","",1,"w-100"],[1,"d-flex","ms-3","me-3","br","pos"],[1,"d-flex"],[1,"fa-solid","fa-user","me-1","mt-1"],[1,"d-flex","ms-auto"],[1,"fa-solid","fa-calendar-days","mt-1","me-1"],[1,"ms-4"],["src","././assets/stades-2.jpg","alt","",1,"w-100"],["src","././assets/egypt-flag.jpg","alt","",1,"w-100"],[1,"pb-5"],[1,"container","footer"],[1,"col-md-3","mt-5"],[1,"fa-solid","fa-futbol","text-danger"],["href","https://www.facebook.com/profile.php?id=100009866701546"],[1,"fa-brands","fa-facebook-f","style"],["href","https://twitter.com/MEbrahrem"],[1,"fa-brands","fa-twitter","ms-3","style"],["href","https://www.instagram.com/mohammedebrahiiim/"],[1,"fa-brands","fa-instagram","ms-3","style"],["href","https://www.linkedin.com/in/mohamed-abdelazez-a87075193/"],[1,"fa-brands","fa-linkedin","ms-3","style"],[1,"fa-solid","fa-arrow-right-long"],[1,"fa-solid","fa-phone-flip"],[1,"fa-solid","fa-envelope"],[1,"fa-solid","fa-location-pin","me-2"],["type","email","placeholder","Your Email",1,"form-control"],[1,"bttn","mt-4"],[1,"text-center","mt-3","mb-5"],[1,"text-danger","fs-5"]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"header")(2,"div",0)(3,"div",1)(4,"h2",2),u._uU(5,"Discover The "),u.TgZ(6,"span",3),u._uU(7,"Evaluation"),u.qZA(),u._uU(8," Of SportsWear"),u.qZA(),u.TgZ(9,"p"),u._uU(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam maxime facere cumque harum quas deleniti corrupti, sint exercitationem ad soluta!"),u.qZA(),u.TgZ(11,"a",4)(12,"button",5),u._uU(13," Shop Now"),u.qZA()()()()(),u.TgZ(14,"div",6)(15,"div",7)(16,"div",8)(17,"div",9)(18,"div",10)(19,"h3",11),u._uU(20,"Our "),u.TgZ(21,"span",12),u._uU(22,"Features"),u.qZA()(),u.TgZ(23,"p",13),u._uU(24,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem, alias!"),u.qZA(),u._UZ(25,"div",14),u.qZA()()(),u.TgZ(26,"div",8)(27,"div",15)(28,"div",16)(29,"div",17),u._UZ(30,"img",18),u.qZA(),u.TgZ(31,"h3",19),u._uU(32,"SportsWear && Tools"),u.qZA(),u.TgZ(33,"p",20),u._uU(34," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! ."),u.qZA(),u.TgZ(35,"a")(36,"button",21),u._uU(37," Read More"),u.qZA()()()(),u.TgZ(38,"div",22)(39,"div",16)(40,"div",23),u._UZ(41,"img",24),u.qZA(),u.TgZ(42,"h3",19),u._uU(43,"Free Delivery"),u.qZA(),u.TgZ(44,"p",20),u._uU(45," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! ."),u.qZA(),u.TgZ(46,"a")(47,"button",21),u._uU(48," Read More"),u.qZA()()()(),u.TgZ(49,"div",22)(50,"div",16)(51,"div",23),u._UZ(52,"img",25),u.qZA(),u.TgZ(53,"h3",19),u._uU(54,"Easy payments"),u.qZA(),u.TgZ(55,"p",20),u._uU(56," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! ."),u.qZA(),u.TgZ(57,"a")(58,"button",21),u._uU(59," Read More"),u.qZA()()()()()()(),u.TgZ(60,"div",26)(61,"div",7)(62,"div",8)(63,"div",27)(64,"div",10)(65,"h3",11),u._uU(66,"Products "),u.TgZ(67,"span",12),u._uU(68,"Categories"),u.qZA()(),u.TgZ(69,"p",13),u._uU(70,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem, alias!"),u.qZA(),u._UZ(71,"div",28),u.qZA()()(),u.TgZ(72,"div",8)(73,"div",29)(74,"div",30)(75,"div",31),u._UZ(76,"img",32),u.qZA(),u.TgZ(77,"h3",19),u._uU(78,"Sportswear"),u.qZA(),u.TgZ(79,"p",20),u._uU(80,"Upto 45% Off ."),u.qZA(),u.TgZ(81,"a",4)(82,"button",21),u._uU(83,"Shop Now"),u.qZA()()()(),u.TgZ(84,"div",33)(85,"div",30)(86,"div",31),u._UZ(87,"img",34),u.qZA(),u.TgZ(88,"h3",19),u._uU(89,"Clups Flag"),u.qZA(),u.TgZ(90,"p",20),u._uU(91,"Upto 45% Off ."),u.qZA(),u.TgZ(92,"a",4)(93,"button",21),u._uU(94,"Shop Now"),u.qZA()()()(),u.TgZ(95,"div",33)(96,"div",30)(97,"div",31),u._UZ(98,"img",35),u.qZA(),u.TgZ(99,"h3",19),u._uU(100,"Sports shoe"),u.qZA(),u.TgZ(101,"p",20),u._uU(102,"Upto 45% Off ."),u.qZA(),u.TgZ(103,"a",4)(104,"button",21),u._uU(105,"Shop Now"),u.qZA()()()(),u.TgZ(106,"div",33)(107,"div",30)(108,"div",31),u._UZ(109,"img",36),u.qZA(),u.TgZ(110,"h3",19),u._uU(111,"accessories"),u.qZA(),u.TgZ(112,"p",20),u._uU(113,"Upto 45% Off ."),u.qZA(),u.TgZ(114,"a",4)(115,"button",21),u._uU(116,"Shop Now"),u.qZA()()()()()()(),u.TgZ(117,"div",37)(118,"div",7)(119,"div",8)(120,"div",27)(121,"div",10)(122,"h3",11),u._uU(123,"Customer's "),u.TgZ(124,"span",12),u._uU(125,"Review"),u.qZA()(),u.TgZ(126,"p",13),u._uU(127,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem, alias!"),u.qZA(),u._UZ(128,"div",28),u.qZA()()(),u.TgZ(129,"div",8)(130,"div",29)(131,"div",30)(132,"div",38),u._UZ(133,"img",39),u.qZA(),u.TgZ(134,"p"),u._uU(135,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),u.qZA(),u.TgZ(136,"h3",40),u._uU(137,"John Deo"),u.qZA()()(),u.TgZ(138,"div",33)(139,"div",30)(140,"div",38),u._UZ(141,"img",41),u.qZA(),u.TgZ(142,"p"),u._uU(143,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),u.qZA(),u.TgZ(144,"h3",40),u._uU(145,"Triple H"),u.qZA()()(),u.TgZ(146,"div",33)(147,"div",30)(148,"div",38),u._UZ(149,"img",42),u.qZA(),u.TgZ(150,"p"),u._uU(151,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),u.qZA(),u.TgZ(152,"h3",40),u._uU(153,"juegen "),u.qZA()()(),u.TgZ(154,"div",33)(155,"div",30)(156,"div",38),u._UZ(157,"img",43),u.qZA(),u.TgZ(158,"p"),u._uU(159,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),u.qZA(),u.TgZ(160,"h3",40),u._uU(161,"Tokyo"),u.qZA()()()()()(),u.TgZ(162,"div",44)(163,"div",7)(164,"div",8)(165,"div",27)(166,"div",45)(167,"h3",46),u._uU(168,"Our "),u.TgZ(169,"span",12),u._uU(170,"Blogs"),u.qZA()(),u.TgZ(171,"p",13),u._uU(172,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem, alias!"),u.qZA(),u._UZ(173,"div",14),u.qZA()()(),u.TgZ(174,"div",8)(175,"div",47)(176,"div",48)(177,"div",49),u._UZ(178,"img",50),u.qZA(),u.TgZ(179,"div",51)(180,"div",52),u._UZ(181,"i",53),u.TgZ(182,"p"),u._uU(183,"By User"),u.qZA()(),u.TgZ(184,"div",54),u._UZ(185,"i",55),u.TgZ(186,"p"),u._uU(187,"1st May, 2021"),u.qZA()()(),u.TgZ(188,"h3",19),u._uU(189,"Sports Wear"),u.qZA(),u.TgZ(190,"p",20),u._uU(191," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! ."),u.qZA(),u.TgZ(192,"a",56)(193,"button",21),u._uU(194," Read More"),u.qZA()()()(),u.TgZ(195,"div",47)(196,"div",48)(197,"div",49),u._UZ(198,"img",57),u.qZA(),u.TgZ(199,"div",51)(200,"div",52),u._UZ(201,"i",53),u.TgZ(202,"p"),u._uU(203,"By User"),u.qZA()(),u.TgZ(204,"div",54),u._UZ(205,"i",55),u.TgZ(206,"p"),u._uU(207,"1st May, 2021"),u.qZA()()(),u.TgZ(208,"h3",19),u._uU(209,"Sports Shoe && Running Shoe"),u.qZA(),u.TgZ(210,"p",20),u._uU(211," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! ."),u.qZA(),u.TgZ(212,"a",56)(213,"button",21),u._uU(214," Read More"),u.qZA()()()(),u.TgZ(215,"div",47)(216,"div",48)(217,"div",49),u._UZ(218,"img",58),u.qZA(),u.TgZ(219,"div",51)(220,"div",52),u._UZ(221,"i",53),u.TgZ(222,"p"),u._uU(223,"By User"),u.qZA()(),u.TgZ(224,"div",54),u._UZ(225,"i",55),u.TgZ(226,"p"),u._uU(227,"1st May, 2021"),u.qZA()()(),u.TgZ(228,"h3",19),u._uU(229,"Flag For Clups && National Team"),u.qZA(),u.TgZ(230,"p",20),u._uU(231," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! ."),u.qZA(),u.TgZ(232,"a",56)(233,"button",21),u._uU(234," Read More"),u.qZA()()()()()()(),u.TgZ(235,"footer",59)(236,"div",60)(237,"div",8)(238,"div",61)(239,"h5"),u._UZ(240,"i",62),u._uU(241," Mo-sports"),u.qZA(),u.TgZ(242,"p",13),u._uU(243,"Lorem Ipsum Dolor, Sit Amet Consectetur Adipisicing Elit. Aliquam, Saepe."),u.qZA(),u.TgZ(244,"a",63),u._UZ(245,"i",64),u.qZA(),u.TgZ(246,"a",65),u._UZ(247,"i",66),u.qZA(),u.TgZ(248,"a",67),u._UZ(249,"i",68),u.qZA(),u.TgZ(250,"a",69),u._UZ(251,"i",70),u.qZA()(),u.TgZ(252,"div",61)(253,"h5",56),u._uU(254," Quick Links "),u.qZA(),u.TgZ(255,"ul")(256,"li"),u._UZ(257,"i",71),u._uU(258," Home"),u.qZA(),u.TgZ(259,"li"),u._UZ(260,"i",71),u._uU(261," Features"),u.qZA(),u.TgZ(262,"li"),u._UZ(263,"i",71),u._uU(264," Catigories"),u.qZA(),u.TgZ(265,"li"),u._UZ(266,"i",71),u._uU(267," Revirew"),u.qZA(),u.TgZ(268,"li"),u._UZ(269,"i",71),u._uU(270," Blogs"),u.qZA()()(),u.TgZ(271,"div",61)(272,"h5",56),u._uU(273,"Contact Info"),u.qZA(),u.TgZ(274,"ul")(275,"li"),u._UZ(276,"i",72),u.TgZ(277,"span",13),u._uU(278," +201125654410"),u.qZA()(),u.TgZ(279,"li"),u._UZ(280,"i",73),u.TgZ(281,"span",13),u._uU(282," mohammed.ebraahiiim@gmail.com"),u.qZA()(),u.TgZ(283,"li"),u._UZ(284,"i",74),u.TgZ(285,"span",13),u._uU(286," Egypt , Elgharbia , zifta"),u.qZA()()()(),u.TgZ(287,"div",61)(288,"h5"),u._uU(289,"Newsletter"),u.qZA(),u.TgZ(290,"p",13),u._uU(291," Subscribe For Latest Updates "),u.qZA(),u._UZ(292,"input",75),u.TgZ(293,"a")(294,"button",76),u._uU(295," Subscripe"),u.qZA()()()()(),u.TgZ(296,"div",77)(297,"p"),u._uU(298,"Created By "),u.TgZ(299,"span",78),u._uU(300," Mohamed Ibrahim "),u.qZA(),u._uU(301," | All Rights Reserved | \xa9 2022"),u.qZA()()())},directives:[jp,Xa],styles:['header[_ngcontent-%COMP%]{height:70vh;background-image:url(header.698bffd1dd794f5e.jpg);background-position:center;background-repeat:no-repeat;background-size:cover}.grad[_ngcontent-%COMP%]{height:70vh;background-color:#000000a2}.bttn[_ngcontent-%COMP%]{background-color:transparent;border:2px solid white;border-radius:5px;padding:10px;transition:all .6s}.bttn[_ngcontent-%COMP%]:hover, footer[_ngcontent-%COMP%]   .bttn[_ngcontent-%COMP%]:hover{background-color:#0ff;color:#000!important;border:2px solid rgba(86,109,98,.938)}.bord[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff}#serv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:100px;margin-top:50px}#serv[_ngcontent-%COMP%]   .bttn[_ngcontent-%COMP%], #serv3[_ngcontent-%COMP%]   .bttn[_ngcontent-%COMP%]{border:2px solid black;color:#000}.services[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;border:none;background-color:#fff;box-shadow:0 1px 1px #0000000f,0 2px 5px #0003;border-radius:16px}.services[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 1px 1px #0000000f,0 2px 5px #0003;border-radius:16px}.services[_ngcontent-%COMP%]   .s-title[_ngcontent-%COMP%]{font-size:1.4rem;text-align:center;padding:.4rem 0}.services[_ngcontent-%COMP%]   .subtitle-a[_ngcontent-%COMP%]{color:#4e4e4e;padding-bottom:20px}#serv3[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{text-align:start}.br[_ngcontent-%COMP%]{border-bottom:#4e4e4e86 .5px solid}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:280px}footer[_ngcontent-%COMP%]{background-color:#fff;box-shadow:7px 5px 1px #0000000f,8px 0 5px #0003}.style[_ngcontent-%COMP%]{padding:8px;background-color:#dad6d6}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}footer[_ngcontent-%COMP%]   .bttn[_ngcontent-%COMP%]{background-color:transparent;border:2px solid black;border-radius:5px;padding:10px;margin-bottom:50px}.footer[_ngcontent-%COMP%]{border-bottom:#4e4e4e .25px solid}.const-title[_ngcontent-%COMP%]{text-align:center}.title-a[_ngcontent-%COMP%]{text-decoration:none;font-size:2rem!important;font-weight:700;text-transform:uppercase;color:#1e1e1e;line-height:1.2}.line[_ngcontent-%COMP%]{width:40px;height:5px;background-color:#0078ff;margin:0 auto;z-index:997}.chevron[_ngcontent-%COMP%]{position:relative;text-align:center;padding:12px;margin-bottom:6px;height:60px;width:200px}.chevron[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;width:50%;background:rgba(74,77,77,.212);transform:skew(0,6deg)}.chevron[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;height:100%;width:50%;background:rgba(74,77,77,.212);transform:skew(0,-6deg)}@media only screen and (max-width: 1198px){.services[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-top:30px}#serv1[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:15px}.blog[_ngcontent-%COMP%], .services[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]{margin:40px 0}.pos[_ngcontent-%COMP%]{margin-top:20px}}.hover[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer;transition:all .4s}.hover[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-20px)}']}),n})();function WL(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"th",7),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._UZ(6,"img",8),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td")(10,"button",9),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().increment(a,a.id)}),u._UZ(11,"i",10),u.qZA(),u._uU(12),u.TgZ(13,"button",11),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().decrement(a,a.id)}),u._UZ(14,"i",12),u.qZA()(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u._uU(18),u.qZA()()}if(2&n){const t=e.$implicit,r=e.index;u.xp6(2),u.Oqu(r),u.xp6(2),u.Oqu(t.title),u.xp6(2),u.s9C("src",t.img,u.LSH),u.xp6(2),u.Oqu(t.discrption),u.xp6(4),u.hij(" ",t.quantity," "),u.xp6(4),u.hij(" ",t.price,""),u.xp6(2),u.hij(" ",t.total,"")}}let KL=(()=>{class n{constructor(t){this._OrdersService=t,this.test=new xn(1),this.grandTotal=0,this.aytest=[],this.exx=[]}ngOnInit(){this._OrdersService.getProduct().subscribe(t=>{this.aytest=t,this.totalprice(t)})}totals(){this.grandTotal=this._OrdersService.getTotalprice()}increment(t,r){t.quantity>=0&&(t.quantity+=1,this.totalprice(t),this.totals())}totalprice(t){this.test.next(t.quantity),t.total=t.quantity*t.price,this.totals()}decrement(t,r){t.quantity&&(t.quantity-=1,this.totalprice(t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(g_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-orders"]],decls:27,vars:2,consts:[[1,"container","mt-5","table-responsive-md"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","9",1,"mt-5"],["routerLink","/cheackout"],[1,"btn","btn-outline-success","w-100"],["scope","row"],["height","80px","alt","",1,"w-75",3,"src"],[1,"btn","btn-danger","me-1",3,"click"],[1,"fa-solid","fa-circle-plus"],[1,"btn","btn-danger","ms-1",3,"click"],[1,"fa-solid","fa-circle-minus"]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),u._uU(6,"Sr-Number"),u.qZA(),u.TgZ(7,"th",2),u._uU(8,"Product-Name"),u.qZA(),u.TgZ(9,"th",2),u._uU(10,"Product-image"),u.qZA(),u.TgZ(11,"th",2),u._uU(12,"Description"),u.qZA(),u.TgZ(13,"th",2),u._uU(14,"Quantity"),u.qZA(),u.TgZ(15,"th",2),u._uU(16,"Price"),u.qZA(),u.TgZ(17,"th",2),u._uU(18,"Total"),u.qZA()()(),u.TgZ(19,"tbody"),u.YNc(20,WL,19,7,"tr",3),u.TgZ(21,"tr")(22,"td",4),u._uU(23),u.qZA()()()(),u.TgZ(24,"a",5)(25,"button",6),u._uU(26,"Cheackout"),u.qZA()()()),2&t&&(u.xp6(20),u.Q6J("ngForOf",r.aytest),u.xp6(3),u.hij(" TOTAL : ",r.grandTotal," "))},directives:[jp,On,Xa],styles:[""]}),n})();function HR(n,e=Ly.z){return(0,lr.e)((t,r)=>{let i=null,a=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function _(){const E=d+n,D=e.now();if(D<E)return i=this.schedule(void 0,E-D),void r.add(i);f()}t.subscribe((0,An.x)(r,E=>{a=E,d=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}const $R="firebasestorage.googleapis.com",qR="storageBucket";class kr extends kt.ZR{constructor(e,t){super(eM(e),`Firebase Storage: ${t} (${eM(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}_codeEquals(e){return eM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function eM(n){return"storage/"+n}function tM(){return new kr("unknown","An unknown error occurred, please check the error payload for server response.")}function GR(){return new kr("canceled","User canceled the upload/download.")}function ZR(){return new kr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function m_(n){return new kr("invalid-argument",n)}function zR(){return new kr("app-deleted","The Firebase app was deleted.")}function WR(n){return new kr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zb(n,e){return new kr("invalid-format","String does not match format '"+n+"': "+e)}function zb(n){throw new kr("internal-error","Internal error: "+n)}class cs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=cs.makeFromUrl(e,t)}catch(i){return new cs(e,"")}if(""===r.path)return r;throw function o2(n){return new kr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(et){et.path_=decodeURIComponent(et.path)}const M=t.replace(/[.]/g,"\\."),lt=[{regex:f,indices:{bucket:1,path:3},postModify:function a(et){"/"===et.path.charAt(et.path.length-1)&&(et.path_=et.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===$R?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let et=0;et<lt.length;et++){const Rt=lt[et],Ft=Rt.regex.exec(e);if(Ft){let $r=Ft[Rt.indices.path];$r||($r=""),r=new cs(Ft[Rt.indices.bucket],$r),Rt.postModify(r);break}}if(null==r)throw function s2(n){return new kr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class c2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function nI(n){return"string"==typeof n||n instanceof String}function KR(n){return nM()&&n instanceof Blob}function nM(){return"undefined"!=typeof Blob}function rM(n,e,t,r){if(r<e)throw m_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw m_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function YR(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Rh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Rh||(Rh={})),Rh))();class m2{constructor(e,t,r,i,a,d,f,_,E,D,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=_,this.timeout_=E,this.progressCallback_=D,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,B)=>{this.resolve_=L,this.reject_=B,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,d=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function f2(n){return void 0!==n}(_)?a():a(_)}catch(_){d(_)}else if(null!==f){const _=tM();_.serverResponse=f.getErrorText(),d(this.errorCallback_?this.errorCallback_(f,_):_)}else d(i.canceled?this.appDelete_?zR():GR():function r2(){return new kr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new rI(!1,null,!0)):this.backoffId_=function d2(n,e,t){let r=1,i=null,a=null,d=!1,f=0;function _(){return 2===f}let E=!1;function D(...ke){E||(E=!0,e.apply(null,ke))}function M(ke){i=setTimeout(()=>{i=null,n(B,_())},ke)}function L(){a&&clearTimeout(a)}function B(ke,...ct){if(E)return void L();if(ke)return L(),void D.call(null,ke,...ct);if(_()||d)return L(),void D.call(null,ke,...ct);let lt;r<64&&(r*=2),1===f?(f=2,lt=0):lt=1e3*(r+Math.random()),M(lt)}let G=!1;function he(ke){G||(G=!0,L(),!E&&(null!==i?(ke||(f=2),clearTimeout(i),M(0)):ke||(f=1)))}return M(0),a=setTimeout(()=>{d=!0,he(!0)},t),he}((r,i)=>{if(i)return void r(!1,new rI(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const d=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(d),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(d),this.pendingConnection_=null;const f=a.getErrorCode()===Rh.NO_ERROR,_=a.getStatus();if(!f||this.isRetryStatusCode_(_)){const D=a.getErrorCode()===Rh.ABORT;return void r(!1,new rI(!1,null,D))}const E=-1!==this.successCodes_.indexOf(_);r(!0,new rI(E,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function h2(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class rI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function C2(...n){const e=function w2(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(nM())return new Blob(n);throw new kr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iM{constructor(e,t){this.data=e,this.contentType=t||null}}function sM(n,e){switch(n){case jo.RAW:return new iM(QR(e));case jo.BASE64:case jo.BASE64URL:return new iM(JR(n,e));case jo.DATA_URL:return new iM(function A2(n){const e=new XR(n);return e.base64?JR(jo.BASE64,e.rest):function D2(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Zb(jo.DATA_URL,"Malformed data URL.")}return QR(e)}(e.rest)}(e),function S2(n){return new XR(n).contentType}(e))}throw tM()}function QR(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function JR(n,e){switch(n){case jo.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Zb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case jo.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Zb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function T2(n){return atob(n)}(e)}catch(i){throw Zb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class XR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Zb(jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function M2(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Tu{constructor(e,t){let r=0,i="";KR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(KR(this.data_)){const i=function I2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Tu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Tu(r,!0)}}static getBlob(...e){if(nM()){const t=e.map(r=>r instanceof Tu?r.data_:r);return new Tu(C2.apply(null,t))}{const t=e.map(d=>nI(d)?sM(jo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)i[a++]=d[f]}),new Tu(i,!0)}}uploadData(){return this.data_}}function oM(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function g2(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function ek(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function k2(n,e){return e}class ks{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||k2}}let iI=null;function Wb(){if(iI)return iI;const n=[];n.push(new ks("bucket")),n.push(new ks("generation")),n.push(new ks("metageneration")),n.push(new ks("name","fullPath",!0));const t=new ks("name");t.xform=function e(a,d){return function O2(n){return!nI(n)||n.length<2?n:ek(n)}(d)},n.push(t);const i=new ks("size");return i.xform=function r(a,d){return void 0!==d?Number(d):d},n.push(i),n.push(new ks("timeCreated")),n.push(new ks("updated")),n.push(new ks("md5Hash",null,!0)),n.push(new ks("cacheControl",null,!0)),n.push(new ks("contentDisposition",null,!0)),n.push(new ks("contentEncoding",null,!0)),n.push(new ks("contentLanguage",null,!0)),n.push(new ks("contentType",null,!0)),n.push(new ks("metadata","customMetadata",!0)),iI=n,iI}function tk(n,e,t){const r=oM(e);return null===r?null:function P2(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const d=t[a];r[d.local]=d.xform(r,e[d.server])}return function N2(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new cs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function aM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const nk="prefixes";class Du{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Au(n){if(!n)throw tM()}function sI(n,e){return function t(r,i){const a=tk(n,i,e);return Au(null!==a),a}}function __(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function t2(){return new kr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function e2(){return new kr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function XL(n){return new kr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function n2(n){return new kr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Kb(n){const e=__(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function JL(n){return new kr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function ik(n,e,t){const i=Bc(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new Du(i,"GET",sI(n,t),d);return f.errorHandler=Kb(e),f}function j2(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=Bc(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,D=new Du(f,"GET",function V2(n,e){return function t(r,i){const a=function U2(n,e,t){const r=oM(t);return null===r?null:function L2(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[nk])for(const i of t[nk]){const a=i.replace(/\/$/,""),d=n._makeStorageReference(new cs(e,a));r.prefixes.push(d)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new cs(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Au(null!==a),a}}(n,e.bucket),E);return D.urlParams=a,D.errorHandler=__(e),D}function ok(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function G2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class oI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function lM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){Au(!1)}return Au(!!t&&-1!==(e||["active"]).indexOf(t)),t}const K2={STATE_CHANGED:"state_changed"},Os={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uM(n){switch(n){case"running":case"pausing":case"canceling":return Os.RUNNING;case"paused":return Os.PAUSED;case"success":return Os.SUCCESS;case"canceled":return Os.CANCELED;default:return Os.ERROR}}class Y2{constructor(e,t,r){if(function p2(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function y_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class J2 extends class Q2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function bl(){return new J2}class ck{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Z2(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),d=ok(e,r,i),f={name:d.fullPath},_=Bc(a,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},M=aM(d,t),G=new Du(_,"POST",function B(he){let ke;lM(he);try{ke=he.getResponseHeader("X-Goog-Upload-URL")}catch(ct){Au(!1)}return Au(nI(ke)),ke},n.maxUploadRetryTime);return G.urlParams=f,G.headers=D,G.body=M,G.errorHandler=__(e),G}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,bl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function z2(n,e,t,r){const _=new Du(t,"POST",function a(E){const D=lM(E,["active","final"]);let M=null;try{M=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch(B){Au(!1)}M||Au(!1);const L=Number(M);return Au(!isNaN(L)),new oI(L,r.size(),"final"===D)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=__(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,bl,t,r);this._request=a,a.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new oI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let d;try{d=function W2(n,e,t,r,i,a,d,f){const _=new oI(0,0);if(d?(_.current=d.current,_.total=d.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function l2(){return new kr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=_.total-_.current;let D=E;i>0&&(D=Math.min(D,i));const M=_.current,G={"X-Goog-Upload-Command":D===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},he=r.slice(M,M+D);if(null===he)throw ZR();const lt=new Du(t,"POST",function ke(et,Rt){const Ft=lM(et,["active","final"]),dn=_.current+D,$r=r.size();let qo;return qo="final"===Ft?sI(e,a)(et,Rt):null,new oI(dn,$r,"final"===Ft,qo)},e.maxUploadRetryTime);return lt.headers=G,lt.body=he.uploadData(),lt.progressCallback=f||null,lt.errorHandler=__(n),lt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(d,bl,i,a);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=ik(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,bl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function ak(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let lt="";for(let et=0;et<2;et++)lt+=Math.random().toString().slice(2);return lt}();d["Content-Type"]="multipart/related; boundary="+_;const E=ok(e,r,i),D=aM(E,t),B=Tu.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+_+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===B)throw ZR();const G={name:E.fullPath},he=Bc(a,n.host,n._protocol),ct=n.maxUploadRetryTime,ht=new Du(he,"POST",sI(n,t),ct);return ht.urlParams=G,ht.headers=d,ht.body=B.uploadData(),ht.errorHandler=__(e),ht}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,bl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=GR(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=uM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new Y2(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(uM(this._state)){case Os.SUCCESS:y_(this._resolve.bind(null,this.snapshot))();break;case Os.CANCELED:case Os.ERROR:y_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(uM(this._state)){case Os.RUNNING:case Os.PAUSED:e.next&&y_(e.next.bind(e,this.snapshot))();break;case Os.SUCCESS:e.complete&&y_(e.complete.bind(e))();break;default:e.error&&y_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Hp{constructor(e,t){this._service=e,this._location=t instanceof cs?t:cs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hp(e,t)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ek(this._location.path)}get storage(){return this._service}get parent(){const e=function x2(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new cs(this._location.bucket,e);return new Hp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw WR(e)}}function hk(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=(0,De.Z)(function*(n,e,t){const i=yield fk(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield hk(n,e,i.nextPageToken))}),cM.apply(this,arguments)}function fk(n,e){null!=e&&"number"==typeof e.maxResults&&rM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=j2(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,bl)}function cU(n){n._throwIfRoot("getDownloadURL");const e=function H2(n,e,t){const i=Bc(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new Du(i,"GET",function B2(n,e){return function t(r,i){const a=tk(n,i,e);return Au(null!==a),function F2(n,e,t,r){const i=oM(e);if(null===i||!nI(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const d=encodeURIComponent;return a.split(",").map(E=>{const M=n.fullPath;return Bc("/b/"+d(n.bucket)+"/o/"+d(M),t,r)+YR({alt:"media",token:E})})[0]}(a,i,n.host,n._protocol)}}(n,t),d);return f.errorHandler=Kb(e),f}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,bl).then(t=>{if(null===t)throw function u2(){return new kr("no-download-url","The given file does not have any download URLs.")}();return t})}function pk(n,e){const t=function R2(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new cs(n._location.bucket,t);return new Hp(n.storage,r)}function gk(n,e){if(n instanceof dM){const t=n;if(null==t._bucket)throw function a2(){return new kr("no-default-bucket","No default bucket found. Did you set the '"+qR+"' property when initializing the app?")}();const r=new Hp(t,t._bucket);return null!=e?gk(r,e):r}return void 0!==e?pk(n,e):n}function pU(n,e){if(e&&function hU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof dM)return function fU(n,e){return new Hp(n,e)}(n,e);throw m_("To use ref(service, url), the first argument must be a Storage instance.")}return gk(n,e)}function mk(n,e){const t=null==e?void 0:e[qR];return null==t?null:cs.makeFromBucketSpec(t,n)}class dM{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=$R,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?cs.makeFromBucketSpec(i,this._host):mk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?cs.makeFromBucketSpec(this._url,e):mk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,De.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,De.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hp(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new c2(zR());{const a=function E2(n,e,t,r,i,a){const d=YR(n.urlParams),f=n.url+d,_=Object.assign({},n.headers);return function v2(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function _2(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function y2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function b2(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new m2(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,De.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const _k="@firebase/storage";function bk(n,e){return pU(n=(0,kt.m9)(n),e)}function TU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new dM(t,r,i,e,Qs.SDK_VERSION)}!function DU(){(0,Qs._registerComponent)(new ac.wA("storage",TU,"PUBLIC").setMultipleInstances(!0)),(0,Qs.registerVersion)(_k,"0.9.6",""),(0,Qs.registerVersion)(_k,"0.9.6","esm2017")}();class aI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ek{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new aI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new aI(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?d=>t(new aI(d,this,this._ref)):{next:t.next?d=>t.next(new aI(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class wk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new jc(e,this._service))}get items(){return this._delegate.items.map(e=>new jc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class jc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function CU(n,e){return pk(n,e)}(this._delegate,e);return new jc(t,this.storage)}get root(){return new jc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new jc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Ek(function mU(n,e,t){return function sU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ck(n,new Tu(e),t)}(n=(0,kt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=jo.RAW,r){this._throwIfRoot("putString");const i=sM(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new Ek(new ck(this._delegate,new Tu(i.data,!0),a),this)}listAll(){return function bU(n){return function aU(n){const e={prefixes:[],items:[]};return hk(n,e).then(()=>e)}(n=(0,kt.m9)(n))}(this._delegate).then(e=>new wk(e,this.storage))}list(e){return function vU(n,e){return fk(n=(0,kt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new wk(t,this.storage))}getMetadata(){return function _U(n){return function lU(n){n._throwIfRoot("getMetadata");const e=ik(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,bl)}(n=(0,kt.m9)(n))}(this._delegate)}updateMetadata(e){return function yU(n,e){return function uU(n,e){n._throwIfRoot("updateMetadata");const t=function $2(n,e,t,r){const a=Bc(e.fullServerUrl(),n.host,n._protocol),f=aM(t,r),E=n.maxOperationRetryTime,D=new Du(a,"PATCH",sI(n,r),E);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=f,D.errorHandler=Kb(e),D}(n.storage,n._location,e,Wb());return n.storage.makeRequestWithTokens(t,bl)}(n=(0,kt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function EU(n){return cU(n=(0,kt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wU(n){return function dU(n){n._throwIfRoot("deleteObject");const e=function q2(n,e){const r=Bc(e.fullServerUrl(),n.host,n._protocol),f=new Du(r,"DELETE",function d(_,E){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Kb(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,bl)}(n=(0,kt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw WR(e)}}class Ck{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Ik(e))throw m_("ref() expected a child path but got a URL, use refFromURL instead.");return new jc(bk(this._delegate,e),this)}refFromURL(e){if(!Ik(e))throw m_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cs.makeFromUrl(e,this._delegate.host)}catch(t){throw m_("refFromUrl() expected a valid full URL but got an invalid one.")}return new jc(bk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function IU(n,e,t,r={}){!function gU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,kt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function Ik(n){return/^[A-Za-z]+:\/\//.test(n)}function xU(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Ck(t,r)}function Tk(n){const e=function kU(n){return new Ur.y(e=>{const t=d=>e.next(d);t(n.snapshot);const a=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){a()}}).pipe(HR(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,It.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function lI(n){return{getDownloadURL:()=>nt(void 0).pipe(Qt.fc,rr(()=>n.getDownloadURL()),Qt.iC),getMetadata:()=>nt(void 0).pipe(Qt.fc,rr(()=>n.getMetadata()),Qt.iC),delete:()=>(0,En.D)(n.delete()),child:e=>lI(n.child(e)),updateMetadata:e=>(0,En.D)(n.updateMetadata(e)),put:(e,t)=>Tk(n.put(e,t)),putString:(e,t,r)=>Tk(n.putString(e,t,r)),list:e=>(0,En.D)(n.list(e)),listAll:()=>(0,En.D)(n.listAll())}}!function RU(n){const e={TaskState:Os,TaskEvent:K2,StringFormat:jo,Storage:Ck,Reference:jc};n.INTERNAL.registerComponent(new ac.wA("storage-compat",xU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(gE.Z);const OU=new u.OlP("angularfire2.storageBucket"),NU=new u.OlP("angularfire2.storage.maxUploadRetryTime"),PU=new u.OlP("angularfire2.storage.maxOperationRetryTime"),FU=new u.OlP("angularfire2.storage.use-emulator");let Dk=(()=>{class n{constructor(t,r,i,a,d,f,_,E,D,M){const L=(0,Oi.on)(t,d,r);this.storage=(0,Oi.cc)(`${L.name}.storage.${i}`,"AngularFireStorage",L.name,()=>{const B=d.runOutsideAngular(()=>L.storage(i||void 0)),G=D;return G&&B.useEmulator(...G),_&&B.setMaxUploadRetryTime(_),E&&B.setMaxOperationRetryTime(E),B},[_,E])}ref(t){return lI(this.storage.ref(t))}refFromURL(t){return lI(this.storage.refFromURL(t))}upload(t,r,i){return lI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Oi.Dh),u.LFG(Oi.xv,8),u.LFG(OU,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Qt.HU),u.LFG(NU,8),u.LFG(PU,8),u.LFG(FU,8),u.LFG(p_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),UU=(()=>{class n{constructor(){KS.Z.registerVersion("angularfire",Qt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Dk],imports:[LU]}),n})(),uI=(()=>{class n{constructor(t,r,i){this._AngularFirestore=t,this._AngularFireStorage=r,this._AutheService=i,this.docRef=""}getallproduct(){return this._AngularFirestore.collection("products").snapshotChanges()}addnewproduct(t,r,i,a,d=1){return new Promise((f,_)=>{let E=this._AngularFireStorage.ref("products/"+i.name);E.put(i).then(()=>{E.getDownloadURL().subscribe(D=>{this._AngularFirestore.collection("products").add({title:t,price:r,img:D,discrption:a,quantity:d}).then(()=>f("hello"))})})})}deleteproduct(t){return this._AngularFirestore.doc(`users/${this._AutheService.userId}/cart/${t}`).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gb),u.LFG(Dk),u.LFG(Iu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19)(1,"div",20)(2,"div",21),u._UZ(3,"img",22),u.qZA(),u.TgZ(4,"h3",23),u._uU(5),u.qZA(),u.TgZ(6,"p",24),u._uU(7),u.qZA(),u.TgZ(8,"h3",23),u._uU(9),u.qZA(),u.TgZ(10,"a",25)(11,"button",26),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().addTocart(a,a.id)})("click",function(){const a=u.CHM(t).$implicit;return u.oxw().isClicked1(a.id)}),u._uU(12,"Add To Card"),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.img,u.LSH),u.xp6(2),u.Oqu(t.title),u.xp6(2),u.hij("",t.discrption," ."),u.xp6(2),u.hij("",t.price," $"),u.xp6(2),u.MGl("id","btn",t.id,"")}}function BU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19)(1,"div",20)(2,"div",21),u._UZ(3,"img",22),u.qZA(),u.TgZ(4,"h3",23),u._uU(5),u.qZA(),u.TgZ(6,"p",24),u._uU(7),u.qZA(),u.TgZ(8,"h3",23),u._uU(9),u.qZA(),u.TgZ(10,"a",25)(11,"button",26),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().addTocart(a,a.id)})("click",function(){const a=u.CHM(t).$implicit;return u.oxw().isClicked1(a.id)}),u._uU(12,"Add To Card"),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.img,u.LSH),u.xp6(2),u.Oqu(t.title),u.xp6(2),u.hij("",t.discrption," ."),u.xp6(2),u.hij("",t.price," $"),u.xp6(2),u.MGl("id","btn1",t.id,"")}}function jU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19)(1,"div",20)(2,"div",21),u._UZ(3,"img",22),u.qZA(),u.TgZ(4,"h3",23),u._uU(5),u.qZA(),u.TgZ(6,"p",24),u._uU(7),u.qZA(),u.TgZ(8,"h3",23),u._uU(9),u.qZA(),u.TgZ(10,"a",25)(11,"button",26),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().addTocart(a,a.id)})("click",function(){const a=u.CHM(t).$implicit;return u.oxw().isClicked1(a.id)}),u._uU(12,"Add To Card"),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.img,u.LSH),u.xp6(2),u.Oqu(t.title),u.xp6(2),u.hij("",t.discrption," ."),u.xp6(2),u.hij("",t.price," $"),u.xp6(2),u.MGl("id","btn1",t.id,"")}}function HU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19)(1,"div",20)(2,"div",21),u._UZ(3,"img",22),u.qZA(),u.TgZ(4,"h3",23),u._uU(5),u.qZA(),u.TgZ(6,"p",24),u._uU(7),u.qZA(),u.TgZ(8,"h3",27),u._uU(9),u.qZA(),u.TgZ(10,"a",25)(11,"button",26),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().addTocart(a,a.id)})("click",function(){const a=u.CHM(t).$implicit;return u.oxw().isClicked1(a.id)}),u._uU(12,"Add To Card"),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.img,u.LSH),u.xp6(2),u.Oqu(t.title),u.xp6(2),u.hij("",t.discrption," ."),u.xp6(2),u.hij("",t.price," $"),u.xp6(2),u.MGl("id","btn1",t.id,"")}}let $U=(()=>{class n{constructor(t,r){this._OrdersService=t,this._ProductsService=r,this.products=[]}ngOnInit(){this._ProductsService.getallproduct().subscribe(t=>{this.products=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data())),this.Sports_Clouths=this.products.filter(r=>"Sports-Clouths"==r.title),this.Sports_Flags=this.products.filter(r=>"Sports-Flags"==r.title),this.Sports_shoe=this.products.filter(r=>"Sports-shoe"==r.title)})}isClicked1(t){let r=document.getElementById(`btn${t}`),i=document.getElementById(`btn1${t}`);r.innerHTML="Done",i.innerHTML="Done"}addTocart(t,r){let i=document.getElementById(`btn${r}`),a=document.getElementById(`btn1${r}`);"Add To Card"==i.innerHTML||"Add To Card"==a.innerHTML?this._OrdersService.addtocart(t):i.innerHTML="Done"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(g_),u.Y36(uI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-products"]],decls:56,vars:4,consts:[[1,"container"],["id","myTab","role","tablist",1,"nav","nav-tabs","mt-5"],["role","presentation",1,"nav-item"],["id","home-tab","data-bs-toggle","tab","data-bs-target","#home","type","button","role","tab","aria-controls","home","aria-selected","true",1,"nav-link","active","text-black"],["id","profile-tab","data-bs-toggle","tab","data-bs-target","#profile","type","button","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link","text-black"],["id","contact-tab","data-bs-toggle","tab","data-bs-target","#contact","type","button","role","tab","aria-controls","contact","aria-selected","false",1,"nav-link","text-black"],["id","Flags-tab","data-bs-toggle","tab","data-bs-target","#Flags","type","button","role","tab","aria-controls","contact","aria-selected","false",1,"nav-link","text-black"],["id","myTabContent",1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],["id","serv",1,"services","bg-light","text-center","bord"],[1,"row"],[1,"col-xl-12","d-flex","justify-content-center","align-items-center"],[1,"const-title"],[1,"pt-xl-4","mt-5","fs-3"],["class","col-xl-3 col-md-6 ",4,"ngFor","ngForOf"],["id","profile","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],[1,"fs-3","pt-xl-4","mt-5"],["id","contact","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","fade"],["id","Flags","role","tabpanel","aria-labelledby","Flags-tab",1,"tab-pane","fade"],[1,"col-xl-3","col-md-6"],[1,"card","my-xl-5"],[1,"icon","mt-sm-5","mt-xl-5","mb-xl-3"],["alt","",1,"rounded-2",3,"src"],[1,"s-title"],[1,"subtitle-a","px-xl-3","text-muted"],["routerLink","/products"],[1,"bttn","mb-3",3,"id","click"],[1,"s-title","mt-sm-3"]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"ul",1)(3,"li",2)(4,"button",3),u._uU(5,"All Product"),u.qZA()(),u.TgZ(6,"li",2)(7,"button",4),u._uU(8,"Sports-Clouths"),u.qZA()(),u.TgZ(9,"li",2)(10,"button",5),u._uU(11,"Sports-shoe"),u.qZA()(),u.TgZ(12,"li",2)(13,"button",6),u._uU(14,"Sports-Flags"),u.qZA()()(),u.TgZ(15,"div",7)(16,"div",8)(17,"div",9)(18,"div",0)(19,"div",10)(20,"div",11)(21,"div",12)(22,"h3",13),u._uU(23," All Products "),u.qZA()()()(),u.TgZ(24,"div",10),u.YNc(25,VU,13,5,"div",14),u.qZA()()()(),u.TgZ(26,"div",15)(27,"div",9)(28,"div",0)(29,"div",10)(30,"div",11)(31,"div",12)(32,"h3",16),u._uU(33," Sports-Clouths "),u.qZA()()()(),u.TgZ(34,"div",10),u.YNc(35,BU,13,5,"div",14),u.qZA()()()(),u.TgZ(36,"div",17)(37,"div",9)(38,"div",0)(39,"div",10)(40,"div",11)(41,"div",12)(42,"h3",16),u._uU(43," Sports-shoe"),u.qZA()()()(),u.TgZ(44,"div",10),u.YNc(45,jU,13,5,"div",14),u.qZA()()()(),u.TgZ(46,"div",18)(47,"div",9)(48,"div",0)(49,"div",10)(50,"div",11)(51,"div",12)(52,"h3",16),u._uU(53," Sports-Flags"),u.qZA()()()(),u.TgZ(54,"div",10),u.YNc(55,HU,13,5,"div",14),u.qZA()()()()()()),2&t&&(u.xp6(25),u.Q6J("ngForOf",r.products),u.xp6(10),u.Q6J("ngForOf",r.Sports_Clouths),u.xp6(10),u.Q6J("ngForOf",r.Sports_shoe),u.xp6(10),u.Q6J("ngForOf",r.Sports_Flags))},directives:[jp,On,Xa],styles:["header[_ngcontent-%COMP%]{height:70vh;background-image:url(header.698bffd1dd794f5e.jpg);background-position:center;background-repeat:no-repeat;background-size:cover}.grad[_ngcontent-%COMP%]{height:70vh;background-color:#0000005d}.bttn[_ngcontent-%COMP%]{background-color:transparent;border:2px solid white;border-radius:5px;padding:10px;transition:all .6s}.bttn[_ngcontent-%COMP%]:hover, footer[_ngcontent-%COMP%]   .bttn[_ngcontent-%COMP%]:hover{background-color:#0ff;color:#000!important;border:2px solid rgba(86,109,98,.938)}.bord[_ngcontent-%COMP%]{border-radius:4px;background-color:#fff}#serv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:100px}#serv[_ngcontent-%COMP%]   .bttn[_ngcontent-%COMP%], #serv3[_ngcontent-%COMP%]   .bttn[_ngcontent-%COMP%]{border:2px solid black;color:#000}.services[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;border:none;background-color:#fff;box-shadow:0 1px 1px #0000000f,0 2px 5px #0003;border-radius:16px}.services[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 1px 1px #0000000f,0 2px 5px #0003;border-radius:16px}.services[_ngcontent-%COMP%]   .s-title[_ngcontent-%COMP%]{font-size:1.4rem;text-align:center;padding:.4rem 0}.services[_ngcontent-%COMP%]   .subtitle-a[_ngcontent-%COMP%]{color:#4e4e4e;padding-bottom:20px}@media only screen and (max-width: 1000px){.services[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .services[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:30px}}"]}),n})();function kh(n){return null!=n&&"false"!=`${n}`}function Oh(n){return n instanceof u.SBq?n.nativeElement:n}let Ak=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Oh(t);return new Ur.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Lr.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ak))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zU=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=kh(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function qU(n,e=0){return function GU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(HR(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ZU),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),WU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ak]}),n})();const KU=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function YU(){return(0,u.f3M)(fe)}}),QU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hM,XU=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function JU(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?QU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(KU,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();try{hM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){hM=!1}let v_,$p=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Ar(n){return n===Qc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Rk(){if(v_)return v_;if("object"!=typeof document||!document)return v_=new Set(xk),v_;let n=document.createElement("input");return v_=new Set(xk.filter(e=>(n.setAttribute("type",e),n.type===e))),v_}let Yb,fM;function cI(n){return function eV(){if(null==Yb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Yb=!0}))}finally{Yb=Yb||!1}return Yb}()?n:!!n.capture}function Qb(n){return n.composedPath?n.composedPath()[0]:n.target}var cV=N(5032);function hI(n){return(0,lr.e)((e,t)=>{(0,Zs.Xf)(n).subscribe((0,An.x)(t,()=>t.complete(),cV.Z)),!t.closed&&e.subscribe(t)})}function Pk(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Fk(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const yV=new u.OlP("cdk-input-modality-detector-options"),vV={ignoreKeys:[18,17,224,91,16]},b_=cI({passive:!0,capture:!0});let bV=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new xn(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(E=>E===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Qb(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Pk(d)?"keyboard":"mouse"),this._mostRecentTarget=Qb(d))},this._onTouchstart=d=>{Fk(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qb(d))},this._options=Object.assign(Object.assign({},vV),a),this.modalityDetected=this._modality.pipe(function uV(n){return Er((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Uy()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,b_),i.addEventListener("mousedown",this._onMousedown,b_),i.addEventListener("touchstart",this._onTouchstart,b_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,b_),document.removeEventListener("mousedown",this._onMousedown,b_),document.removeEventListener("touchstart",this._onTouchstart,b_))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($p),u.LFG(u.R0b),u.LFG(fe),u.LFG(yV,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wV=new u.OlP("cdk-focus-monitor-default-options"),fI=cI({passive:!0,capture:!0});let CV=(()=>{class n{constructor(t,r,i,a,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Lr.x,this._rootNodeFocusAndBlurListener=f=>{const _=Qb(f),E="focus"===f.type?this._onFocus:this._onBlur;for(let D=_;D;D=D.parentElement)E.call(this,f,D)},this._document=a,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,r=!1){const i=Oh(t);if(!this._platform.isBrowser||1!==i.nodeType)return nt(null);const a=function nV(n){if(function tV(){if(null==fM){const n="undefined"!=typeof document?document.head:null;fM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return fM}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new Lr.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=Oh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Oh(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Qb(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,fI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,fI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hI(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG($p),u.LFG(bV),u.LFG(fe,8),u.LFG(wV,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uk="cdk-high-contrast-black-on-white",Vk="cdk-high-contrast-white-on-black",pM="cdk-high-contrast-active";let IV=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(pM),t.remove(Uk),t.remove(Vk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(pM),t.add(Uk)):2===r&&(t.add(pM),t.add(Vk))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($p),u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bk{}const Hc="*";function DV(n,e){return{type:7,name:n,definitions:e,options:{}}}function AV(n,e=null){return{type:4,styles:e,timings:n}}function jk(n,e=null){return{type:2,steps:n,options:e}}function pI(n){return{type:6,styles:n,offset:null}}function SV(n,e,t){return{type:0,name:n,styles:e,options:t}}function MV(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Hk(n){Promise.resolve(null).then(n)}class Jb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $k{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Hk(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const cn=!1;function qk(n){return new u.vHH(3e3,cn)}function uB(){return"undefined"!=typeof window&&void 0!==window.document}function mM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Nh(n){switch(n.length){case 0:return new Jb;case 1:return n[0];default:return new $k(n)}}function Gk(n,e,t,r,i={},a={}){const d=[],f=[];let _=-1,E=null;if(r.forEach(D=>{const M=D.offset,L=M==_,B=L&&E||{};Object.keys(D).forEach(G=>{let he=G,ke=D[G];if("offset"!==G)switch(he=e.normalizePropertyName(he,d),ke){case"!":ke=i[G];break;case Hc:ke=a[G];break;default:ke=e.normalizeStyleValue(G,he,ke,d)}B[he]=ke}),L||f.push(B),E=B,_=M}),d.length)throw function JV(n){return new u.vHH(3502,cn)}();return f}function _M(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yM(t,"destroy",n)))}}function yM(n,e,t){const r=t.totalTime,a=vM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function vM(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function Ho(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Zk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let bM=(n,e)=>!1,zk=(n,e,t)=>[],Wk=null;function EM(n){const e=n.parentNode||n.host;return e===Wk?null:e}(mM()||"undefined"!=typeof Element)&&(uB()?(Wk=(()=>document.documentElement)(),bM=(n,e)=>{for(;e;){if(e===n)return!0;e=EM(e)}return!1}):bM=(n,e)=>n.contains(e),zk=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Gp=null,Kk=!1;function Yk(n){Gp||(Gp=function dB(){return"undefined"!=typeof document?document.body:null}()||{},Kk=!!Gp.style&&"WebkitAppearance"in Gp.style);let e=!0;return Gp.style&&!function cB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gp.style,!e&&Kk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Gp.style)),e}const Qk=bM,Jk=zk;let Xk=(()=>{class n{validateStyleProperty(t){return Yk(t)}matchesElement(t,r){return!1}containsElement(t,r){return Qk(t,r)}getParentElement(t){return EM(t)}query(t,r,i){return Jk(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,f=[],_){return new Jb(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wM=(()=>{class n{}return n.NOOP=new Xk,n})();const CM="ng-enter",mI="ng-leave",_I="ng-trigger",yI=".ng-trigger",tO="ng-animating",IM=".ng-animating";function Zp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TM(parseFloat(e[1]),e[2])}function TM(n,e){return"s"===e?1e3*n:n}function vI(n,e,t){return n.hasOwnProperty("duration")?n:function pB(n,e,t){let i,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(qk()),{duration:0,delay:0,easing:""};i=TM(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=TM(parseFloat(_),f[4]));const E=f[5];E&&(d=E)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function xV(){return new u.vHH(3100,cn)}()),f=!0),a<0&&(e.push(function RV(){return new u.vHH(3101,cn)}()),f=!0),f&&e.splice(_,0,qk())}return{duration:i,delay:a,easing:d}}(n,e,t)}function E_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ph(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else E_(n,t);return t}function rO(n,e,t){return t?e+":"+t+";":""}function iO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=rO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=rO(0,_B(t),n.style[t]));n.setAttribute("style",e)}function Su(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=AM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),mM()&&iO(n))}function zp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=AM(t);n.style[r]=""}),mM()&&iO(n))}function Xb(n){return Array.isArray(n)?1==n.length?n[0]:jk(n):n}const DM=new RegExp("{{\\s*(.+?)\\s*}}","g");function sO(n){let e=[];if("string"==typeof n){let t;for(;t=DM.exec(n);)e.push(t[1]);DM.lastIndex=0}return e}function bI(n,e,t){const r=n.toString(),i=r.replace(DM,(a,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function OV(n){return new u.vHH(3003,cn)}()),f=""),f.toString()});return i==r?n:i}function EI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const mB=/-+([a-z0-9])/g;function AM(n){return n.replace(mB,(...e)=>e[1].toUpperCase())}function _B(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $o(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function NV(n){return new u.vHH(3004,cn)}()}}function oO(n,e){return window.getComputedStyle(n)[e]}function CB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function IB(n,e,t){if(":"==n[0]){const _=function TB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function WV(n){return new u.vHH(3016,cn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function zV(n){return new u.vHH(3015,cn)}()),e;const i=r[1],a=r[2],d=r[3];e.push(aO(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(aO(d,i))}(r,t,e)):t.push(n),t}const TI=new Set(["true","1"]),DI=new Set(["false","0"]);function aO(n,e){const t=TI.has(n)||DI.has(n),r=TI.has(e)||DI.has(e);return(i,a)=>{let d="*"==n||n==i,f="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?TI.has(n):DI.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?TI.has(e):DI.has(e)),d&&f}}const DB=new RegExp("s*:selfs*,?","g");function SM(n,e,t,r){return new AB(n).build(e,t,r)}class AB{constructor(e){this._driver=e}build(e,t,r){const i=new xB(t);this._resetContextStyleTimingState(i);const a=$o(this,Xb(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function FV(){return new u.vHH(3006,cn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,E=_.name;E.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=E}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,d.push(_)}else t.errors.push(function LV(){return new u.vHH(3007,cn)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(f=>{if(AI(f)){const _=f;Object.keys(_).forEach(E=>{sO(_[E]).forEach(D=>{d.hasOwnProperty(D)||a.add(D)})})}}),a.size&&(EI(a.values()),t.errors.push(function UV(n,e){return new u.vHH(3008,cn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$o(this,Xb(e.animation),t);return{type:1,matchers:CB(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Wp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$o(this,r,t)),options:Wp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const f=$o(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Wp(e.options)}}visitAnimate(e,t){const r=function kB(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MM(vI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=MM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=vI(t,e);return MM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:pI({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,f=!1;if(!d){f=!0;const E={};r.easing&&(E.easing=r.easing),d=pI(E)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Hc?r.push(d):t.errors.push(function VV(n){return new u.vHH(3002,cn)}()):r.push(d)}):r.push(e.styles);let i=!1,a=null;return r.forEach(d=>{if(AI(d)){const f=d,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let E in f)if(f[E].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],E=_[f];let D=!0;E&&(a!=i&&a>=E.startTime&&i<=E.endTime&&(t.errors.push(function BV(n,e,t,r,i){return new u.vHH(3010,cn)}()),D=!1),a=E.startTime),D&&(_[f]={startTime:a,endTime:i}),t.options&&function gB(n,e,t){const r=e.params||{},i=sO(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function kV(n){return new u.vHH(3001,cn)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function jV(){return new u.vHH(3011,cn)}()),r;let a=0;const d=[];let f=!1,_=!1,E=0;const D=e.steps.map(ct=>{const ht=this._makeStyleAst(ct,t);let lt=null!=ht.offset?ht.offset:function RB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(AI(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(AI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ht.styles),et=0;return null!=lt&&(a++,et=ht.offset=lt),_=_||et<0||et>1,f=f||et<E,E=et,d.push(et),ht});_&&t.errors.push(function HV(){return new u.vHH(3012,cn)}()),f&&t.errors.push(function $V(){return new u.vHH(3200,cn)}());const M=e.steps.length;let L=0;a>0&&a<M?t.errors.push(function qV(){return new u.vHH(3202,cn)}()):0==a&&(L=1/(M-1));const B=M-1,G=t.currentTime,he=t.currentAnimateTimings,ke=he.duration;return D.forEach((ct,ht)=>{const lt=L>0?ht==B?1:L*ht:d[ht],et=lt*ke;t.currentTime=G+he.delay+et,he.duration=et,this._validateStyleAst(ct,t),ct.offset=lt,r.styles.push(ct)}),r}visitReference(e,t){return{type:8,animation:$o(this,Xb(e.animation),t),options:Wp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function SB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(DB,"")),n=n.replace(/@\*/g,yI).replace(/@\w+/g,t=>yI+"-"+t.substr(1)).replace(/:animating/g,IM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Ho(t.collectedStyles,t.currentQuerySelector,{});const f=$o(this,Xb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:Wp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function GV(){return new u.vHH(3013,cn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:vI(e.timings,t.errors,!0);return{type:12,animation:$o(this,Xb(e.animation),t),timings:r,options:null}}}class xB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function AI(n){return!Array.isArray(n)&&"object"==typeof n}function Wp(n){return n?(n=E_(n)).params&&(n.params=function MB(n){return n?E_(n):null}(n.params)):n={},n}function MM(n,e,t){return{duration:n,delay:e,easing:t}}function xM(n,e,t,r,i,a,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:f}}class SI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const PB=new RegExp(":enter","g"),LB=new RegExp(":leave","g");function RM(n,e,t,r,i,a={},d={},f,_,E=[]){return(new UB).buildKeyframes(n,e,t,r,i,a,d,f,_,E)}class UB{buildKeyframes(e,t,r,i,a,d,f,_,E,D=[]){E=E||new SI;const M=new kM(e,t,E,i,a,D,[]);M.options=_,M.currentTimeline.setStyles([d],null,M.errors,_),$o(this,r,M);const L=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let G=L.length-1;G>=0;G--){const he=L[G];if(he.element===t){B=he;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,M.errors,_)}return L.length?L.map(B=>B.buildKeyframes()):[xM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?Zp(r.duration):null,f=null!=r.delay?Zp(r.delay):null;return 0!==d&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,d,f);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),$o(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=MI);const d=Zp(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>$o(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Zp(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),$o(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return vI(t.params?bI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Zp(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=MI);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((E,D)=>{t.currentQueryIndex=D;const M=t.createSubContext(e.options,E);a&&M.delayNextStep(a),E===t.element&&(_=M.currentTimeline),$o(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const M=D.currentTime;$o(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const MI={};class kM{constructor(e,t,r,i,a,d,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new xI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Zp(r.duration)),null!=r.delay&&(i.delay=Zp(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=bI(a[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new kM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=MI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new VB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(PB,"."+this._enterClassName)).replace(LB,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),f.push(...E)}return!a&&0==f.length&&d.push(function ZV(n){return new u.vHH(3014,cn)}()),f}}class xI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Hc,this._currentKeyframe[t]=Hc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},d=function BB(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Hc})):Ph(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=bI(d[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Hc),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const E=Ph(f,!0);Object.keys(E).forEach(D=>{const M=E[D];"!"==M?e.add(D):M==Hc&&t.add(D)}),r||(E.offset=_/this.duration),i.push(E)});const a=e.size?EI(e.values()):[],d=t.size?EI(t.values()):[];if(r){const f=i[0],_=E_(f);f.offset=0,_.offset=1,i=[f,_]}return xM(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class VB extends xI{constructor(e,t,r,i,a,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,f=t/d,_=Ph(e[0],!1);_.offset=0,a.push(_);const E=Ph(e[0],!1);E.offset=cO(f),a.push(E);const D=e.length-1;for(let M=1;M<=D;M++){let L=Ph(e[M],!1);L.offset=cO((t+L.offset*r)/d),a.push(L)}r=d,t=0,i="",e=a}return xM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function cO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class OM{}class jB extends OM{normalizePropertyName(e,t){return AM(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(HB[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function PV(n,e){return new u.vHH(3005,cn)}())}return d+a}}const HB=(()=>function $B(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dO(n,e,t,r,i,a,d,f,_,E,D,M,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:E,postStyleProps:D,totalTime:M,errors:L}}const NM={};class hO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function qB(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):d}build(e,t,r,i,a,d,f,_,E,D){const M=[],L=this.ast.options&&this.ast.options.params||NM,G=this.buildStyles(r,f&&f.params||NM,M),he=_&&_.params||NM,ke=this.buildStyles(i,he,M),ct=new Set,ht=new Map,lt=new Map,et="void"===i,Rt={params:Object.assign(Object.assign({},L),he)},Ft=D?[]:RM(e,t,this.ast.animation,a,d,G,ke,Rt,E,M);let dn=0;if(Ft.forEach(qo=>{dn=Math.max(qo.duration+qo.delay,dn)}),M.length)return dO(t,this._triggerName,r,i,et,G,ke,[],[],ht,lt,dn,M);Ft.forEach(qo=>{const $c=qo.element,oN=Ho(ht,$c,{});qo.preStyleProps.forEach(Qp=>oN[Qp]=!0);const o0=Ho(lt,$c,{});qo.postStyleProps.forEach(Qp=>o0[Qp]=!0),$c!==t&&ct.add($c)});const $r=EI(ct.values());return dO(t,this._triggerName,r,i,et,G,ke,Ft,$r,ht,lt,dn)}}class GB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=E_(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(i[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=bI(_,i,t));const E=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,E,_,t),r[E]=_})}}),r}}class zB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new GB(i.style,i.options&&i.options.params||{},r)}),fO(this.states,"true","1"),fO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new hO(e,i,this.states))}),this.fallbackTransition=function WB(n,e,t){return new hO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function fO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const KB=new SI;class YB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=SM(this._driver,t,r,[]);if(r.length)throw function XV(n){return new u.vHH(3503,cn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=Gk(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let d;const f=new Map;if(a?(d=RM(this._driver,t,a,CM,mI,{},{},r,KB,i),d.forEach(D=>{const M=Ho(f,D.element,{});D.postStyleProps.forEach(L=>M[L]=null)})):(i.push(function eB(){return new u.vHH(3300,cn)}()),d=[]),i.length)throw function tB(n){return new u.vHH(3504,cn)}();f.forEach((D,M)=>{Object.keys(D).forEach(L=>{D[L]=this._driver.computeStyle(M,L,Hc)})});const E=Nh(d.map(D=>{const M=f.get(D.element);return this._buildPlayer(D,{},M)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function nB(n){return new u.vHH(3301,cn)}();return t}listen(e,t,r,i){const a=vM(t,"","","");return _M(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const pO="ng-animate-queued",PM="ng-animate-disabled",tj=[],gO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ia="__ng_removed";class FM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function oj(n){return null!=n?n:null}(r?e.value:e),r){const a=E_(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const e0="void",LM=new FM(e0);class rj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ta(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function rB(n,e){return new u.vHH(3302,cn)}();if(null==r||0==r.length)throw function iB(n){return new u.vHH(3303,cn)}();if(!function aj(n){return"start"==n||"done"==n}(r))throw function sB(n,e){return new u.vHH(3400,cn)}();const a=Ho(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const f=Ho(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ta(e,_I),Ta(e,_I+"-"+t),f[t]=LM),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(d);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function oB(n){return new u.vHH(3401,cn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new UM(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ta(e,_I),Ta(e,_I+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const E=new FM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),f[t]=E,_||(_=LM),E.value!==e0&&_.value===E.value){if(!function cj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,E.params)){const he=[],ke=a.matchStyles(_.value,_.params,he),ct=a.matchStyles(E.value,E.params,he);he.length?this._engine.reportError(he):this._engine.afterFlush(()=>{zp(e,ke),Su(e,ct)})}return}const L=Ho(this._engine.playersByElement,e,[]);L.forEach(he=>{he.namespaceId==this.id&&he.triggerName==t&&he.queued&&he.destroy()});let B=a.matchTransition(_.value,E.value,e,E.params),G=!1;if(!B){if(!i)return;B=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:E,player:d,isFallbackTransition:G}),G||(Ta(e,pO),d.onStart(()=>{w_(e,pO)})),d.onDone(()=>{let he=this.players.indexOf(d);he>=0&&this.players.splice(he,1);const ke=this._engine.playersByElement.get(e);if(ke){let ct=ke.indexOf(d);ct>=0&&ke.splice(ct,1)}}),this.players.push(d),L.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yI,!0);r.forEach(i=>{if(i[Ia])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(d.set(_,a[_].value),this._triggers[_]){const E=this.trigger(e,_,e0,i);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Nh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const _=this._triggers[d].fallbackTransition,E=r[d]||LM,D=new FM(e0),M=new UM(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:E,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ia];(!a||a===gO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ta(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=vM(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,_M(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ij{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new rj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const E=r.indexOf(_);r.splice(E+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const d=r[i[a]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(RI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!RI(t))return;const a=t[Ia];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ta(e,PM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),w_(e,PM))}removeNode(e,t,r,i){if(RI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ia]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return RI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,yI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,IM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ia];if(r&&r.setForRemoval){if(e[Ia]=gO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(PM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ta(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Nh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function aB(n){return new u.vHH(3402,cn)}()}_flushAnimations(e,t){const r=new SI,i=[],a=new Map,d=[],f=new Map,_=new Map,E=new Map,D=new Set;this.disabledNodes.forEach(_t=>{D.add(_t);const Mt=this.driver.query(_t,".ng-animate-queued",!0);for(let Vt=0;Vt<Mt.length;Vt++)D.add(Mt[Vt])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=yO(L,this.collectedEnterElements),G=new Map;let he=0;B.forEach((_t,Mt)=>{const Vt=CM+he++;G.set(Mt,Vt),_t.forEach(wn=>Ta(wn,Vt))});const ke=[],ct=new Set,ht=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Mt=this.collectedLeaveElements[_t],Vt=Mt[Ia];Vt&&Vt.setForRemoval&&(ke.push(Mt),ct.add(Mt),Vt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(wn=>ct.add(wn)):ht.add(Mt))}const lt=new Map,et=yO(L,Array.from(ct));et.forEach((_t,Mt)=>{const Vt=mI+he++;lt.set(Mt,Vt),_t.forEach(wn=>Ta(wn,Vt))}),e.push(()=>{B.forEach((_t,Mt)=>{const Vt=G.get(Mt);_t.forEach(wn=>w_(wn,Vt))}),et.forEach((_t,Mt)=>{const Vt=lt.get(Mt);_t.forEach(wn=>w_(wn,Vt))}),ke.forEach(_t=>{this.processLeaveNode(_t)})});const Rt=[],Ft=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(Vt=>{const wn=Vt.player,Li=Vt.element;if(Rt.push(wn),this.collectedEnterElements.length){const Ns=Li[Ia];if(Ns&&Ns.setForMove){if(Ns.previousTriggersValues&&Ns.previousTriggersValues.has(Vt.triggerName)){const Jp=Ns.previousTriggersValues.get(Vt.triggerName),Vh=this.statesByElement.get(Vt.element);Vh&&Vh[Vt.triggerName]&&(Vh[Vt.triggerName].value=Jp)}return void wn.destroy()}}const Mu=!M||!this.driver.containsElement(M,Li),Go=lt.get(Li),Uh=G.get(Li),Dr=this._buildInstruction(Vt,r,Uh,Go,Mu);if(Dr.errors&&Dr.errors.length)return void Ft.push(Dr);if(Mu)return wn.onStart(()=>zp(Li,Dr.fromStyles)),wn.onDestroy(()=>Su(Li,Dr.toStyles)),void i.push(wn);if(Vt.isFallbackTransition)return wn.onStart(()=>zp(Li,Dr.fromStyles)),wn.onDestroy(()=>Su(Li,Dr.toStyles)),void i.push(wn);const uN=[];Dr.timelines.forEach(Ns=>{Ns.stretchStartingKeyframe=!0,this.disabledNodes.has(Ns.element)||uN.push(Ns)}),Dr.timelines=uN,r.append(Li,Dr.timelines),d.push({instruction:Dr,player:wn,element:Li}),Dr.queriedElements.forEach(Ns=>Ho(f,Ns,[]).push(wn)),Dr.preStyleProps.forEach((Ns,Jp)=>{const Vh=Object.keys(Ns);if(Vh.length){let Xp=_.get(Jp);Xp||_.set(Jp,Xp=new Set),Vh.forEach(YM=>Xp.add(YM))}}),Dr.postStyleProps.forEach((Ns,Jp)=>{const Vh=Object.keys(Ns);let Xp=E.get(Jp);Xp||E.set(Jp,Xp=new Set),Vh.forEach(YM=>Xp.add(YM))})});if(Ft.length){const _t=[];Ft.forEach(Mt=>{_t.push(function lB(n,e){return new u.vHH(3505,cn)}())}),Rt.forEach(Mt=>Mt.destroy()),this.reportError(_t)}const dn=new Map,$r=new Map;d.forEach(_t=>{const Mt=_t.element;r.has(Mt)&&($r.set(Mt,Mt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,dn))}),i.forEach(_t=>{const Mt=_t.element;this._getPreviousPlayers(Mt,!1,_t.namespaceId,_t.triggerName,null).forEach(wn=>{Ho(dn,Mt,[]).push(wn),wn.destroy()})});const qo=ke.filter(_t=>bO(_t,_,E)),$c=new Map;_O($c,this.driver,ht,E,Hc).forEach(_t=>{bO(_t,_,E)&&qo.push(_t)});const o0=new Map;B.forEach((_t,Mt)=>{_O(o0,this.driver,new Set(_t),_,"!")}),qo.forEach(_t=>{const Mt=$c.get(_t),Vt=o0.get(_t);$c.set(_t,Object.assign(Object.assign({},Mt),Vt))});const Qp=[],aN=[],lN={};d.forEach(_t=>{const{element:Mt,player:Vt,instruction:wn}=_t;if(r.has(Mt)){if(D.has(Mt))return Vt.onDestroy(()=>Su(Mt,wn.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(wn.totalTime),void i.push(Vt);let Li=lN;if($r.size>1){let Go=Mt;const Uh=[];for(;Go=Go.parentNode;){const Dr=$r.get(Go);if(Dr){Li=Dr;break}Uh.push(Go)}Uh.forEach(Dr=>$r.set(Dr,Li))}const Mu=this._buildAnimation(Vt.namespaceId,wn,dn,a,o0,$c);if(Vt.setRealPlayer(Mu),Li===lN)Qp.push(Vt);else{const Go=this.playersByElement.get(Li);Go&&Go.length&&(Vt.parentPlayer=Nh(Go)),i.push(Vt)}}else zp(Mt,wn.fromStyles),Vt.onDestroy(()=>Su(Mt,wn.toStyles)),aN.push(Vt),D.has(Mt)&&i.push(Vt)}),aN.forEach(_t=>{const Mt=a.get(_t.element);if(Mt&&Mt.length){const Vt=Nh(Mt);_t.setRealPlayer(Vt)}}),i.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<ke.length;_t++){const Mt=ke[_t],Vt=Mt[Ia];if(w_(Mt,mI),Vt&&Vt.hasAnimation)continue;let wn=[];if(f.size){let Mu=f.get(Mt);Mu&&Mu.length&&wn.push(...Mu);let Go=this.driver.query(Mt,IM,!0);for(let Uh=0;Uh<Go.length;Uh++){let Dr=f.get(Go[Uh]);Dr&&Dr.length&&wn.push(...Dr)}}const Li=wn.filter(Mu=>!Mu.destroyed);Li.length?lj(this,Mt,Li):this.processLeaveNode(Mt)}return ke.length=0,Qp.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Mt=this.players.indexOf(_t);this.players.splice(Mt,1)}),_t.play()}),Qp}elementContainsData(e,t){let r=!1;const i=t[Ia];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==e0;f.forEach(E=>{E.queued||!_&&E.triggerName!=i||d.push(E)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,D=E!==a,M=Ho(r,E,[]);this._getPreviousPlayers(E,D,d,f,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}zp(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const f=t.triggerName,_=t.element,E=[],D=new Set,M=new Set,L=t.timelines.map(G=>{const he=G.element;D.add(he);const ke=he[Ia];if(ke&&ke.removedBeforeQueried)return new Jb(G.duration,G.delay);const ct=he!==_,ht=function uj(n){const e=[];return vO(n,e),e}((r.get(he)||tj).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===he),lt=a.get(he),et=d.get(he),Rt=Gk(0,this._normalizer,0,G.keyframes,lt,et),Ft=this._buildPlayer(G,Rt,ht);if(G.subTimeline&&i&&M.add(he),ct){const dn=new UM(e,f,he);dn.setRealPlayer(Ft),E.push(dn)}return Ft});E.forEach(G=>{Ho(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function sj(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),D.forEach(G=>Ta(G,tO));const B=Nh(L);return B.onDestroy(()=>{D.forEach(G=>w_(G,tO)),Su(_,t.toStyles)}),M.forEach(G=>{Ho(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Jb(e.duration,e.delay)}}class UM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Jb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>_M(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ho(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function RI(n){return n&&1===n.nodeType}function mO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function _O(n,e,t,r,i){const a=[];t.forEach(_=>a.push(mO(_)));const d=[];r.forEach((_,E)=>{const D={};_.forEach(M=>{const L=D[M]=e.computeStyle(E,M,i);(!L||0==L.length)&&(E[Ia]=nj,d.push(E))}),n.set(E,D)});let f=0;return t.forEach(_=>mO(_,a[f++])),d}function yO(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(f){if(!f)return 1;let _=a.get(f);if(_)return _;const E=f.parentNode;return _=t.has(E)?E:i.has(E)?1:d(E),a.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function Ta(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function w_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function lj(n,e,t){Nh(t).onDone(()=>n.processLeaveNode(e))}function vO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof $k?vO(r.players,e):e.push(r)}}function bO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class kI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new ij(e,t,r),this._timelineEngine=new YB(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const _=[],D=SM(this._driver,a,_,[]);if(_.length)throw function QV(n,e){return new u.vHH(3404,cn)}();f=function ZB(n,e,t){return new zB(n,e,t)}(i,D,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=Zk(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,f]=Zk(r);return this._timelineEngine.listen(d,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hj=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Su(this._element,this._initialStyles),this._endStyles&&(Su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zp(this._element,this._endStyles),this._endStyles=null),Su(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];fj(i)&&(e=e||{},e[i]=n[i])}return e}function fj(n){return"display"===n||"position"===n}class EO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:oO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class pj{validateStyleProperty(e){return Yk(e)}matchesElement(e,t){return!1}containsElement(e,t){return Qk(e,t)}getParentElement(e){return EM(e)}query(e,t,r){return Jk(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const E={},D=d.filter(L=>L instanceof EO);(function yB(n,e){return 0===n||0===e})(r,i)&&D.forEach(L=>{let B=L.currentSnapshot;Object.keys(B).forEach(G=>E[G]=B[G])}),t=function vB(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],d=[];if(r.forEach(f=>{a.hasOwnProperty(f)||d.push(f),a[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(_){f[_]=oO(n,_)})}}return e}(e,t=t.map(L=>Ph(L,!1)),E);const M=function dj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=VM(e[0]),e.length>1&&(r=VM(e[e.length-1]))):e&&(t=VM(e)),t||r?new hj(n,t,r):null}(e,t);return new EO(e,t,_,M)}}let gj=(()=>{class n extends Bk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?jk(t):t;return wO(this._renderer,null,r,"register",[i]),new mj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class mj extends class TV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _j(this._id,e,t||{},this._renderer)}}class _j{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function wO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const CO="@.disabled";let yj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const f=null==d?void 0:d.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new IO("",a,this.engine),this._rendererCache.set(a,D)),D}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(d,f,t,D.name,D)};return r.data.animation.forEach(_),new vj(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(kI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class IO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==CO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class vj extends IO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function bj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function Ej(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let wj=(()=>{class n extends kI{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(wM),u.LFG(OM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const t0=new u.OlP("AnimationModuleType"),TO=[{provide:Bk,useClass:gj},{provide:OM,useFactory:function Cj(){return new jB}},{provide:kI,useClass:wj},{provide:u.FYo,useFactory:function Ij(n,e,t){return new yj(n,e,t)},deps:[Ln,kI,u.R0b]}],DO=[{provide:wM,useFactory:()=>new pj},{provide:t0,useValue:"BrowserAnimations"},...TO],Tj=[{provide:wM,useClass:Xk},{provide:t0,useValue:"NoopAnimations"},...TO];let Dj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Tj:DO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:DO,imports:[Ml]}),n})();const Sj=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Aj(){return!0}});let El=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function rV(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(IV),u.LFG(Sj,8),u.LFG(fe))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Sk],Sk]}),n})();function Mj(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=kh(e)}}}function BM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function xj(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=kh(e)}}}function Rj(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Lr.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let SO=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Oj{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const MO={enterDuration:225,exitDuration:150},jM=cI({passive:!0}),xO=["mousedown","touchstart"],RO=["mouseup","mouseleave","touchend","touchcancel"];class Pj{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Oh(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},MO),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function Lj(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,E=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-d+"px",D.style.top=_-d+"px",D.style.height=2*d+"px",D.style.width=2*d+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(D),function Fj(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const M=new Oj(this,D,r);return M.state=0,this._activeRipples.add(M),r.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const L=M===this._mostRecentTransientRipple;M.state=1,!r.persistent&&(!L||!this._isPointerDown)&&M.fadeOut()},E),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},MO),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Oh(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(xO))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(RO),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Pk(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Fk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,jM)})})}_removeTriggerEvents(){this._triggerElement&&(xO.forEach(e=>{this._triggerElement.removeEventListener(e,this,jM)}),this._pointerUpEventsRegistered&&RO.forEach(e=>{this._triggerElement.removeEventListener(e,this,jM)}))}}const Uj=new u.OlP("mat-ripple-global-options");let kO=(()=>{class n{constructor(t,r,i,a,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Pj(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36($p),u.Y36(Uj,8),u.Y36(t0,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[El],El]}),n})();var Bj=N(1144);const jj=["addListener","removeListener"],Hj=["addEventListener","removeEventListener"],$j=["on","off"];function HM(n,e,t,r){if((0,ci.m)(t)&&(r=t,t=void 0),r)return HM(n,e,t).pipe(Ol(r));const[i,a]=function Zj(n){return(0,ci.m)(n.addEventListener)&&(0,ci.m)(n.removeEventListener)}(n)?Hj.map(d=>f=>n[d](e,f,t)):function qj(n){return(0,ci.m)(n.addListener)&&(0,ci.m)(n.removeListener)}(n)?jj.map(OO(n,e)):function Gj(n){return(0,ci.m)(n.on)&&(0,ci.m)(n.off)}(n)?$j.map(OO(n,e)):[];if(!i&&(0,Bj.z)(n))return(0,Un.z)(d=>HM(d,e,t))((0,Zs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Ur.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function OO(n,e){return t=>r=>n[t](e,r)}const zj=["connectionContainer"],Wj=["inputContainer"],Kj=["label"];function Yj(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function Qj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.Hsn(1,1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function Jj(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function Xj(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function eH(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function tH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.YNc(2,Jj,4,1,"ng-container",12),u.YNc(3,Xj,1,0,"ng-content",12),u.YNc(4,eH,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function nH(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function rH(n,e){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function iH(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function sH(n,e){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function oH(n,e){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,sH,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const aH=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lH=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let uH=0;const NO=new u.OlP("MatError");let PO=(()=>{class n{constructor(t,r){this.id="mat-error-"+uH++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("aria-live"),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("id",r.id)},inputs:{id:"id"},features:[u._Bn([{provide:NO,useExisting:n}])]}),n})();const cH={transitionMessages:DV("transitionMessages",[SV("enter",pI({opacity:1,transform:"translateY(0%)"})),MV("void => enter",[pI({opacity:0,transform:"translateY(-5px)"}),AV("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const dH=new u.OlP("MatHint");let NI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),hH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const fH=new u.OlP("MatPrefix"),FO=new u.OlP("MatSuffix");let LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matSuffix",""]],features:[u._Bn([{provide:FO,useExisting:n}])]}),n})(),UO=0;const gH=BM(class{constructor(n){this._elementRef=n}},"primary"),mH=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),BO=new u.OlP("MatFormField");let jO=(()=>{class n extends gH{constructor(t,r,i,a,d,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=d,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Lr.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+UO++,this._labelId="mat-form-field-label-"+UO++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=kh(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(di(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(hI(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hI(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,X1.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(di(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(di(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(hI(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,HM(this._label.nativeElement,"transitionend").pipe((0,is.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const D=r.querySelectorAll(`${i}, ${a}`);for(let M=0;M<D.length;M++)D[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,f=0;const _=r.querySelectorAll(i),E=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const D=r.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(D),L=t.children,B=this._getStartEnd(L[0].getBoundingClientRect());let G=0;for(let he=0;he<L.length;he++)G+=L[he].offsetWidth;d=Math.abs(B-M)-5,f=G>0?.75*G+10:0}for(let D=0;D<_.length;D++)_[D].style.width=`${d}px`;for(let D=0;D<E.length;D++)E[D].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(XU,8),u.Y36(mH,8),u.Y36($p),u.Y36(u.R0b),u.Y36(t0,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,$M,5),u.Suo(i,$M,7),u.Suo(i,NI,5),u.Suo(i,NI,7),u.Suo(i,hH,5),u.Suo(i,NO,5),u.Suo(i,dH,5),u.Suo(i,fH,5),u.Suo(i,FO,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._controlNonStatic=a.first),u.iGM(a=u.CRH())&&(r._controlStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(r._placeholderChild=a.first),u.iGM(a=u.CRH())&&(r._errorChildren=a),u.iGM(a=u.CRH())&&(r._hintChildren=a),u.iGM(a=u.CRH())&&(r._prefixChildren=a),u.iGM(a=u.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(zj,7),u.Gf(Wj,5),u.Gf(Kj,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._connectionContainerRef=i.first),u.iGM(i=u.CRH())&&(r._inputContainerRef=i.first),u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:BO,useExisting:n}]),u.qOj],ngContentSelectors:lH,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(u.F$t(aH),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),u.YNc(3,Yj,9,0,"ng-container",3),u.YNc(4,Qj,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,tH,5,16,"label",8),u.qZA()(),u.YNc(10,nH,2,0,"div",9),u.qZA(),u.YNc(11,rH,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,iH,2,1,"div",12),u.YNc(14,oH,5,2,"div",13),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[or,zU,Ai,ai],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[cH.transitionMessages]},changeDetection:0}),n})(),qM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vs,El,WU],El]}),n})();const HO=cI({passive:!0});let _H=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return zs.E;const r=Oh(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new Lr.x,d="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,HO),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,HO)}}),a}stopMonitoring(t){const r=Oh(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($p),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const yH=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),vH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bH=0;const EH=Rj(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let qO=(()=>{class n extends EH{constructor(t,r,i,a,d,f,_,E,D,M){super(f,a,d,i),this._elementRef=t,this._platform=r,this._autofillMonitor=E,this._formField=M,this._uid="mat-input-"+bH++,this.focused=!1,this.stateChanges=new Lr.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>Rk().has(G)),this._iOSKeyupListener=G=>{const he=G.target;!he.value&&0===he.selectionStart&&0===he.selectionEnd&&(he.setSelectionRange(1,1),he.setSelectionRange(0,0))};const L=this._elementRef.nativeElement,B=L.nodeName.toLowerCase();this._inputValueAccessor=_||L,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=kh(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(pi.required))&&void 0!==a&&a}set required(t){this._required=kh(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Rk().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=kh(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){vH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36($p),u.Y36(Oo,10),u.Y36(yy,8),u.Y36(Ql,8),u.Y36(SO),u.Y36(yH,10),u.Y36(_H),u.Y36(u.R0b),u.Y36(BO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:$M,useExisting:n}]),u.qOj,u.TTD]}),n})(),wH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[SO],imports:[[$O,qM,El],$O,qM]}),n})();const CH=["mat-button",""],IH=["*"],DH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],AH=BM(Mj(xj(class{constructor(n){this._elementRef=n}})));let GO=(()=>{class n extends AH{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of DH)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(CV),u.Y36(t0,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf(kO,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:CH,ngContentSelectors:IH,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[kO],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Vj,El],El]}),n})();class MH{}class Fh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Fh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Fh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Fh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class xH{encodeKey(e){return ZO(e)}encodeValue(e){return ZO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const kH=/%(\d[a-f0-9])/gi,OH={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ZO(n){return encodeURIComponent(n).replace(kH,(e,t)=>{var r;return null!==(r=OH[t])&&void 0!==r?r:e})}function zO(n){return`${n}`}class Lh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function RH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(d)||[];_.push(f),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Lh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(zO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(zO(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class NH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function WO(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function KO(n){return"undefined"!=typeof Blob&&n instanceof Blob}function YO(n){return"undefined"!=typeof FormData&&n instanceof FormData}class r0{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function PH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Fh),this.context||(this.context=new NH),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new Lh,this.urlWithParams=t}serializeBody(){return null===this.body?null:WO(this.body)||KO(this.body)||YO(this.body)||function FH(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||YO(this.body)?null:KO(this.body)?this.body.type||null:WO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,D=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((L,B)=>L.set(B,e.setHeaders[B]),E)),e.setParams&&(D=Object.keys(e.setParams).reduce((L,B)=>L.set(B,e.setParams[B]),D)),new r0(r,i,d,{params:D,headers:E,context:M,reportProgress:_,responseType:a,withCredentials:f})}}var Wi=(()=>((Wi=Wi||{})[Wi.Sent=0]="Sent",Wi[Wi.UploadProgress=1]="UploadProgress",Wi[Wi.ResponseHeader=2]="ResponseHeader",Wi[Wi.DownloadProgress=3]="DownloadProgress",Wi[Wi.Response=4]="Response",Wi[Wi.User=5]="User",Wi))();class GM extends class LH{constructor(e,t=200,r="OK"){this.headers=e.headers||new Fh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Wi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new GM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function ZM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let JO=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof r0)a=t;else{let _,E;_=i.headers instanceof Fh?i.headers:new Fh(i.headers),i.params&&(E=i.params instanceof Lh?i.params:new Lh({fromObject:i.params})),a=new r0(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=nt(a).pipe(za(_=>this.handler.handle(_)));if(t instanceof r0||"events"===i.observe)return d;const f=d.pipe(Er(_=>_ instanceof GM));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,It.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,It.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,It.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,It.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Lh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ZM(i,r))}post(t,r,i={}){return this.request("POST",t,ZM(i,r))}put(t,r,i={}){return this.request("PUT",t,ZM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MH))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const VH=["*"];let PI;function s0(n){var e;return(null===(e=function BH(){if(void 0===PI&&(PI=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(PI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return PI}())||void 0===e?void 0:e.createHTML(n))||n}function XO(n){return Error(`Unable to find icon with the name "${n}"`)}function eN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function tN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Kp{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let FI=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new Kp(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const d=this._sanitizer.sanitize(u.q3G.HTML,i);if(!d)throw tN(i);const f=s0(d);return this._addSvgIconConfig(t,r,new Kp("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Kp(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(u.q3G.HTML,r);if(!a)throw tN(r);const d=s0(a);return this._addSvgIconSetConfig(t,new Kp("",d,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw eN(t);const i=this._cachedIconsByUrl.get(r);return i?nt(LI(i)):this._loadSvgIconFromConfig(new Kp(t,null)).pipe((0,wr.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,It.U)(a=>LI(a)))}getNamedSvgIcon(t,r=""){const i=nN(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(t,d):qs(XO(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?nt(LI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,It.U)(r=>LI(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?nt(i):O0(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(os(f=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(E)),nt(null)})))).pipe((0,It.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,r);if(!d)throw XO(t);return d}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(d,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,wr.b)(r=>t.svgText=r),(0,It.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?nt(null):this._fetchIcon(t).pipe((0,wr.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const d=a.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const f=this._svgElementFromString(s0("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(s0("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:d,value:f}=i[a];"id"!==d&&r.setAttribute(d,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:a}=t,d=null!==(r=null==a?void 0:a.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function jH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const f=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!f)throw eN(i);const _=this._inProgressUrlFetches.get(f);if(_)return _;const E=this._httpClient.get(f,{responseType:"text",withCredentials:d}).pipe((0,It.U)(D=>s0(D)),pd(()=>this._inProgressUrlFetches.delete(f)),(0,eR.B)());return this._inProgressUrlFetches.set(f,E),E}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(nN(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return $H(a)?new Kp(a.url,null,a.options):new Kp(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(JO,8),u.LFG(rs),u.LFG(fe,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LI(n){return n.cloneNode(!0)}function nN(n,e){return n+":"+e}function $H(n){return!(!n.url||!n.options)}const qH=BM(class{constructor(n){this._elementRef=n}}),GH=new u.OlP("mat-icon-location",{providedIn:"root",factory:function ZH(){const n=(0,u.f3M)(fe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),rN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zH=rN.map(n=>`[${n}]`).join(", "),WH=/^url\(['"]?#(.*?)['"]?\)$/;let iN=(()=>{class n extends qH{constructor(t,r,i,a,d){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=d,this._inline=!1,this._currentIconFetch=Pl.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=kh(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(d=>{a.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(zH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)rN.forEach(d=>{const f=r[a],_=f.getAttribute(d),E=_?_.match(WH):null;if(E){let D=i.get(f);D||(D=[],i.set(f,D)),D.push({name:d,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,is.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(FI),u.$8M("aria-hidden"),u.Y36(GH),u.Y36(u.qLn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:VH,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),KH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[El],El]}),n})();function YH(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1,"Email is requierd"),u.qZA())}function QH(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1,"password is requierd"),u.qZA())}let JH=(()=>{class n{constructor(t,r,i,a){this._AutheService=t,this._Router=r,this._AngularFirestore=i,this._UsersService=a,this.test=new xn([]),this.loginForm=new sc({email:new qi(null,[pi.required,pi.email]),password:new qi(null,[pi.required])}),this.hide=!0}submit(){if(this.loginForm.valid){const{email:t,password:r}=this.loginForm.value;this._AutheService.login(t,r).subscribe(i=>{localStorage.setItem("usertoken",JSON.stringify(i.user.uid)),this._AutheService.userId=i.user.uid,this.userdata(i.user.uid),this._Router.navigate(["/home"]),alert("Signin is Sucessfully")},i=>{alert(i)})}}userdata(t){this._UsersService.getuserdata(t).subscribe(r=>{this.username=r})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Iu),u.Y36(Kr),u.Y36(Gb),u.Y36(tI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signin"]],decls:24,vars:7,consts:[[1,"pb-5"],[1,"form-container","mt-5"],[1,"",3,"formGroup","ngSubmit"],["formControlName","email","matInput","","placeholder","pat@example.com"],[4,"ngIf"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",1,"btn",3,"click"],["type","submit",1,"mt-2","btn","btn-primary","w-100"],["routerLink","/signup"],["type","submit",1,"mt-3","btn","new","w-75"]],template:function(t,r){if(1&t&&(u.TgZ(0,"header"),u._UZ(1,"div",0),u.TgZ(2,"div",1)(3,"h1"),u._uU(4,"Login "),u.qZA(),u.TgZ(5,"form",2),u.NdJ("ngSubmit",function(){return r.submit()}),u.TgZ(6,"mat-form-field")(7,"mat-label"),u._uU(8,"Enter your email"),u.qZA(),u._UZ(9,"input",3),u.YNc(10,YH,2,0,"mat-error",4),u.qZA(),u.TgZ(11,"mat-form-field")(12,"mat-label"),u._uU(13,"Enter your password"),u.qZA(),u._UZ(14,"input",5),u.YNc(15,QH,2,0,"mat-error",4),u.TgZ(16,"button",6),u.NdJ("click",function(){return r.hide=!r.hide}),u.TgZ(17,"mat-icon"),u._uU(18),u.qZA()()(),u.TgZ(19,"button",7),u._uU(20,"Login"),u.qZA(),u.TgZ(21,"a",8)(22,"button",9),u._uU(23,"Create New Account"),u.qZA()()()()()),2&t){let i,a;u.xp6(5),u.Q6J("formGroup",r.loginForm),u.xp6(5),u.Q6J("ngIf",null==(i=r.loginForm.get("email"))||null==i.errors?null:i.errors.required),u.xp6(4),u.Q6J("type",r.hide?"password":"text"),u.xp6(1),u.Q6J("ngIf",null==(a=r.loginForm.get("password"))||null==a.errors?null:a.errors.required),u.xp6(1),u.uIk("aria-label","Hide password")("aria-pressed",r.hide),u.xp6(2),u.Oqu(r.hide?"visibility_off":"visibility")}},directives:[kf,Df,Ql,jO,NI,tc,qO,Tf,oc,or,PO,GO,LO,iN,Xa],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:400px;margin:auto;padding:48px;background-color:#e7e0e0cb;border-radius:30px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.new[_ngcontent-%COMP%]{background-color:#e64944;margin-left:38px;color:#fff}header[_ngcontent-%COMP%]{height:100vh;background-image:url(signheader.c553a095b4875306.webp);background-position:center;background-repeat:no-repeat;background-size:cover}"]}),n})();function XH(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1,"name is requierd"),u.qZA())}function e3(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1,"city is requierd"),u.qZA())}function t3(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1,"Email is requierd"),u.qZA())}function n3(n,e){1&n&&(u.TgZ(0,"mat-error"),u._uU(1,"password is requierd"),u.qZA())}let r3=(()=>{class n{constructor(t,r,i){this._AutheService=t,this._Router=r,this._UsersService=i,this.name="",this.loginForm=new sc({name:new qi(null,[pi.required]),city:new qi(null,[pi.required]),email:new qi(null,[pi.required,pi.email]),password:new qi(null,[pi.required])}),this.hide=!0,this.record={}}submit(){if(this.loginForm.valid){const{name:t,email:r,password:i,city:a}=this.loginForm.value;this._AutheService.signup(r,i).subscribe(d=>{this._AutheService.userId=d.user.uid,this.userdata(d.user.uid),this._UsersService.addnewUser(d.user.uid,t,a),this._Router.navigate(["/signin"]),alert("Signup is Sucessfully")},d=>{alert(d)})}}userdata(t){this._UsersService.getuserdata(t).subscribe(r=>{this.username=r})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Iu),u.Y36(Kr),u.Y36(tI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:35,vars:9,consts:[[1,"pb-5"],[1,"form-container","mt-5"],[1,"",3,"formGroup","ngSubmit"],["formControlName","name","matInput","","placeholder","Ex:mohamed"],[4,"ngIf"],["formControlName","city","matInput","","placeholder","Cairo"],["formControlName","email","matInput","","placeholder","pat@example.com"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",1,"btn",3,"click"],["type","submit",1,"mt-2","btn","btn-primary","w-100"],[1,"mt-3"],["routerLink","/signin"]],template:function(t,r){if(1&t&&(u.TgZ(0,"header"),u._UZ(1,"div",0),u.TgZ(2,"div",1)(3,"h1"),u._uU(4,"Sign Up "),u.qZA(),u.TgZ(5,"form",2),u.NdJ("ngSubmit",function(){return r.submit()}),u.TgZ(6,"mat-form-field")(7,"mat-label"),u._uU(8,"Enter your Name"),u.qZA(),u._UZ(9,"input",3),u.YNc(10,XH,2,0,"mat-error",4),u.qZA(),u.TgZ(11,"mat-form-field")(12,"mat-label"),u._uU(13,"Enter your city"),u.qZA(),u._UZ(14,"input",5),u.YNc(15,e3,2,0,"mat-error",4),u.qZA(),u.TgZ(16,"mat-form-field")(17,"mat-label"),u._uU(18,"Enter your email"),u.qZA(),u._UZ(19,"input",6),u.YNc(20,t3,2,0,"mat-error",4),u.qZA(),u.TgZ(21,"mat-form-field")(22,"mat-label"),u._uU(23,"Enter your password"),u.qZA(),u._UZ(24,"input",7),u.YNc(25,n3,2,0,"mat-error",4),u.TgZ(26,"button",8),u.NdJ("click",function(){return r.hide=!r.hide}),u.TgZ(27,"mat-icon"),u._uU(28),u.qZA()()(),u.TgZ(29,"button",9),u._uU(30,"Login"),u.qZA(),u.TgZ(31,"p",10),u._uU(32,"Already Have An Account ? "),u.TgZ(33,"a",11),u._uU(34,"Sign in"),u.qZA()()()()()),2&t){let i,a,d,f;u.xp6(5),u.Q6J("formGroup",r.loginForm),u.xp6(5),u.Q6J("ngIf",null==(i=r.loginForm.get("name"))||null==i.errors?null:i.errors.required),u.xp6(5),u.Q6J("ngIf",null==(a=r.loginForm.get("city"))||null==a.errors?null:a.errors.required),u.xp6(5),u.Q6J("ngIf",null==(d=r.loginForm.get("email"))||null==d.errors?null:d.errors.required),u.xp6(4),u.Q6J("type",r.hide?"password":"text"),u.xp6(1),u.Q6J("ngIf",null==(f=r.loginForm.get("password"))||null==f.errors?null:f.errors.required),u.xp6(1),u.uIk("aria-label","Hide password")("aria-pressed",r.hide),u.xp6(2),u.Oqu(r.hide?"visibility_off":"visibility")}},directives:[kf,Df,Ql,jO,NI,tc,qO,Tf,oc,or,PO,GO,LO,iN,Xa],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:400px;margin:auto;padding:48px;background-color:#e7e0e0cb;border-radius:30px}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.new[_ngcontent-%COMP%]{background-color:#e64944;margin-left:38px;color:#fff}header[_ngcontent-%COMP%]{height:100vh;background-image:url(signheader.c553a095b4875306.webp);background-position:center;background-repeat:no-repeat;background-size:cover}"]}),n})(),Yp=(()=>{class n{constructor(t,r){this._AutheService=t,this._Router=r}canActivate(t,r){return new Promise(i=>{this._AutheService.user.subscribe(a=>{a?i(!0):(this._Router.navigate(["/signin"]),i(!1))})})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Iu),u.LFG(Kr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s3=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-order-succes"]],decls:6,vars:0,consts:[[1,"container","mt-5"]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"h3"),u._uU(3,"Thank You"),u.qZA(),u.TgZ(4,"p"),u._uU(5,"We received your order and will process it within the next 24 hours!"),u.qZA()())},directives:[jp],styles:[""]}),n})();function o3(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"th",4),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._UZ(6,"img",5),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA()()),2&n){const t=e.$implicit,r=e.index;u.xp6(2),u.Oqu(r),u.xp6(2),u.Oqu(t.title),u.xp6(2),u.s9C("src",t.img,u.LSH),u.xp6(2),u.Oqu(t.discrption),u.xp6(2),u.hij(" ",t.quantity," "),u.xp6(2),u.hij(" ",t.price,""),u.xp6(2),u.hij(" ",t.total,"")}}let a3=(()=>{class n{constructor(t,r){this._OrdersService=t,this._ProductsService=r,this.products=[]}ngOnInit(){this._OrdersService.get_order().subscribe(t=>{this.products=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(g_),u.Y36(uI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-myorder"]],decls:22,vars:1,consts:[[1,"container","mt-5","table-responsive-md"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["height","80px","alt","",1,"w-75",3,"src"]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),u._uU(6,"Sr-Number"),u.qZA(),u.TgZ(7,"th",2),u._uU(8,"Product-Name"),u.qZA(),u.TgZ(9,"th",2),u._uU(10,"Product-image"),u.qZA(),u.TgZ(11,"th",2),u._uU(12,"Description"),u.qZA(),u.TgZ(13,"th",2),u._uU(14,"Quantity"),u.qZA(),u.TgZ(15,"th",2),u._uU(16,"Price"),u.qZA(),u.TgZ(17,"th",2),u._uU(18,"total"),u.qZA()()(),u.TgZ(19,"tbody"),u.YNc(20,o3,15,7,"tr",3),u._UZ(21,"tr"),u.qZA()()()),2&t&&(u.xp6(20),u.Q6J("ngForOf",r.products))},directives:[jp,On],styles:[""]}),n})();const l3=["image"];function u3(n,e){1&n&&(u.TgZ(0,"p",18),u._uU(1,"discrption is requierd"),u.qZA())}function c3(n,e){if(1&n&&(u.TgZ(0,"div",16),u.YNc(1,u3,2,0,"p",17),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.place_order.get("discrption"))||null==r.errors?null:r.errors.required)}}function d3(n,e){1&n&&(u.TgZ(0,"p",18),u._uU(1,"title is requierd"),u.qZA())}function h3(n,e){if(1&n&&(u.TgZ(0,"div",16),u.YNc(1,d3,2,0,"p",17),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.place_order.get("title_one"))||null==r.errors?null:r.errors.required)}}function f3(n,e){1&n&&(u.TgZ(0,"p",18),u._uU(1,"Price is requierd"),u.qZA())}function p3(n,e){if(1&n&&(u.TgZ(0,"div",16),u.YNc(1,f3,2,0,"p",17),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.place_order.get("Price"))||null==r.errors?null:r.errors.required)}}function g3(n,e){if(1&n&&(u.TgZ(0,"tr")(1,"th",19),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._UZ(6,"img",20),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA()()),2&n){const t=e.$implicit,r=e.index;u.xp6(2),u.Oqu(r),u.xp6(2),u.Oqu(t.title),u.xp6(2),u.s9C("src",t.img,u.LSH),u.xp6(2),u.Oqu(t.discrption),u.xp6(2),u.hij(" ",t.quantity," "),u.xp6(2),u.hij(" ",t.price,"")}}const m3=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"cheackout",component:ZL,canActivate:[Yp]},{path:"home",component:zL,canActivate:[Yp]},{path:"signup",component:r3},{path:"signin",component:JH},{path:"products",component:$U,canActivate:[Yp]},{path:"orders",component:KL,canActivate:[Yp]},{path:"ordersuccess",component:s3,canActivate:[Yp]},{path:"myorder",component:a3,canActivate:[Yp]},{path:"manageproduct",component:(()=>{class n{constructor(t){this._ProductsService=t,this.quantity=1,this.total=0,this.products=[],this.place_order=new sc({discrption:new qi(null,[pi.required]),title:new qi(null,[pi.required]),Price:new qi(null,[pi.required])})}ngOnInit(){this._ProductsService.getallproduct().subscribe(t=>{this.products=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})}submit_order(t){console.log(t.value),console.log("yarab")}addtofirebase(){var t;let r=this.place_order.value.title,i=this.place_order.value.Price,a=(null===(t=this.img)||void 0===t?void 0:t.nativeElement).files[0];this._ProductsService.addnewproduct(r,i,a,this.place_order.value.discrption,this.quantity)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-manageproduct"]],viewQuery:function(t,r){if(1&t&&u.Gf(l3,5),2&t){let i;u.iGM(i=u.CRH())&&(r.img=i.first)}},decls:38,vars:6,consts:[[1,"container","mt-5"],["action","",3,"formGroup","ngSubmit"],["for","",1,"pb-1"],["type","text","formControlName","discrption","placeholder","Ahly main shirt",1,"form-control"],["class","alert alert-danger my-2",4,"ngIf"],["for","",1,"pb-1","pt-1"],["type","text","formControlName","title","placeholder","Sports Cloths",1,"form-control"],["for","price",1,"pb-1","pt-1"],["type","number","formControlName","Price","placeholder","Product Price  20",1,"form-control","mt-2"],["type","file","name","image","required","",1,"form-control","mt-4"],["image",""],[1,"btn","btn","btn-outline-success","mt-3",3,"disabled","click"],[1,"container","mt-5","table-responsive-md"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger","my-2"],["class","mb-0",4,"ngIf"],[1,"mb-0"],["scope","row"],["height","80px","alt","",1,"w-75",3,"src"]],template:function(t,r){if(1&t&&(u._UZ(0,"app-navbar"),u.TgZ(1,"div",0)(2,"form",1),u.NdJ("ngSubmit",function(){return r.submit_order(r.place_order)}),u.TgZ(3,"label",2),u._uU(4,"discrption"),u.qZA(),u._UZ(5,"input",3),u.YNc(6,c3,2,1,"div",4),u.TgZ(7,"label",5),u._uU(8,"title"),u.qZA(),u._UZ(9,"input",6),u.YNc(10,h3,2,1,"div",4),u.TgZ(11,"label",7),u._uU(12,"Price"),u.qZA(),u._UZ(13,"input",8),u.YNc(14,p3,2,1,"div",4),u._UZ(15,"input",9,10),u.TgZ(17,"button",11),u.NdJ("click",function(){return r.addtofirebase()}),u._uU(18,"Add Product"),u.qZA()()(),u.TgZ(19,"div",12)(20,"table",13)(21,"thead")(22,"tr")(23,"th",14),u._uU(24,"Sr-Number"),u.qZA(),u.TgZ(25,"th",14),u._uU(26,"Product-Name"),u.qZA(),u.TgZ(27,"th",14),u._uU(28,"Product-image"),u.qZA(),u.TgZ(29,"th",14),u._uU(30,"Description"),u.qZA(),u.TgZ(31,"th",14),u._uU(32,"Quantity"),u.qZA(),u.TgZ(33,"th",14),u._uU(34,"Price"),u.qZA()()(),u.TgZ(35,"tbody"),u.YNc(36,g3,13,6,"tr",15),u._UZ(37,"tr"),u.qZA()()()),2&t){let i,a,d;u.xp6(2),u.Q6J("formGroup",r.place_order),u.xp6(4),u.Q6J("ngIf",(null==(i=r.place_order.get("discrption"))?null:i.errors)&&(null==(i=r.place_order.get("discrption"))?null:i.touched)),u.xp6(4),u.Q6J("ngIf",(null==(a=r.place_order.get("title_one"))?null:a.errors)&&(null==(a=r.place_order.get("title_one"))?null:a.touched)),u.xp6(4),u.Q6J("ngIf",(null==(d=r.place_order.get("Price"))?null:d.errors)&&(null==(d=r.place_order.get("Price"))?null:d.touched)),u.xp6(3),u.Q6J("disabled",r.place_order.invalid),u.xp6(19),u.Q6J("ngForOf",r.products)}},directives:[jp,kf,Df,Ql,tc,Tf,oc,or,Vg,On],styles:[""]}),n})(),canActivate:[Yp]}];let _3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[vf.forRoot(m3,{useHash:!0})],vf]}),n})(),y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[El],El]}),n})(),v3=(()=>{class n{constructor(){this.title="e-commerce"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Wu],styles:[""]}),n})();const zM_firebase={projectId:"e-commerce-f681f",appId:"1:168641463359:web:b5739975205084560a648a",storageBucket:"e-commerce-f681f.appspot.com",locationId:"us-central",apiKey:"AIzaSyCqnlax_bM-icRnYeJ-xsSdZ3AH1bXckaI",authDomain:"e-commerce-f681f.firebaseapp.com",messagingSenderId:"168641463359",measurementId:"G-T448BKXSF0"};class WM{constructor(e){return e}}const sN="firestore",KM=new u.OlP("angularfire2.firestore-instances");function w3(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new WM(r)}}const C3={provide:class b3{constructor(){return(0,Qt.vb)(sN)}},deps:[[new u.FiY,KM]]},I3={provide:WM,useFactory:function E3(n,e){const t=(0,Qt.JM)(sN,n,e);return t&&new WM(t)},deps:[[new u.FiY,KM],f_]};let T3=(()=>{class n{constructor(){(0,xh.KN)("angularfire",Qt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[I3,C3]}),n})();function D3(n,...e){return{ngModule:T3,providers:[{provide:KM,useFactory:w3(n),multi:!0,deps:[u.R0b,u.zs3,Qt.HU,RS,[new u.FiY,jR],[new u.FiY,p_],...e]}]}}const A3=(0,Qt.u3)(_P,!0);let S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[v3]}),n.\u0275inj=u.cJS({providers:[],imports:[[Ml,_3,Dj,VT,qM,KH,wH,y3,SH,Oi.hO.initializeApp(zM_firebase),TF(()=>DF(zM_firebase)),OL(()=>PL()),D3(()=>A3()),Oi.hO,AL,vL,UU]]}),n})();(0,u.G48)(),sd().bootstrapModule(S3).catch(n=>console.error(n))},5867:(st,Ce,N)=>{N.d(Ce,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=N(9681);(0,u.registerVersion)("firebase","9.8.1","app")},127:(st,Ce,N)=>{N.d(Ce,{Z:()=>u.Z});var u=N(3942);u.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(st,Ce,N)=>{N.r(Ce);var u=N(5861),V=N(3942),O=N(198),le=N(2090),fe=(N(9681),N(1877),N(4859));function ce(){return window}function H(){return(H=(0,u.Z)(function*(de,Q,K){var Me;const{BuildInfo:Ye}=ce();(0,O.aq)(Q.sessionId,"AuthEvent did not contain a session ID");const gt=yield Se(Q.sessionId),Lt={};return(0,O.ar)()?Lt.ibi=Ye.packageName:(0,O.as)()?Lt.apn=Ye.packageName:(0,O.at)(de,"operation-not-supported-in-this-environment"),Ye.displayName&&(Lt.appDisplayName=Ye.displayName),Lt.sessionId=gt,(0,O.au)(de,K,Q.type,void 0,null!==(Me=Q.eventId)&&void 0!==Me?Me:void 0,Lt)})).apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(de){const{BuildInfo:Q}=ce(),K={};(0,O.ar)()?K.iosBundleId=Q.packageName:(0,O.as)()?K.androidPackageName=Q.packageName:(0,O.at)(de,"operation-not-supported-in-this-environment"),yield(0,O.av)(de,K)})).apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(de,Q,K){const{cordova:Me}=ce();let Ye=()=>{};try{yield new Promise((gt,Lt)=>{let en=null;function Gt(){var Zt;gt();const Pr=null===(Zt=Me.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Pr&&Pr(),"function"==typeof(null==K?void 0:K.close)&&K.close()}function Kn(){en||(en=window.setTimeout(()=>{Lt((0,O.aw)(de,"redirect-cancelled-by-user"))},2e3))}function si(){"visible"===(null==document?void 0:document.visibilityState)&&Kn()}Q.addPassiveListener(Gt),document.addEventListener("resume",Kn,!1),(0,O.as)()&&document.addEventListener("visibilitychange",si,!1),Ye=()=>{Q.removePassiveListener(Gt),document.removeEventListener("resume",Kn,!1),document.removeEventListener("visibilitychange",si,!1),en&&window.clearTimeout(en)}})}finally{Ye()}})).apply(this,arguments)}function Se(de){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(de){const Q=Ze(de),K=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(K)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ze(de){if((0,O.aq)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(de);const Q=new ArrayBuffer(de.length),K=new Uint8Array(Q);for(let Me=0;Me<de.length;Me++)K[Me]=de.charCodeAt(Me);return K}class Pe extends O.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,u.Z)(function*(){yield Q.initPromise})()}}function re(de){return ge.apply(this,arguments)}function ge(){return(ge=(0,u.Z)(function*(de){const Q=yield ie()._get(ae(de));return Q&&(yield ie()._remove(ae(de))),Q})).apply(this,arguments)}function J(){const de=[],Q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Me=Math.floor(Math.random()*Q.length);de.push(Q.charAt(Me))}return de.join("")}function ie(){return(0,O.ay)(O.b)}function ae(de){return(0,O.az)("authEvent",de.config.apiKey,de.name)}function je(de){if(!(null==de?void 0:de.includes("?")))return{};const[Q,...K]=de.split("?");return(0,le.zd)(K.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function Wt(){var de;return(null===(de=null==self?void 0:self.location)||void 0===de?void 0:de.protocol)||null}function Sn(de=(0,le.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ii(){try{const de=self.localStorage,Q=O.aI();if(de)return de.setItem(Q,"1"),de.removeItem(Q),!function Yi(de=(0,le.z$)()){return function Or(){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)}()||function kn(de=(0,le.z$)()){return/Edge\/\d+/.test(de)}(de)}()||(0,le.hl)()}catch(de){return Ui()&&(0,le.hl)()}return!1}function Ui(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function er(){return(function rn(){return"http:"===Wt()||"https:"===Wt()}()||(0,le.ru)()||Sn())&&!function Ki(){return(0,le.b$)()||(0,le.UG)()}()&&Ii()&&!Ui()}function Qi(){return Sn()&&"undefined"!=typeof document}function qr(){return(qr=(0,u.Z)(function*(){return!!Qi()&&new Promise(de=>{const Q=setTimeout(()=>{de(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),de(!0)})})})).apply(this,arguments)}const sn={LOCAL:"local",NONE:"none",SESSION:"session"},Nr=O.ax,pr="persistence";function Mn(de){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(de){yield de._initializationPromise;const Q=Xt(),K=O.az(pr,de.config.apiKey,de.name);Q&&Q.setItem(K,de._getPersistence())})).apply(this,arguments)}function Xt(){var de;try{return(null===(de=function Dn(){return"undefined"!=typeof window?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch(Q){return null}}const mt=O.ax;class at{constructor(){this.browserResolver=O.ay(O.k),this.cordovaResolver=O.ay(class nn{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(Q){var K=this;return(0,u.Z)(function*(){const Me=Q._key();let Ye=K.eventManagers.get(Me);return Ye||(Ye=new Pe(Q),K.eventManagers.set(Me,Ye),K.attachCallbackListeners(Q,Ye)),Ye})()}_openPopup(Q){(0,O.at)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,K,Me,Ye){var gt=this;return(0,u.Z)(function*(){!function _e(de){var Q,K,Me,Ye,gt,Lt,en,Gt,Kn,si;const Zt=ce();(0,O.ax)("function"==typeof(null===(Q=null==Zt?void 0:Zt.universalLinks)||void 0===Q?void 0:Q.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(void 0!==(null===(K=null==Zt?void 0:Zt.BuildInfo)||void 0===K?void 0:K.packageName),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(gt=null===(Ye=null===(Me=null==Zt?void 0:Zt.cordova)||void 0===Me?void 0:Me.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===gt?void 0:gt.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(Gt=null===(en=null===(Lt=null==Zt?void 0:Zt.cordova)||void 0===Lt?void 0:Lt.plugins)||void 0===en?void 0:en.browsertab)||void 0===Gt?void 0:Gt.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(si=null===(Kn=null==Zt?void 0:Zt.cordova)||void 0===Kn?void 0:Kn.InAppBrowser)||void 0===si?void 0:si.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const Lt=yield gt._initialize(Q);yield Lt.initialized(),Lt.resetRedirect(),(0,O.aD)(),yield gt._originValidation(Q);const en=function Ie(de,Q,K=null){return{type:Q,eventId:K,urlResponse:null,sessionId:J(),postBody:null,tenantId:de.tenantId,error:(0,O.aw)(de,"no-auth-event")}}(Q,Me,Ye);yield function Ke(de,Q){return ie()._set(ae(de),Q)}(Q,en);const Gt=yield function z(de,Q,K){return H.apply(this,arguments)}(Q,en,K),Kn=yield function Oe(de){const{cordova:Q}=ce();return new Promise(K=>{Q.plugins.browsertab.isAvailable(Me=>{let Ye=null;Me?Q.plugins.browsertab.openUrl(de):Ye=Q.InAppBrowser.open(de,(0,O.ap)()?"_blank":"_system","location=yes"),K(Ye)})})}(Gt);return function Be(de,Q,K){return Ge.apply(this,arguments)}(Q,Lt,Kn)})()}_isIframeWebStorageSupported(Q,K){throw new Error("Method not implemented.")}_originValidation(Q){const K=Q._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function oe(de){return We.apply(this,arguments)}(Q)),this.originValidationPromises[K]}attachCallbackListeners(Q,K){const{universalLinks:Me,handleOpenURL:Ye,BuildInfo:gt}=ce(),Lt=setTimeout((0,u.Z)(function*(){yield re(Q),K.onEvent(Je())}),500),en=function(){var si=(0,u.Z)(function*(Zt){clearTimeout(Lt);const Pr=yield re(Q);let Xi=null;Pr&&(null==Zt?void 0:Zt.url)&&(Xi=function Te(de,Q){var K,Me;const Ye=function pe(de){const Q=je(de),K=Q.link?decodeURIComponent(Q.link):void 0,Me=je(K).link,Ye=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return je(Ye).link||Ye||Me||K||de}(Q);if(Ye.includes("/__/auth/callback")){const gt=je(Ye),Lt=gt.firebaseError?function Ee(de){try{return JSON.parse(de)}catch(Q){return null}}(decodeURIComponent(gt.firebaseError)):null,en=null===(Me=null===(K=null==Lt?void 0:Lt.code)||void 0===K?void 0:K.split("auth/"))||void 0===Me?void 0:Me[1],Gt=en?(0,O.aw)(en):null;return Gt?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:Ye,postBody:null}}return null}(Pr,Zt.url)),K.onEvent(Xi||Je())});return function(Pr){return si.apply(this,arguments)}}();void 0!==Me&&"function"==typeof Me.subscribe&&Me.subscribe(null,en);const Gt=Ye,Kn=`${gt.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var si=(0,u.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Kn)&&en({url:Zt}),"function"==typeof Gt)try{Gt(Zt)}catch(Pr){console.error(Pr)}});return function(Zt){return si.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(Q){var K=this;return(0,u.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,K,Me,Ye){var gt=this;return(0,u.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(Q,K,Me,Ye)})()}_openRedirect(Q,K,Me,Ye){var gt=this;return(0,u.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(Q,K,Me,Ye)})()}_isIframeWebStorageSupported(Q,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,K)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return Qi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,u.Z)(function*(){if(Q.underlyingResolver)return;const K=yield function bt(){return qr.apply(this,arguments)}();Q.underlyingResolver=K?Q.cordovaResolver:Q.browserResolver})()}}function Ti(de){return de.unwrap()}function Kt(de){return $n(de)}function $n(de){const{_tokenResponse:Q}=de instanceof le.ZR?de.customData:de;if(!Q)return null;if(!(de instanceof le.ZR)&&"temporaryProof"in Q&&"phoneNumber"in Q)return O.P.credentialFromResult(de);const K=Q.providerId;if(!K||K===O.o.PASSWORD)return null;let Me;switch(K){case O.o.GOOGLE:Me=O.Q;break;case O.o.FACEBOOK:Me=O.N;break;case O.o.GITHUB:Me=O.T;break;case O.o.TWITTER:Me=O.W;break;default:const{oauthIdToken:Ye,oauthAccessToken:gt,oauthTokenSecret:Lt,pendingToken:en,nonce:Gt}=Q;return gt||Lt||Ye||en?en?K.startsWith("saml.")?O.aL._create(K,en):O.J._fromParams({providerId:K,signInMethod:K,pendingToken:en,idToken:Ye,accessToken:gt}):new O.U(K).credential({idToken:Ye,accessToken:gt,rawNonce:Gt}):null}return de instanceof le.ZR?Me.credentialFromError(de):Me.credentialFromResult(de)}function _n(de,Q){return Q.catch(K=>{throw K instanceof le.ZR&&function Ji(de,Q){var K;const Me=null===(K=Q.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===Q.code)Q.resolver=new Y(de,O.an(de,Q));else if(Me){const Ye=$n(Q),gt=Q;Ye&&(gt.credential=Ye,gt.tenantId=Me.tenantId||void 0,gt.email=Me.email||void 0,gt.phoneNumber=Me.phoneNumber||void 0)}}(de,K),K}).then(K=>{const Ye=K.user;return{operationType:K.operationType,credential:Kt(K),additionalUserInfo:O.al(K),user:we.getOrCreate(Ye)}})}function j(de,Q){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(de,Q){const K=yield Q;return{verificationId:K.verificationId,confirm:Me=>_n(de,K.confirm(Me))}})).apply(this,arguments)}class Y{constructor(Q,K){this.resolver=K,this.auth=function Di(de){return de.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return _n(Ti(this.auth),this.resolver.resolveSignIn(Q))}}class we{constructor(Q){this._delegate=Q,this.multiFactor=O.ao(Q)}static getOrCreate(Q){return we.USER_MAP.has(Q)||we.USER_MAP.set(Q,new we(Q)),we.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var K=this;return(0,u.Z)(function*(){return _n(K.auth,O.Z(K._delegate,Q))})()}linkWithPhoneNumber(Q,K){var Me=this;return(0,u.Z)(function*(){return j(Me.auth,O.l(Me._delegate,Q,K))})()}linkWithPopup(Q){var K=this;return(0,u.Z)(function*(){return _n(K.auth,O.d(K._delegate,Q,at))})()}linkWithRedirect(Q){var K=this;return(0,u.Z)(function*(){return yield Mn(O.aE(K.auth)),O.g(K._delegate,Q,at)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var K=this;return(0,u.Z)(function*(){return _n(K.auth,O._(K._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,K){return j(this.auth,O.r(this._delegate,Q,K))}reauthenticateWithPopup(Q){return _n(this.auth,O.e(this._delegate,Q,at))}reauthenticateWithRedirect(Q){var K=this;return(0,u.Z)(function*(){return yield Mn(O.aE(K.auth)),O.h(K._delegate,Q,at)})()}sendEmailVerification(Q){return O.ab(this._delegate,Q)}unlink(Q){var K=this;return(0,u.Z)(function*(){return yield O.ak(K._delegate,Q),K})()}updateEmail(Q){return O.ag(this._delegate,Q)}updatePassword(Q){return O.ah(this._delegate,Q)}updatePhoneNumber(Q){return O.u(this._delegate,Q)}updateProfile(Q){return O.af(this._delegate,Q)}verifyBeforeUpdateEmail(Q,K){return O.ac(this._delegate,Q,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}we.USER_MAP=new WeakMap;const q=O.ax;let ne=(()=>{class de{constructor(K,Me){if(this.app=K,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=K.options;q(Ye,"invalid-api-key",{appName:K.name}),q(Ye,"invalid-api-key",{appName:K.name});const gt="undefined"!=typeof window?at:void 0;this._delegate=Me.initialize({options:{persistence:tt(Ye,K.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?we.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Me){O.G(this._delegate,K,Me)}applyActionCode(K){return O.a2(this._delegate,K)}checkActionCode(K){return O.a3(this._delegate,K)}confirmPasswordReset(K,Me){return O.a1(this._delegate,K,Me)}createUserWithEmailAndPassword(K,Me){var Ye=this;return(0,u.Z)(function*(){return _n(Ye._delegate,O.a5(Ye._delegate,K,Me))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return O.aa(this._delegate,K)}isSignInWithEmailLink(K){return O.a8(this._delegate,K)}getRedirectResult(){var K=this;return(0,u.Z)(function*(){q(er(),K._delegate,"operation-not-supported-in-this-environment");const Me=yield O.j(K._delegate,at);return Me?_n(K._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function mn(de,Q){(0,O.aE)(de)._logFramework(Q)}(this._delegate,K)}onAuthStateChanged(K,Me,Ye){const{next:gt,error:Lt,complete:en}=Ue(K,Me,Ye);return this._delegate.onAuthStateChanged(gt,Lt,en)}onIdTokenChanged(K,Me,Ye){const{next:gt,error:Lt,complete:en}=Ue(K,Me,Ye);return this._delegate.onIdTokenChanged(gt,Lt,en)}sendSignInLinkToEmail(K,Me){return O.a7(this._delegate,K,Me)}sendPasswordResetEmail(K,Me){return O.a0(this._delegate,K,Me||void 0)}setPersistence(K){var Me=this;return(0,u.Z)(function*(){let Ye;switch(function Gr(de,Q){Nr(Object.values(sn).includes(Q),de,"invalid-persistence-type"),(0,le.b$)()?Nr(Q!==sn.SESSION,de,"unsupported-persistence-type"):(0,le.UG)()?Nr(Q===sn.NONE,de,"unsupported-persistence-type"):Ui()?Nr(Q===sn.NONE||Q===sn.LOCAL&&(0,le.hl)(),de,"unsupported-persistence-type"):Nr(Q===sn.NONE||Ii(),de,"unsupported-persistence-type")}(Me._delegate,K),K){case sn.SESSION:Ye=O.a;break;case sn.LOCAL:Ye=(yield O.ay(O.i)._isAvailable())?O.i:O.b;break;case sn.NONE:Ye=O.L;break;default:return O.at("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return _n(this._delegate,O.X(this._delegate))}signInWithCredential(K){return _n(this._delegate,O.Y(this._delegate,K))}signInWithCustomToken(K){return _n(this._delegate,O.$(this._delegate,K))}signInWithEmailAndPassword(K,Me){return _n(this._delegate,O.a6(this._delegate,K,Me))}signInWithEmailLink(K,Me){return _n(this._delegate,O.a9(this._delegate,K,Me))}signInWithPhoneNumber(K,Me){return j(this._delegate,O.s(this._delegate,K,Me))}signInWithPopup(K){var Me=this;return(0,u.Z)(function*(){return q(er(),Me._delegate,"operation-not-supported-in-this-environment"),_n(Me._delegate,O.c(Me._delegate,K,at))})()}signInWithRedirect(K){var Me=this;return(0,u.Z)(function*(){return q(er(),Me._delegate,"operation-not-supported-in-this-environment"),yield Mn(Me._delegate),O.f(Me._delegate,K,at)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return O.a4(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=sn,de})();function Ue(de,Q,K){let Me=de;"function"!=typeof de&&({next:Me,error:Q,complete:K}=de);const Ye=Me;return{next:Lt=>Ye(Lt&&we.getOrCreate(Lt)),error:Q,complete:K}}function tt(de,Q){const K=function Ps(de,Q){const K=Xt();if(!K)return[];const Me=O.az(pr,de,Q);switch(K.getItem(Me)){case sn.NONE:return[O.L];case sn.LOCAL:return[O.i,O.a];case sn.SESSION:return[O.a];default:return[]}}(de,Q);if("undefined"!=typeof self&&!K.includes(O.i)&&K.push(O.i),"undefined"!=typeof window)for(const Me of[O.b,O.a])K.includes(Me)||K.push(Me);return K.includes(O.L)||K.push(O.L),K}class vt{constructor(){this.providerId="phone",this._delegate=new O.P(Ti(V.Z.auth()))}static credential(Q,K){return O.P.credential(Q,K)}verifyPhoneNumber(Q,K){return this._delegate.verifyPhoneNumber(Q,K)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=O.P.PROVIDER_ID;const Bt=O.ax;class hn{constructor(Q,K,Me=V.Z.app()){var Ye;Bt(null===(Ye=Me.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new O.R(Q,K,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function tr(de){de.INTERNAL.registerComponent(new fe.wA("auth-compat",Q=>{const K=Q.getProvider("app-compat").getImmediate(),Me=Q.getProvider("auth");return new ne(K,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:hn,TwitterAuthProvider:O.W,Auth:ne,AuthCredential:O.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.2.14")}(V.Z)},8306:(st,Ce,N)=>{N.d(Ce,{y:()=>z});var u=N(930),V=N(727),O=N(8822),le=N(4671);var fe=N(2416),ce=N(576),be=N(2806);let z=(()=>{class Oe{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const _e=new Oe;return _e.source=this,_e.operator=Ge,_e}subscribe(Ge,_e,Se){const ze=function We(Oe){return Oe&&Oe instanceof u.Lv||function oe(Oe){return Oe&&(0,ce.m)(Oe.next)&&(0,ce.m)(Oe.error)&&(0,ce.m)(Oe.complete)}(Oe)&&(0,V.Nn)(Oe)}(Ge)?Ge:new u.Hp(Ge,_e,Se);return(0,be.x)(()=>{const{operator:Ze,source:Ne}=this;ze.add(Ze?Ze.call(ze,Ne):Ne?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(_e){Ge.error(_e)}}forEach(Ge,_e){return new(_e=H(_e))((Se,ze)=>{const Ze=new u.Hp({next:Ne=>{try{Ge(Ne)}catch(Pe){ze(Pe),Ze.unsubscribe()}},error:ze,complete:Se});this.subscribe(Ze)})}_subscribe(Ge){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Ge)}[O.L](){return this}pipe(...Ge){return function ve(Oe){return 0===Oe.length?le.y:1===Oe.length?Oe[0]:function(Ge){return Oe.reduce((_e,Se)=>Se(_e),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=H(Ge))((_e,Se)=>{let ze;this.subscribe(Ze=>ze=Ze,Ze=>Se(Ze),()=>_e(ze))})}}return Oe.create=Be=>new Oe(Be),Oe})();function H(Oe){var Be;return null!==(Be=null!=Oe?Oe:fe.v.Promise)&&void 0!==Be?Be:Promise}},7579:(st,Ce,N)=>{N.d(Ce,{x:()=>fe});var u=N(8306),V=N(727);const le=(0,N(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=N(8737),ve=N(2806);let fe=(()=>{class be extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const oe=new ce(this,this);return oe.operator=H,oe}_throwIfClosed(){if(this.closed)throw new le}next(H){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(H)}})}error(H){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:oe}=this;for(;oe.length;)oe.shift().error(H)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:oe,isStopped:We,observers:Oe}=this;return oe||We?V.Lc:(this.currentObservers=null,Oe.push(H),new V.w0(()=>{this.currentObservers=null,(0,ue.P)(Oe,H)}))}_checkFinalizedStatuses(H){const{hasError:oe,thrownError:We,isStopped:Oe}=this;oe?H.error(We):Oe&&H.complete()}asObservable(){const H=new u.y;return H.source=this,H}}return be.create=(z,H)=>new ce(z,H),be})();class ce extends fe{constructor(z,H){super(),this.destination=z,this.source=H}next(z){var H,oe;null===(oe=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===oe||oe.call(H,z)}error(z){var H,oe;null===(oe=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===oe||oe.call(H,z)}complete(){var z,H;null===(H=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===H||H.call(z)}_subscribe(z){var H,oe;return null!==(oe=null===(H=this.source)||void 0===H?void 0:H.subscribe(z))&&void 0!==oe?oe:V.Lc}}},930:(st,Ce,N)=>{N.d(Ce,{Hp:()=>Ge,Lv:()=>oe});var u=N(576),V=N(727),O=N(2416),le=N(7849),ue=N(5032);const ve=be("C",void 0,void 0);function be(Ne,Pe,Ie){return{kind:Ne,value:Pe,error:Ie}}var z=N(3410),H=N(2806);class oe extends V.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,V.Nn)(Pe)&&Pe.add(this)):this.destination=Ze}static create(Pe,Ie,Ke){return new Ge(Pe,Ie,Ke)}next(Pe){this.isStopped?ze(function ce(Ne){return be("N",Ne,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?ze(function fe(Ne){return be("E",void 0,Ne)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?ze(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Oe(Ne,Pe){return We.call(Ne,Pe)}class Be{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Pe)}catch(Ke){_e(Ke)}}error(Pe){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Pe)}catch(Ke){_e(Ke)}else _e(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ie){_e(Ie)}}}class Ge extends oe{constructor(Pe,Ie,Ke){let re;if(super(),(0,u.m)(Pe)||!Pe)re={next:null!=Pe?Pe:void 0,error:null!=Ie?Ie:void 0,complete:null!=Ke?Ke:void 0};else{let ge;this&&O.v.useDeprecatedNextContext?(ge=Object.create(Pe),ge.unsubscribe=()=>this.unsubscribe(),re={next:Pe.next&&Oe(Pe.next,ge),error:Pe.error&&Oe(Pe.error,ge),complete:Pe.complete&&Oe(Pe.complete,ge)}):re=Pe}this.destination=new Be(re)}}function _e(Ne){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ne):(0,le.h)(Ne)}function ze(Ne,Pe){const{onStoppedNotification:Ie}=O.v;Ie&&z.z.setTimeout(()=>Ie(Ne,Pe))}const Ze={closed:!0,next:ue.Z,error:function Se(Ne){throw Ne},complete:ue.Z}},727:(st,Ce,N)=>{N.d(Ce,{Lc:()=>ve,w0:()=>ue,Nn:()=>fe});var u=N(576);const O=(0,N(3888).d)(be=>function(H){be(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((oe,We)=>`${We+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var le=N(8737);class ue{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Oe of H)Oe.remove(this);else H.remove(this);const{initialTeardown:oe}=this;if((0,u.m)(oe))try{oe()}catch(Oe){z=Oe instanceof O?Oe.errors:[Oe]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Oe of We)try{ce(Oe)}catch(Be){z=null!=z?z:[],Be instanceof O?z=[...z,...Be.errors]:z.push(Be)}}if(z)throw new O(z)}}add(z){var H;if(z&&z!==this)if(this.closed)ce(z);else{if(z instanceof ue){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(z)}}_hasParent(z){const{_parentage:H}=this;return H===z||Array.isArray(H)&&H.includes(z)}_addParent(z){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(z),H):H?[H,z]:z}_removeParent(z){const{_parentage:H}=this;H===z?this._parentage=null:Array.isArray(H)&&(0,le.P)(H,z)}remove(z){const{_finalizers:H}=this;H&&(0,le.P)(H,z),z instanceof ue&&z._removeParent(this)}}ue.EMPTY=(()=>{const be=new ue;return be.closed=!0,be})();const ve=ue.EMPTY;function fe(be){return be instanceof ue||be&&"closed"in be&&(0,u.m)(be.remove)&&(0,u.m)(be.add)&&(0,u.m)(be.unsubscribe)}function ce(be){(0,u.m)(be)?be():be.unsubscribe()}},2416:(st,Ce,N)=>{N.d(Ce,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,N)=>{N.d(Ce,{E:()=>V});const V=new(N(8306).y)(ue=>ue.complete())},8996:(st,Ce,N)=>{N.d(Ce,{D:()=>Pe});var u=N(8421),V=N(5363),O=N(9468),ve=N(8306),ce=N(2202),be=N(576),z=N(9672);function oe(Ie,Ke){if(!Ie)throw new Error("Iterable cannot be null");return new ve.y(re=>{(0,z.f)(re,Ke,()=>{const ge=Ie[Symbol.asyncIterator]();(0,z.f)(re,Ke,()=>{ge.next().then(Te=>{Te.done?re.complete():re.next(Te.value)})},0,!0)})})}var We=N(3670),Oe=N(8239),Be=N(1144),Ge=N(6495),_e=N(2206),Se=N(4532),ze=N(3260);function Pe(Ie,Ke){return Ke?function Ne(Ie,Ke){if(null!=Ie){if((0,We.c)(Ie))return function le(Ie,Ke){return(0,u.Xf)(Ie).pipe((0,O.R)(Ke),(0,V.Q)(Ke))}(Ie,Ke);if((0,Be.z)(Ie))return function fe(Ie,Ke){return new ve.y(re=>{let ge=0;return Ke.schedule(function(){ge===Ie.length?re.complete():(re.next(Ie[ge++]),re.closed||this.schedule())})})}(Ie,Ke);if((0,Oe.t)(Ie))return function ue(Ie,Ke){return(0,u.Xf)(Ie).pipe((0,O.R)(Ke),(0,V.Q)(Ke))}(Ie,Ke);if((0,_e.D)(Ie))return oe(Ie,Ke);if((0,Ge.T)(Ie))return function H(Ie,Ke){return new ve.y(re=>{let ge;return(0,z.f)(re,Ke,()=>{ge=Ie[ce.h](),(0,z.f)(re,Ke,()=>{let Te,J;try{({value:Te,done:J}=ge.next())}catch(ie){return void re.error(ie)}J?re.complete():re.next(Te)},0,!0)}),()=>(0,be.m)(null==ge?void 0:ge.return)&&ge.return()})}(Ie,Ke);if((0,ze.L)(Ie))return function Ze(Ie,Ke){return oe((0,ze.Q)(Ie),Ke)}(Ie,Ke)}throw(0,Se.z)(Ie)}(Ie,Ke):(0,u.Xf)(Ie)}},8421:(st,Ce,N)=>{N.d(Ce,{Xf:()=>We});var u=N(655),V=N(1144),O=N(8239),le=N(8306),ue=N(3670),ve=N(2206),fe=N(4532),ce=N(6495),be=N(3260),z=N(576),H=N(7849),oe=N(8822);function We(Ne){if(Ne instanceof le.y)return Ne;if(null!=Ne){if((0,ue.c)(Ne))return function Oe(Ne){return new le.y(Pe=>{const Ie=Ne[oe.L]();if((0,z.m)(Ie.subscribe))return Ie.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,V.z)(Ne))return function Be(Ne){return new le.y(Pe=>{for(let Ie=0;Ie<Ne.length&&!Pe.closed;Ie++)Pe.next(Ne[Ie]);Pe.complete()})}(Ne);if((0,O.t)(Ne))return function Ge(Ne){return new le.y(Pe=>{Ne.then(Ie=>{Pe.closed||(Pe.next(Ie),Pe.complete())},Ie=>Pe.error(Ie)).then(null,H.h)})}(Ne);if((0,ve.D)(Ne))return Se(Ne);if((0,ce.T)(Ne))return function _e(Ne){return new le.y(Pe=>{for(const Ie of Ne)if(Pe.next(Ie),Pe.closed)return;Pe.complete()})}(Ne);if((0,be.L)(Ne))return function ze(Ne){return Se((0,be.Q)(Ne))}(Ne)}throw(0,fe.z)(Ne)}function Se(Ne){return new le.y(Pe=>{(function Ze(Ne,Pe){var Ie,Ke,re,ge;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,u.KL)(Ne);!(Ke=yield Ie.next()).done;)if(Pe.next(Ke.value),Pe.closed)return}catch(Te){re={error:Te}}finally{try{Ke&&!Ke.done&&(ge=Ie.return)&&(yield ge.call(Ie))}finally{if(re)throw re.error}}Pe.complete()})})(Ne,Pe).catch(Ie=>Pe.error(Ie))})}},6451:(st,Ce,N)=>{N.d(Ce,{T:()=>ve});var u=N(5485),V=N(8421),O=N(515),le=N(7669),ue=N(8996);function ve(...fe){const ce=(0,le.yG)(fe),be=(0,le._6)(fe,1/0),z=fe;return z.length?1===z.length?(0,V.Xf)(z[0]):(0,u.J)(be)((0,ue.D)(z,ce)):O.E}},5403:(st,Ce,N)=>{N.d(Ce,{x:()=>V});var u=N(930);function V(le,ue,ve,fe,ce){return new O(le,ue,ve,fe,ce)}class O extends u.Lv{constructor(ue,ve,fe,ce,be,z){super(ue),this.onFinalize=be,this.shouldUnsubscribe=z,this._next=ve?function(H){try{ve(H)}catch(oe){ue.error(oe)}}:super._next,this._error=ce?function(H){try{ce(H)}catch(oe){ue.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(H){ue.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(st,Ce,N)=>{N.d(Ce,{U:()=>O});var u=N(4482),V=N(5403);function O(le,ue){return(0,u.e)((ve,fe)=>{let ce=0;ve.subscribe((0,V.x)(fe,be=>{fe.next(le.call(ue,be,ce++))}))})}},5485:(st,Ce,N)=>{N.d(Ce,{J:()=>O});var u=N(5577),V=N(4671);function O(le=1/0){return(0,u.z)(V.y,le)}},5577:(st,Ce,N)=>{N.d(Ce,{z:()=>ce});var u=N(4004),V=N(8421),O=N(4482),le=N(9672),ue=N(5403),fe=N(576);function ce(be,z,H=1/0){return(0,fe.m)(z)?ce((oe,We)=>(0,u.U)((Oe,Be)=>z(oe,Oe,We,Be))((0,V.Xf)(be(oe,We))),H):("number"==typeof z&&(H=z),(0,O.e)((oe,We)=>function ve(be,z,H,oe,We,Oe,Be,Ge){const _e=[];let Se=0,ze=0,Ze=!1;const Ne=()=>{Ze&&!_e.length&&!Se&&z.complete()},Pe=Ke=>Se<oe?Ie(Ke):_e.push(Ke),Ie=Ke=>{Oe&&z.next(Ke),Se++;let re=!1;(0,V.Xf)(H(Ke,ze++)).subscribe((0,ue.x)(z,ge=>{null==We||We(ge),Oe?Pe(ge):z.next(ge)},()=>{re=!0},void 0,()=>{if(re)try{for(Se--;_e.length&&Se<oe;){const ge=_e.shift();Be?(0,le.f)(z,Be,()=>Ie(ge)):Ie(ge)}Ne()}catch(ge){z.error(ge)}}))};return be.subscribe((0,ue.x)(z,Pe,()=>{Ze=!0,Ne()})),()=>{null==Ge||Ge()}}(oe,We,be,H)))}},5363:(st,Ce,N)=>{N.d(Ce,{Q:()=>le});var u=N(9672),V=N(4482),O=N(5403);function le(ue,ve=0){return(0,V.e)((fe,ce)=>{fe.subscribe((0,O.x)(ce,be=>(0,u.f)(ce,ue,()=>ce.next(be),ve),()=>(0,u.f)(ce,ue,()=>ce.complete(),ve),be=>(0,u.f)(ce,ue,()=>ce.error(be),ve)))})}},3099:(st,Ce,N)=>{N.d(Ce,{B:()=>ve});var u=N(8996),V=N(5698),O=N(7579),le=N(930),ue=N(4482);function ve(ce={}){const{connector:be=(()=>new O.x),resetOnError:z=!0,resetOnComplete:H=!0,resetOnRefCountZero:oe=!0}=ce;return We=>{let Oe=null,Be=null,Ge=null,_e=0,Se=!1,ze=!1;const Ze=()=>{null==Be||Be.unsubscribe(),Be=null},Ne=()=>{Ze(),Oe=Ge=null,Se=ze=!1},Pe=()=>{const Ie=Oe;Ne(),null==Ie||Ie.unsubscribe()};return(0,ue.e)((Ie,Ke)=>{_e++,!ze&&!Se&&Ze();const re=Ge=null!=Ge?Ge:be();Ke.add(()=>{_e--,0===_e&&!ze&&!Se&&(Be=fe(Pe,oe))}),re.subscribe(Ke),Oe||(Oe=new le.Hp({next:ge=>re.next(ge),error:ge=>{ze=!0,Ze(),Be=fe(Ne,z,ge),re.error(ge)},complete:()=>{Se=!0,Ze(),Be=fe(Ne,H),re.complete()}}),(0,u.D)(Ie).subscribe(Oe))})(We)}}function fe(ce,be,...z){return!0===be?(ce(),null):!1===be?null:be(...z).pipe((0,V.q)(1)).subscribe(()=>ce())}},9468:(st,Ce,N)=>{N.d(Ce,{R:()=>V});var u=N(4482);function V(O,le=0){return(0,u.e)((ue,ve)=>{ve.add(O.schedule(()=>ue.subscribe(ve),le))})}},5698:(st,Ce,N)=>{N.d(Ce,{q:()=>le});var u=N(515),V=N(4482),O=N(5403);function le(ue){return ue<=0?()=>u.E:(0,V.e)((ve,fe)=>{let ce=0;ve.subscribe((0,O.x)(fe,be=>{++ce<=ue&&(fe.next(be),ue<=ce&&fe.complete())}))})}},8505:(st,Ce,N)=>{N.d(Ce,{b:()=>ue});var u=N(576),V=N(4482),O=N(5403),le=N(4671);function ue(ve,fe,ce){const be=(0,u.m)(ve)||fe||ce?{next:ve,error:fe,complete:ce}:ve;return be?(0,V.e)((z,H)=>{var oe;null===(oe=be.subscribe)||void 0===oe||oe.call(be);let We=!0;z.subscribe((0,O.x)(H,Oe=>{var Be;null===(Be=be.next)||void 0===Be||Be.call(be,Oe),H.next(Oe)},()=>{var Oe;We=!1,null===(Oe=be.complete)||void 0===Oe||Oe.call(be),H.complete()},Oe=>{var Be;We=!1,null===(Be=be.error)||void 0===Be||Be.call(be,Oe),H.error(Oe)},()=>{var Oe,Be;We&&(null===(Oe=be.unsubscribe)||void 0===Oe||Oe.call(be)),null===(Be=be.finalize)||void 0===Be||Be.call(be)}))}):le.y}},4408:(st,Ce,N)=>{N.d(Ce,{o:()=>ue});var u=N(727);class V extends u.w0{constructor(fe,ce){super()}schedule(fe,ce=0){return this}}const O={setInterval(ve,fe,...ce){const{delegate:be}=O;return(null==be?void 0:be.setInterval)?be.setInterval(ve,fe,...ce):setInterval(ve,fe,...ce)},clearInterval(ve){const{delegate:fe}=O;return((null==fe?void 0:fe.clearInterval)||clearInterval)(ve)},delegate:void 0};var le=N(8737);class ue extends V{constructor(fe,ce){super(fe,ce),this.scheduler=fe,this.work=ce,this.pending=!1}schedule(fe,ce=0){if(this.closed)return this;this.state=fe;const be=this.id,z=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(z,be,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(z,this.id,ce),this}requestAsyncId(fe,ce,be=0){return O.setInterval(fe.flush.bind(fe,this),be)}recycleAsyncId(fe,ce,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return ce;O.clearInterval(ce)}execute(fe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(fe,ce);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ce){let z,be=!1;try{this.work(fe)}catch(H){be=!0,z=H||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ce}=this,{actions:be}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(be,this),null!=fe&&(this.id=this.recycleAsyncId(ce,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,N)=>{N.d(Ce,{v:()=>O});var u=N(6063);class V{constructor(ue,ve=V.now){this.schedulerActionCtor=ue,this.now=ve}schedule(ue,ve=0,fe){return new this.schedulerActionCtor(this,ue).schedule(fe,ve)}}V.now=u.l.now;class O extends V{constructor(ue,ve=V.now){super(ue,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:ve}=this;if(this._active)return void ve.push(ue);let fe;this._active=!0;do{if(fe=ue.execute(ue.state,ue.delay))break}while(ue=ve.shift());if(this._active=!1,fe){for(;ue=ve.shift();)ue.unsubscribe();throw fe}}}},4986:(st,Ce,N)=>{N.d(Ce,{z:()=>O});var u=N(4408);const O=new(N(7565).v)(u.o)},6063:(st,Ce,N)=>{N.d(Ce,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(st,Ce,N)=>{N.d(Ce,{z:()=>u});const u={setTimeout(V,O,...le){const{delegate:ue}=u;return(null==ue?void 0:ue.setTimeout)?ue.setTimeout(V,O,...le):setTimeout(V,O,...le)},clearTimeout(V){const{delegate:O}=u;return((null==O?void 0:O.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(st,Ce,N)=>{N.d(Ce,{h:()=>V});const V=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,N)=>{N.d(Ce,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(st,Ce,N)=>{N.d(Ce,{_6:()=>ve,jO:()=>le,yG:()=>ue});var u=N(576);function O(fe){return fe[fe.length-1]}function le(fe){return(0,u.m)(O(fe))?fe.pop():void 0}function ue(fe){return function V(fe){return fe&&(0,u.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function ve(fe,ce){return"number"==typeof O(fe)?fe.pop():ce}},8737:(st,Ce,N)=>{function u(V,O){if(V){const le=V.indexOf(O);0<=le&&V.splice(le,1)}}N.d(Ce,{P:()=>u})},3888:(st,Ce,N)=>{function u(V){const le=V(ue=>{Error.call(ue),ue.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}N.d(Ce,{d:()=>u})},2806:(st,Ce,N)=>{N.d(Ce,{O:()=>le,x:()=>O});var u=N(2416);let V=null;function O(ue){if(u.v.useDeprecatedSynchronousErrorHandling){const ve=!V;if(ve&&(V={errorThrown:!1,error:null}),ue(),ve){const{errorThrown:fe,error:ce}=V;if(V=null,fe)throw ce}}else ue()}function le(ue){u.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ue)}},9672:(st,Ce,N)=>{function u(V,O,le,ue=0,ve=!1){const fe=O.schedule(function(){le(),ve?V.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(V.add(fe),!ve)return fe}N.d(Ce,{f:()=>u})},4671:(st,Ce,N)=>{function u(V){return V}N.d(Ce,{y:()=>u})},1144:(st,Ce,N)=>{N.d(Ce,{z:()=>u});const u=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(st,Ce,N)=>{N.d(Ce,{D:()=>V});var u=N(576);function V(O){return Symbol.asyncIterator&&(0,u.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(st,Ce,N)=>{function u(V){return"function"==typeof V}N.d(Ce,{m:()=>u})},3670:(st,Ce,N)=>{N.d(Ce,{c:()=>O});var u=N(8822),V=N(576);function O(le){return(0,V.m)(le[u.L])}},6495:(st,Ce,N)=>{N.d(Ce,{T:()=>O});var u=N(2202),V=N(576);function O(le){return(0,V.m)(null==le?void 0:le[u.h])}},8239:(st,Ce,N)=>{N.d(Ce,{t:()=>V});var u=N(576);function V(O){return(0,u.m)(null==O?void 0:O.then)}},3260:(st,Ce,N)=>{N.d(Ce,{L:()=>le,Q:()=>O});var u=N(655),V=N(576);function O(ue){return(0,u.FC)(this,arguments,function*(){const fe=ue.getReader();try{for(;;){const{value:ce,done:be}=yield(0,u.qq)(fe.read());if(be)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{fe.releaseLock()}})}function le(ue){return(0,V.m)(null==ue?void 0:ue.getReader)}},4482:(st,Ce,N)=>{N.d(Ce,{A:()=>V,e:()=>O});var u=N(576);function V(le){return(0,u.m)(null==le?void 0:le.lift)}function O(le){return ue=>{if(V(ue))return ue.lift(function(ve){try{return le(ve,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,N)=>{function u(){}N.d(Ce,{Z:()=>u})},7849:(st,Ce,N)=>{N.d(Ce,{h:()=>O});var u=N(2416),V=N(3410);function O(le){V.z.setTimeout(()=>{const{onUnhandledError:ue}=u.v;if(!ue)throw le;ue(le)})}},4532:(st,Ce,N)=>{function u(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ce,{z:()=>u})},655:(st,Ce,N)=>{function le(J,ie){var ae={};for(var Ee in J)Object.prototype.hasOwnProperty.call(J,Ee)&&ie.indexOf(Ee)<0&&(ae[Ee]=J[Ee]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(Ee=Object.getOwnPropertySymbols(J);pe<Ee.length;pe++)ie.indexOf(Ee[pe])<0&&Object.prototype.propertyIsEnumerable.call(J,Ee[pe])&&(ae[Ee[pe]]=J[Ee[pe]])}return ae}function ce(J,ie,ae,Ee){return new(ae||(ae=Promise))(function(je,yt){function nn(mn){try{Je(Ee.next(mn))}catch(Hn){yt(Hn)}}function zt(mn){try{Je(Ee.throw(mn))}catch(Hn){yt(Hn)}}function Je(mn){mn.done?je(mn.value):function pe(je){return je instanceof ae?je:new ae(function(yt){yt(je)})}(mn.value).then(nn,zt)}Je((Ee=Ee.apply(J,ie||[])).next())})}function _e(J){return this instanceof _e?(this.v=J,this):new _e(J)}function Se(J,ie,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,Ee=ae.apply(J,ie||[]),je=[];return pe={},yt("next"),yt("throw"),yt("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function yt(bn){Ee[bn]&&(pe[bn]=function(an){return new Promise(function(Wt,rn){je.push([bn,an,Wt,rn])>1||nn(bn,an)})})}function nn(bn,an){try{!function zt(bn){bn.value instanceof _e?Promise.resolve(bn.value.v).then(Je,mn):Hn(je[0][2],bn)}(Ee[bn](an))}catch(Wt){Hn(je[0][3],Wt)}}function Je(bn){nn("next",bn)}function mn(bn){nn("throw",bn)}function Hn(bn,an){bn(an),je.shift(),je.length&&nn(je[0][0],je[0][1])}}function Ze(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ie=J[Symbol.asyncIterator];return ie?ie.call(J):(J=function oe(J){var ie="function"==typeof Symbol&&Symbol.iterator,ae=ie&&J[ie],Ee=0;if(ae)return ae.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&Ee>=J.length&&(J=void 0),{value:J&&J[Ee++],done:!J}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ae={},Ee("next"),Ee("throw"),Ee("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Ee(je){ae[je]=J[je]&&function(yt){return new Promise(function(nn,zt){!function pe(je,yt,nn,zt){Promise.resolve(zt).then(function(Je){je({value:Je,done:nn})},yt)}(nn,zt,(yt=J[je](yt)).done,yt.value)})}}}N.d(Ce,{FC:()=>Se,KL:()=>Ze,_T:()=>le,mG:()=>ce,qq:()=>_e})},5e3:(st,Ce,N)=>{N.d(Ce,{$8M:()=>is,$Z:()=>dc,AFp:()=>lb,AaK:()=>ce,BQk:()=>$f,CHM:()=>La,CRH:()=>Kv,CZH:()=>ab,CqO:()=>rv,EJc:()=>cb,EiD:()=>hf,EpF:()=>qf,F$t:()=>qE,F4k:()=>sm,FYo:()=>ap,FiY:()=>Is,G48:()=>yu,Gf:()=>zv,GfV:()=>Aw,Gpc:()=>H,Hsn:()=>um,Ikx:()=>tp,JOm:()=>ga,JVY:()=>sf,L6k:()=>af,LAX:()=>lf,LFG:()=>xe,LSH:()=>bd,Lbi:()=>WD,MGl:()=>Hd,NdJ:()=>om,OlP:()=>Vn,Oqu:()=>pv,PXZ:()=>kc,Q6J:()=>tv,QGY:()=>im,Qsj:()=>Om,R0b:()=>Ei,RDi:()=>xu,Rgc:()=>fh,SBq:()=>Uo,Sil:()=>hb,Suo:()=>Wv,TTD:()=>Ma,TgZ:()=>Hf,VLi:()=>Ip,X6Q:()=>_C,XFs:()=>bt,Xpm:()=>vt,Y36:()=>jf,YKP:()=>Ow,YNc:()=>RE,Yjl:()=>Ye,Yz7:()=>an,ZZ4:()=>Tb,_Bn:()=>Xs,_UZ:()=>nm,_Vd:()=>pl,_c5:()=>DC,_uU:()=>XE,aQg:()=>bu,c2e:()=>KD,cJS:()=>rn,cg1:()=>Em,dDg:()=>pb,deG:()=>cg,dqk:()=>Kt,eBb:()=>gg,eFA:()=>_b,ekj:()=>cv,f3M:()=>Ct,g9A:()=>no,h0i:()=>Vo,hGG:()=>AC,hij:()=>gm,iGM:()=>mp,ifc:()=>Xt,ip1:()=>ob,kL8:()=>wv,lG2:()=>Me,mCW:()=>g,n5z:()=>la,oAB:()=>de,oxw:()=>Bd,pB0:()=>uf,q3G:()=>ln,q4F:()=>Sw,qLn:()=>wg,qOj:()=>ya,qZA:()=>fc,qzn:()=>xo,s9C:()=>jd,sBO:()=>iA,sIi:()=>Br,s_b:()=>pp,soG:()=>qm,tBr:()=>fi,tb:()=>yh,tp0:()=>Hi,uIk:()=>eu,vHH:()=>Be,vpe:()=>eo,wAp:()=>ft,xp6:()=>ey,yhl:()=>fa,ynx:()=>ei,z2F:()=>Eh,z3N:()=>Ds,zSh:()=>Ry,zs3:()=>rl});var u=N(7579),V=N(727),O=N(8306),le=N(6451),ue=N(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=ve({__forward_ref__:ve});function H(s){return s.__forward_ref__=H,s.toString=function(){return ce(this())},s}function oe(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===H}class Be extends Error{constructor(o,l){super(function Ge(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Se(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}function Pe(s,o){const l=o?` in ${o}`:"";throw new Be(-201,`No provider for ${Se(s)} found${l}`)}function zt(s,o){null==s&&function Je(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Sn(s){return Ki(s,Ii)||Ki(s,er)}function Ki(s,o){return s.hasOwnProperty(o)?s[o]:null}function Yi(s){return s&&(s.hasOwnProperty(Ui)||s.hasOwnProperty(Qi))?s[Ui]:null}const Ii=ve({\u0275prov:ve}),Ui=ve({\u0275inj:ve}),er=ve({ngInjectableDef:ve}),Qi=ve({ngInjectorDef:ve});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let qr;function sn(s){const o=qr;return qr=s,o}function Nr(s,o,l){const c=Sn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&bt.Optional?null:void 0!==o?o:void Pe(ce(s),"Injector")}function Gr(s){return{toString:s}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),Xt=(()=>{return(s=Xt||(Xt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Xt;var s})();const mt="undefined"!=typeof globalThis&&globalThis,at="undefined"!=typeof window&&window,Ti="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=mt||"undefined"!=typeof global&&global||at||Ti,_n={},j=[],W=ve({\u0275cmp:ve}),Y=ve({\u0275dir:ve}),we=ve({\u0275pipe:ve}),q=ve({\u0275mod:ve}),ne=ve({\u0275fac:ve}),Ue=ve({__NG_ELEMENT_ID__:ve});let tt=0;function vt(s){return Gr(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||j,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Xt.Emulated,id:"c",styles:s.styles||j,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return c.id+=tt++,c.inputs=K(s.inputs,l),c.outputs=K(s.outputs),p&&p.forEach(b=>b(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(hn):null,c.pipeDefs=y?()=>("function"==typeof y?y():y).map(At):null,c})}function hn(s){return gt(s)||function Lt(s){return s[Y]||null}(s)}function At(s){return function en(s){return s[we]||null}(s)}const tr={};function de(s){return Gr(()=>{const o={type:s.type,bootstrap:s.bootstrap||j,declarations:s.declarations||j,imports:s.imports||j,exports:s.exports||j,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(tr[s.id]=s.type),o})}function K(s,o){if(null==s)return _n;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=c,o&&(o[h]=p)}return l}const Me=vt;function Ye(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function gt(s){return s[W]||null}function Gt(s,o){const l=s[q]||null;if(!l&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return l}function Ai(s){return Array.isArray(s)&&"object"==typeof s[1]}function ai(s){return Array.isArray(s)&&!0===s[1]}function Gc(s){return 0!=(8&s.flags)}function wl(s){return 2==(2&s.flags)}function Ls(s){return 1==(1&s.flags)}function Si(s){return null!==s.template}function Bh(s){return 0!=(512&s[2])}function Mi(s,o){return s.hasOwnProperty(ne)?s[ne]:null}class Jo{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ma(){return xa}function xa(s){return s.type.prototype.ngOnChanges&&(s.setInput=og),Hh}function Hh(){const s=Qc(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===_n)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function og(s,o,l,c){const h=Qc(s)||function gs(s,o){return s[Vs]=o}(s,{previous:_n,current:null}),p=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[l],C=y[b];p[b]=new Jo(C&&C.currentValue,o,y===_n),s[c]=o}Ma.ngInherit=!0;const Vs="__ngSimpleChanges__";function Qc(s){return s[Vs]||null}let Dl;function xu(s){Dl=s}function In(s){return!!s.listen}const Ra={createRenderer:(s,o)=>function ms(){return void 0!==Dl?Dl:"undefined"!=typeof document?document:void 0}()};function vn(s){for(;Array.isArray(s);)s=s[0];return s}function oo(s,o){return vn(o[s])}function _r(s,o){return vn(o[s.index])}function Gn(s,o){return s.data[o]}function yr(s,o){const l=o[s];return Ai(l)?l:l[0]}function Xo(s){return 4==(4&s[2])}function es(s){return 128==(128&s[2])}function li(s,o){return null==o?null:s[o]}function js(s){s[18]=0}function Hs(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Et={lFrame:uo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ou(){return Et.bindingsEnabled}function Re(){return Et.lFrame.lView}function Yt(){return Et.lFrame.tView}function La(s){return Et.lFrame.contextLView=s,s[8]}function Ln(){let s=$s();for(;null!==s&&64===s.type;)s=s.parent;return s}function $s(){return Et.lFrame.currentTNode}function zr(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function Nu(){return Et.lFrame.isParent}function Pu(){Et.lFrame.isParent=!1}function Va(){return Et.isInCheckNoChangesMode}function ea(s){Et.isInCheckNoChangesMode=s}function ts(){return Et.lFrame.bindingIndex++}function ja(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,ao(o)}function ao(s){Et.lFrame.currentDirectiveIndex=s}function Ha(){return Et.lFrame.currentQueryIndex}function Lu(s){Et.lFrame.currentQueryIndex=s}function ag(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function xl(s,o,l){if(l&bt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&bt.Host||(h=ag(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Et.lFrame=Uu();return c.currentTNode=o,c.lView=s,!0}function lo(s){const o=Uu(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Uu(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?uo(s):o}function uo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function od(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const qh=od;function ta(){const s=od();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function vr(){return Et.lFrame.selectedIndex}function vs(s){Et.lFrame.selectedIndex=s}function Zn(){const s=Et.lFrame;return Gn(s.tView,s.selectedIndex)}function $a(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function bs(s,o,l){br(s,o,3,l)}function qa(s,o,l,c){(3&s[2])===l&&br(s,o,l,c)}function Rl(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function br(s,o,l,c){const p=null!=c?c:-1,y=o.length-1;let b=0;for(let C=void 0!==c?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=c&&b>=c)break}else o[C]<0&&(s[18]+=65536),(b<p||-1==p)&&(zh(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function zh(s,o,l,c){const h=l[c]<0,p=l[c+1],b=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class na{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function nt(s,o,l){const c=In(s);let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],b=l[h++],C=l[h++];c?s.setAttribute(o,b,C,y):o.setAttributeNS(y,b,C)}else{const y=p,b=l[++h];xn(y)?c&&s.setProperty(o,y,b):c?s.setAttribute(o,y,b):o.setAttribute(y,b),h++}}return h}function Lr(s){return 3===s||4===s||6===s}function xn(s){return 64===s.charCodeAt(0)}function Ur(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Vu(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Vu(s,o,l,c,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===l){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function ia(s){return-1!==s}function sa(s){return 32767&s}function ho(s,o){let l=function zn(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let fo=!0;function Es(s){const o=fo;return fo=s,o}let Ol=0;function An(s,o){const l=ws(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Nl(c.data,s),Nl(o,null),Nl(c.blueprint,null));const h=po(s,o),p=s.injectorIndex;if(ia(h)){const y=sa(h),b=ho(h,o),C=b[1].data;for(let S=0;S<8;S++)o[p+S]=b[y+S]|C[y+S]}return o[p+8]=h,p}function Nl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ws(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function po(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(c=2===y?p.declTNode:1===y?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function ui(s,o,l){!function fd(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Ue)&&(c=l[Ue]),null==c&&(c=l[Ue]=Ol++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function qs(s,o,l){if(l&bt.Optional)return s;Pe(o,"NodeInjector")}function go(s,o,l,c){if(l&bt.Optional&&void 0===c&&(c=null),0==(l&(bt.Self|bt.Host))){const h=s[9],p=sn(void 0);try{return h?h.get(o,c,l&bt.Optional):Nr(o,c,l&bt.Optional)}finally{sn(p)}}return qs(c,o,l)}function oa(s,o,l,c=bt.Default,h){if(null!==s){const p=function zs(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ue)?s[Ue]:void 0;return"number"==typeof o?o>=0?255&o:aa:o}(l);if("function"==typeof p){if(!xl(o,s,c))return c&bt.Host?qs(h,l,c):go(o,l,c,h);try{const y=p(c);if(null!=y||c&bt.Optional)return y;Pe(l)}finally{qh()}}else if("number"==typeof p){let y=null,b=ws(s,o),C=-1,S=c&bt.Host?o[16][6]:null;for((-1===b||c&bt.SkipSelf)&&(C=-1===b?po(s,o):o[b+8],-1!==C&&lr(c,!1)?(y=o[1],b=sa(C),o=ho(C,o)):b=-1);-1!==b;){const R=o[1];if(Pl(p,b,R.data)){const F=Ga(b,o,l,y,c,S);if(F!==Gs)return F}C=o[b+8],-1!==C&&lr(c,o[1].data[b+8]===S)&&Pl(p,b,o)?(y=R,b=sa(C),o=ho(C,o)):b=-1}}}return go(o,l,c,h)}const Gs={};function aa(){return new mo(Ln(),Re())}function Ga(s,o,l,c,h,p){const y=o[1],b=y.data[s+8],R=Zs(b,y,l,null==c?wl(b)&&fo:c!=y&&0!=(3&b.type),h&bt.Host&&p===b);return null!==R?Za(o,y,R,b):Gs}function Zs(s,o,l,c,h){const p=s.providerIndexes,y=o.data,b=1048575&p,C=s.directiveStart,R=p>>20,$=h?b+R:s.directiveEnd;for(let te=c?b:b+R;te<$;te++){const Ae=y[te];if(te<C&&l===Ae||te>=C&&Ae.type===l)return te}if(h){const te=y[C];if(te&&Si(te)&&te.type===l)return C}return null}function Za(s,o,l,c){let h=s[l];const p=o.data;if(function ld(s){return s instanceof na}(h)){const y=h;y.resolving&&function ze(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Be(-200,`Circular dependency in DI detected for ${s}${l}`)}(Se(p[l]));const b=Es(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?sn(y.injectImpl):null;xl(s,c,bt.Default);try{h=s[l]=y.factory(void 0,p,s,c),o.firstCreatePass&&l>=c.directiveStart&&function lg(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const y=xa(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==C&&sn(C),Es(b),y.resolving=!1,qh()}}return h}function Pl(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function lr(s,o){return!(s&bt.Self||s&bt.Host&&o)}class mo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return oa(this._tNode,this._lView,o,c,l)}}function la(s){return Gr(()=>{const o=s.prototype.constructor,l=o[ne]||rr(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[ne]||rr(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function rr(s){return We(s)?()=>{const o=rr(oe(s));return o&&o()}:Mi(s)}function is(s){return function ci(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const p=l[h];if(Lr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(Ln(),s)}const Ws="__parameters__";function Un(s,o,l){return Gr(()=>{const c=function os(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(C,S,R){const F=C.hasOwnProperty(Ws)?C[Ws]:Object.defineProperty(C,Ws,{value:[]})[Ws];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(y),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Vn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=an({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cg=new Vn("AnalyzeForEntryComponents");function Vr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),Vr(c,o)):o!==s&&o.push(c)}return o}function hi(s,o){s.forEach(l=>Array.isArray(l)?hi(l,o):o(l))}function vo(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function da(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function bo(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function Bn(s,o,l){let c=Eo(s,o);return c>=0?s[1|c]=l:(c=~c,function Ya(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function Ul(s,o){const l=Eo(s,o);if(l>=0)return s[1|l]}function Eo(s,o){return function Vl(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:c=p+1}return~(h<<l)}(s,o,1)}const ha={},Co="__NG_DI_FLAG__",Io="ngTempTokenPath",Hu=/\n/gm,T="__source",k=ve({provide:String,useValue:ve});let U;function X(s){const o=U;return U=s,o}function ee(s,o=bt.Default){if(void 0===U)throw new Be(203,"");return null===U?Nr(s,void 0,o):U.get(s,o&bt.Optional?null:void 0,o)}function xe(s,o=bt.Default){return(function Dn(){return qr}()||ee)(oe(s),o)}const Ct=xe;function St(s){const o=[];for(let l=0;l<s.length;l++){const c=oe(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Be(900,"");let h,p=bt.Default;for(let y=0;y<c.length;y++){const b=c[y],C=Ot(b);"number"==typeof C?-1===C?h=b.token:p|=C:h=b}o.push(xe(h,p))}else o.push(xe(c))}return o}function qt(s,o){return s[Co]=o,s.prototype[Co]=o,s}function Ot(s){return s[Co]}const fi=qt(Un("Inject",s=>({token:s})),-1),Is=qt(Un("Optional"),8),Hi=qt(Un("SkipSelf"),4);let So;function Qa(s){var o;return(null===(o=function gd(){if(void 0===So&&(So=null,Kt.trustedTypes))try{So=Kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return So}())||void 0===o?void 0:o.createHTML(s))||s}class Mo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _d extends Mo{getTypeName(){return"HTML"}}class R_ extends Mo{getTypeName(){return"Style"}}class Zu extends Mo{getTypeName(){return"Script"}}class k_ extends Mo{getTypeName(){return"URL"}}class O_ extends Mo{getTypeName(){return"ResourceURL"}}function Ds(s){return s instanceof Mo?s.changingThisBreaksApplicationSecurity:s}function xo(s,o){const l=fa(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function fa(s){return s instanceof Mo&&s.getTypeName()||null}function sf(s){return new _d(s)}function af(s){return new R_(s)}function gg(s){return new Zu(s)}function lf(s){return new k_(s)}function uf(s){return new O_(s)}class mg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Qa(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class N_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Qa(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=Qa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const y=l.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const yd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,v=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function g(s){return(s=String(s)).match(yd)||s.match(v)?s:"unsafe:"+s}function w(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function x(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const P=w("area,br,col,hr,img,wbr"),se=w("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fe=w("rp,rt"),Rn=x(P,x(se,w("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x(Fe,w("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x(Fe,se)),as=w("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ys=w("srcset"),pa=x(as,Ys,w("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),w("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yg=w("script,style,template");class Zl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Rn.hasOwnProperty(l))return this.sanitizedSomething=!0,!yg.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),y=p.name,b=y.toLowerCase();if(!pa.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=p.value;as[b]&&(C=g(C)),Ys[b]&&(s=C,C=(s=String(s)).split(",").map(o=>g(o.trim())).join(", ")),this.buf.push(" ",y,'="',vd(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Rn.hasOwnProperty(l)&&!P.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(vd(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Wu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vg=/([^\#-~ |!])/g;function vd(s){return s.replace(/&/g,"&amp;").replace(Wu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(vg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ja;function hf(s,o){let l=null;try{Ja=Ja||function cf(s){const o=new N_(s);return function _g(){try{return!!(new window.DOMParser).parseFromString(Qa(""),"text/html")}catch(s){return!1}}()?new mg(o):o}(s);let c=o?String(o):"";l=Ja.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=l.innerHTML,l=Ja.getInertBodyElement(c)}while(c!==p);return Qa((new Zl).sanitizeChildren(ff(l)||l))}finally{if(l){const c=ff(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ff(s){return"content"in s&&function Ku(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function bd(s){const o=function zl(){const s=Re();return s&&s[12]}();return o?o.sanitize(ln.URL,s)||"":xo(s,"URL")?Ds(s):g(_e(s))}const f0="__ngContext__";function Ri(s,o){s[f0]=o}function F_(s){const o=function gf(s){return s[f0]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ju(s){return s.ngOriginalError}function YI(s,...o){s.error(...o)}class wg{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=function KI(s){return s&&s.ngErrorLogger||YI}(o);c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ju(o);for(;l&&Ju(l);)l=Ju(l);return l||null}}const sT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function Ro(s){return s instanceof Function?s():s}var ga=(()=>((ga=ga||{})[ga.Important=1]="Important",ga[ga.DashCase=2]="DashCase",ga))();function Cg(s,o){return undefined(s,o)}function _f(s){const o=s[3];return ai(o)?o[3]:o}function yf(s){return C0(s[13])}function Tg(s){return C0(s[4])}function C0(s){for(;null!==s&&!ai(s);)s=s[4];return s}function Ed(s,o,l,c,h){if(null!=c){let p,y=!1;ai(c)?p=c:Ai(c)&&(y=!0,c=c[0]);const b=vn(c);0===s&&null!==l?null==h?Z_(o,l,b):As(o,l,b,h||null,!0):1===s&&null!==l?As(o,l,b,h||null,!0):2===s?function Y_(s,o,l){const c=vf(s,o);c&&function fT(s,o,l,c){In(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,b,y):3===s&&o.destroyNode(b),null!=p&&function ec(s,o,l,c,h){const p=l[7];p!==vn(l)&&Ed(o,s,c,p,h);for(let b=10;b<l.length;b++){const C=l[b];Sg(C[1],C,s,o,c,p)}}(o,s,p,l,h)}}function j_(s,o,l){if(In(s))return s.createElement(o,l);{const c=null!==l?function Tl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function T0(s,o){const l=s[9],c=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Hs(h,-1)),l.splice(c,1)}function $_(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&T0(h,c),o>0&&(s[l-1][4]=c[4]);const p=da(s,10+o);!function Kr(s,o){Sg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function q_(s,o){if(!(256&o[2])){const l=o[11];In(l)&&l.destroyNode&&Sg(s,o,l,3,null,null),function H_(s){let o=s[13];if(!o)return G_(s[1],s);for(;o;){let l=null;if(Ai(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)Ai(o)&&G_(o[1],o),o=o[3];null===o&&(o=s),Ai(o)&&G_(o[1],o),l=o&&o[4]}o=l}}(o)}}function G_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function A0(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof na)){const p=l[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],C=p[y+1];try{C.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function D0(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],b="function"==typeof y?y(o):vn(o[y]),C=c[h=l[p+2]],S=l[p+3];"boolean"==typeof S?b.removeEventListener(l[p],C,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),p+=2}else{const y=c[h=l[p+1]];l[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)c[p]();o[7]=null}}(s,o),1===o[1].type&&In(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&ai(o[3])){l!==o[3]&&T0(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function Dg(s,o,l){return function hT(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Xt.None||h===Xt.Emulated)return null}return _r(c,l)}(s,o.parent,l)}function As(s,o,l,c,h){In(s)?s.insertBefore(o,l,c,h):o.insertBefore(l,c,h)}function Z_(s,o,l){In(s)?s.appendChild(o,l):o.appendChild(l)}function S0(s,o,l,c,h){null!==c?As(s,o,l,c,h):Z_(s,o,l)}function vf(s,o){return In(s)?s.parentNode(o):o.parentNode}function M0(s,o,l){return z_(s,o,l)}let z_=function x0(s,o,l){return 40&s.type?_r(s,l):null};function Ag(s,o,l,c){const h=Dg(s,c,o),p=o[11],b=M0(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)S0(p,h,l[C],b,!1);else S0(p,h,l,b,!1)}function Cd(s,o){if(null!==o){const l=o.type;if(3&l)return _r(o,s);if(4&l)return K_(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Cd(s,c);{const h=s[o.index];return ai(h)?K_(-1,h):vn(h)}}if(32&l)return Cg(o,s)()||vn(s[o.index]);{const c=k0(s,o);return null!==c?Array.isArray(c)?c[0]:Cd(_f(s[16]),c):Cd(s,o.next)}}return null}function k0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function K_(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return Cd(c,h)}return o[7]}function Q_(s,o,l,c,h,p,y){for(;null!=l;){const b=c[l.index],C=l.type;if(y&&0===o&&(b&&Ri(vn(b),c),l.flags|=4),64!=(64&l.flags))if(8&C)Q_(s,o,l.child,c,h,p,!1),Ed(o,s,h,b,p);else if(32&C){const S=Cg(l,c);let R;for(;R=S();)Ed(o,s,h,R,p);Ed(o,s,h,b,p)}else 16&C?J_(s,o,c,l,h,p):Ed(o,s,h,b,p);l=y?l.projectionNext:l.next}}function Sg(s,o,l,c,h,p){Q_(l,c,s.firstChild,o,h,p,!1)}function J_(s,o,l,c,h,p){const y=l[16],C=y[6].projection[c.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Ed(o,s,h,C[S],p);else Q_(s,o,C,y[3],h,p,!0)}function N0(s,o,l){In(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Mg(s,o,l){In(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function P0(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}l=h+1}}const F0="ng-template";function tc(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==P0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function el(s){return 4===s.type&&s.value!==F0}function L0(s,o,l){return o===(4!==s.type||l?s.value:F0)}function ki(s,o,l){let c=4;const h=s.attrs||[],p=function V0(s){for(let o=0;o<s.length;o++)if(Lr(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!y)if(4&c){if(c=2|1&c,""!==C&&!L0(s,C,l)||""===C&&1===o.length){if(Yr(c))return!1;y=!0}}else{const S=8&c?C:o[++b];if(8&c&&null!==s.attrs){if(!tc(s.attrs,S,l)){if(Yr(c))return!1;y=!0}continue}const F=gT(8&c?"class":C,h,el(s),l);if(-1===F){if(Yr(c))return!1;y=!0;continue}if(""!==S){let $;$=F>p?"":h[F+1].toLowerCase();const te=8&c?$:null;if(te&&-1!==P0(te,S,0)||2&c&&S!==$){if(Yr(c))return!1;y=!0}}}}else{if(!y&&!Yr(c)&&!Yr(C))return!1;if(y&&Yr(C))continue;y=!1,c=C|1&c}}return Yr(c)||y}function Yr(s){return 0==(1&s)}function gT(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function B0(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function pi(s,o,l=!1){for(let c=0;c<o.length;c++)if(ki(s,o[c],l))return!0;return!1}function j0(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function X_(s,o){return s?":not("+o.trim()+")":o}function H0(s){let o=s[0],l=1,c=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&c){const b=s[++l];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Yr(y)&&(o+=X_(p,h),h=""),c=y,p=p||!Yr(c);l++}return""!==h&&(o+=X_(p,h)),o}const Pt={};function ey(s){ty(Yt(),Re(),vr()+s,Va())}function ty(s,o,l,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&bs(o,p,l)}else{const p=s.preOrderHooks;null!==p&&qa(o,p,0,l)}vs(l)}function bf(s,o){return s<<17|o<<2}function ko(s){return s>>17&32767}function Ef(s){return 2|s}function _a(s){return(131068&s)>>2}function wf(s,o){return-131069&s|o<<2}function xg(s){return 1|s}function cy(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],p=l[c+1];if(-1!==p){const y=s.data[p];Lu(h),y.contentQueries(2,o[p],p)}}}function Af(s,o,l,c,h,p,y,b,C,S){const R=o.blueprint.slice();return R[0]=h,R[2]=140|c,js(R),R[3]=R[15]=s,R[8]=l,R[10]=y||s&&s[10],R[11]=b||s&&s[11],R[12]=C||s&&s[12]||null,R[9]=S||s&&s[9]||null,R[6]=p,R[16]=2==o.type?s[16]:R,R}function nc(s,o,l,c,h){let p=s.data[o];if(null===p)p=function Sf(s,o,l,c,h){const p=$s(),y=Nu(),C=s.data[o]=function IT(s,o,l,c,h,p){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,l,c,h),function Ba(){return Et.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=c,p.attrs=h;const y=function Ua(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return zr(p,!0),p}function Kl(s,o,l,c){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Fg(s,o,l){lo(o);try{const c=s.viewQuery;null!==c&&Ay(1,c,l);const h=s.template;null!==h&&xf(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&cy(s,o),s.staticViewQueries&&Ay(2,s.viewQuery,l);const p=s.components;null!==p&&function dy(s,o){for(let l=0;l<o.length;l++)Ql(s,o[l])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ta()}}function Yl(s,o,l,c){const h=o[2];if(256==(256&h))return;lo(o);const p=Va();try{js(o),function Fu(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&xf(s,o,l,2,c);const y=3==(3&h);if(!p)if(y){const S=s.preOrderCheckHooks;null!==S&&bs(o,S,null)}else{const S=s.preOrderHooks;null!==S&&qa(o,S,0,null),Rl(o,0)}if(function xT(s){for(let o=yf(s);null!==o;o=Tg(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],p=h[3];0==(1024&h[2])&&Hs(p,1),h[2]|=1024}}}(o),function wy(s){for(let o=yf(s);null!==o;o=Tg(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];es(c)&&Yl(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&cy(s,o),!p)if(y){const S=s.contentCheckHooks;null!==S&&bs(o,S)}else{const S=s.contentHooks;null!==S&&qa(o,S,1),Rl(o,1)}!function CT(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)vs(~h);else{const p=h,y=l[++c],b=l[++c];ja(y,p),b(2,o[p])}}}finally{vs(-1)}}(s,o);const b=s.components;null!==b&&function lx(s,o){for(let l=0;l<o.length;l++)sE(s,o[l])}(o,b);const C=s.viewQuery;if(null!==C&&Ay(2,C,c),!p)if(y){const S=s.viewCheckHooks;null!==S&&bs(o,S)}else{const S=s.viewHooks;null!==S&&qa(o,S,2),Rl(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Hs(o[3],-1))}finally{ta()}}function Mf(s,o,l,c){const h=o[10],p=!Va(),y=Xo(o);try{p&&!y&&h.begin&&h.begin(),y&&Fg(s,o,c),Yl(s,o,l,c)}finally{p&&!y&&h.end&&h.end()}}function xf(s,o,l,c,h){const p=vr(),y=2&c;try{vs(-1),y&&o.length>20&&ty(s,o,20,Va()),l(c,h)}finally{vs(p)}}function rc(s,o,l){if(Gc(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function ic(s,o,l){!Ou()||(function hx(s,o,l,c){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||An(l,o),Ri(c,o);const y=l.initialInputs;for(let b=h;b<p;b++){const C=s.data[b],S=Si(C);S&&ST(o,l,C);const R=Za(o,s,b,l);Ri(R,o),null!==y&&MT(0,b-h,R,C,0,y),S&&(yr(l.index,o)[8]=R)}}(s,o,l,_r(l,o)),128==(128&l.flags)&&function DT(s,o,l){const c=l.directiveStart,h=l.directiveEnd,y=l.index,b=function sd(){return Et.lFrame.currentDirectiveIndex}();try{vs(y);for(let C=c;C<h;C++){const S=s.data[C],R=o[C];ao(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&vy(S,R)}}finally{vs(-1),ao(b)}}(s,o,l))}function hy(s,o,l=_r){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],b=-1===y?l(o,s):s[y];s[h++]=b}}}function Lg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Rf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Rf(s,o,l,c,h,p,y,b,C,S){const R=20+c,F=R+h,$=function fy(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:Pt);return l}(R,F),te="function"==typeof S?S():S;return $[1]={type:s,blueprint:$,template:l,queries:null,viewQuery:b,declTNode:o,data:$.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function Ug(s,o,l,c){const h=lE(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&Sy(s).push(c,h.length-1))}function _y(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function $i(s,o,l,c,h,p,y,b){const C=_r(o,l);let R,S=o.inputs;!b&&null!=S&&(R=S[c])?(Hg(s,l,R,c,h),wl(o)&&function qi(s,o){const l=yr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function X0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,In(p)?p.setProperty(C,c,h):xn(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}function tE(s,o,l,c){let h=!1;if(Ou()){const p=function AT(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const y=c[p];pi(l,y.selectors,!1)&&(h||(h=[]),ui(An(l,o),s,y.type),Si(y)?(by(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===c?null:{"":-1};if(null!==p){h=!0,rE(l,s.data.length,p.length);for(let R=0;R<p.length;R++){const F=p[R];F.providersResolver&&F.providersResolver(F)}let b=!1,C=!1,S=Kl(s,o,p.length,null);for(let R=0;R<p.length;R++){const F=p[R];l.mergedAttrs=Ur(l.mergedAttrs,F.hostAttrs),Vg(s,l,o,S,F),kf(S,F,y),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const $=F.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),S++}!function J0(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,y=[];let b=null,C=null;for(let S=o.directiveStart;S<c;S++){const R=h[S],F=R.inputs,$=null===p||el(o)?null:iE(F,p);y.push($),b=_y(F,S,b),C=_y(R.outputs,S,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=b,o.outputs=C}(s,l)}y&&function nE(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Be(-301,!1);c.push(o[h],p)}}}(l,c,y)}return l.mergedAttrs=Ur(l.mergedAttrs,l.attrs),h}function TT(s,o,l,c,h,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~o.index;(function dx(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=C&&b.push(C),b.push(c,h,y)}}function vy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function by(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function kf(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;Si(o)&&(l[""]=s)}}function rE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Vg(s,o,l,c,h){s.data[c]=h;const p=h.factory||(h.factory=Mi(h.type)),y=new na(p,Si(h),null);s.blueprint[c]=y,l[c]=y,TT(s,o,0,c,Kl(s,l,h.hostVars,Pt),h)}function ST(s,o,l){const c=_r(o,s),h=Lg(l),p=s[10],y=Ad(s,Af(s,h,null,l.onPush?64:16,c,o,p,p.createRenderer(c,l),null,null));s[o.index]=y}function tl(s,o,l,c,h,p){const y=_r(s,o);!function Bg(s,o,l,c,h,p,y){if(null==p)In(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const b=null==y?_e(p):y(p,c||"",h);In(s)?s.setAttribute(o,h,b,l):l?o.setAttributeNS(l,h,b):o.setAttribute(h,b)}}(o[11],y,p,s.value,l,c,h)}function MT(s,o,l,c,h,p){const y=p[o];if(null!==y){const b=c.setInput;for(let C=0;C<y.length;){const S=y[C++],R=y[C++],F=y[C++];null!==b?c.setInput(l,F,S,R):l[R]=F}}}function iE(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function Ey(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function sE(s,o){const l=yr(o,s);if(es(l)){const c=l[1];80&l[2]?Yl(c,l,c.template,l[8]):l[5]>0&&Cy(l)}}function Cy(s){for(let c=yf(s);null!==c;c=Tg(c))for(let h=10;h<c.length;h++){const p=c[h];if(1024&p[2]){const y=p[1];Yl(y,p,y.template,p[8])}else p[5]>0&&Cy(p)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=yr(l[c],s);es(h)&&h[5]>0&&Cy(h)}}function Ql(s,o){const l=yr(o,s),c=l[1];(function RT(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),Fg(c,l,l[8])}function Ad(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Iy(s){for(;s;){s[2]|=64;const o=_f(s);if(Bh(s)&&!o)return s;s=o}return null}function Dy(s,o,l){const c=o[10];c.begin&&c.begin();try{Yl(s,o,s.template,l)}catch(h){throw NT(o,h),h}finally{c.end&&c.end()}}function oc(s){!function jg(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=F_(l),h=c[1];Mf(h,c,h.template,l)}}(s[8])}function Ay(s,o,l){Lu(0),o(s,l)}const OT=(()=>Promise.resolve(null))();function lE(s){return s[7]||(s[7]=[])}function Sy(s){return s.cleanup||(s.cleanup=[])}function NT(s,o){const l=s[9],c=l?l.get(wg,null):null;c&&c.handleError(o)}function Hg(s,o,l,c,h){for(let p=0;p<l.length;){const y=l[p++],b=l[p++],C=o[y],S=s.data[y];null!==S.setInput?S.setInput(C,h,c,b):C[b]=h}}function nl(s,o,l){const c=oo(o,s);!function B_(s,o,l){In(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function Of(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=be(h,b):2==p&&(c=be(c,b+": "+o[++y]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const My=new Vn("INJECTOR",-1);class xy{get(o,l=ha){if(l===ha){const c=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw c.name="NullInjectorError",c}return l}}const Ry=new Vn("Set Injector scope."),Md={},FT={};let ky;function $g(){return void 0===ky&&(ky=new xy),ky}function Oy(s,o=null,l=null,c){const h=dE(s,o,l,c);return h._resolveInjectorDefTypes(),h}function dE(s,o=null,l=null,c){return new hE(s,l,o||$g(),c)}class hE{constructor(o,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&hi(l,b=>this.processProvider(b,o,l)),hi([o],b=>this.processInjectorType(b,[],p)),this.records.set(My,xd(void 0,this));const y=this.records.get(Ry);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=ha,c=bt.Default){this.assertNotDestroyed();const h=X(this),p=sn(void 0);try{if(!(c&bt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function _x(s){return"function"==typeof s||"object"==typeof s&&s instanceof Vn}(o)&&Sn(o);b=C&&this.injectableDefInScope(C)?xd(Ny(o),Md):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&bt.Self?$g():this.parent).get(o,l=c&bt.Optional&&l===ha?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Io]=y[Io]||[]).unshift(ce(o)),h)throw y;return function Wr(s,o,l,c){const h=s[Io];throw o[T]&&h.unshift(o[T]),s.message=function jn(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):ce(b)))}h=`{${p.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(Hu,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Io]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{sn(p),X(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(o,l,c){if(!(o=oe(o)))return!1;let h=Yi(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,b=-1!==c.indexOf(y);if(void 0!==p&&(h=Yi(p)),null==h)return!1;if(null!=h.imports&&!b){let R;c.push(y);try{hi(h.imports,F=>{this.processInjectorType(F,l,c)&&(void 0===R&&(R=[]),R.push(F))})}finally{}if(void 0!==R)for(let F=0;F<R.length;F++){const{ngModule:$,providers:te}=R[F];hi(te,Ae=>this.processProvider(Ae,$,te||j))}}this.injectorDefTypes.add(y);const C=Mi(y)||(()=>new y);this.records.set(y,xd(C,Md));const S=h.providers;if(null!=S&&!b){const R=o;hi(S,F=>this.processProvider(F,R,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,l,c){let h=Nf(o=oe(o))?o:oe(o&&o.provide);const p=function LT(s,o,l){return Fy(s)?xd(void 0,s.useValue):xd(Py(s),Md)}(o);if(Nf(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=xd(void 0,Md,!0),y.factory=()=>St(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,l){return l.value===Md&&(l.value=FT,l.value=l.factory()),"object"==typeof l.value&&l.value&&function VT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=oe(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Ny(s){const o=Sn(s),l=null!==o?o.factory:Mi(s);if(null!==l)return l;if(s instanceof Vn)throw new Be(204,!1);if(s instanceof Function)return function fE(s){const o=s.length;if(o>0)throw bo(o,"?"),new Be(204,!1);const l=function Or(s){const o=s&&(s[Ii]||s[er]);if(o){const l=function kn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Be(204,!1)}function Py(s,o,l){let c;if(Nf(s)){const h=oe(s);return Mi(h)||Ny(h)}if(Fy(s))c=()=>oe(s.useValue);else if(function gx(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...St(s.deps||[]));else if(function px(s){return!(!s||!s.useExisting)}(s))c=()=>xe(oe(s.useExisting));else{const h=oe(s&&(s.useClass||s.provide));if(!function mx(s){return!!s.deps}(s))return Mi(h)||Ny(h);c=()=>new h(...St(s.deps))}return c}function xd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Fy(s){return null!==s&&"object"==typeof s&&k in s}function Nf(s){return"function"==typeof s}let rl=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return Oy({name:""},c,l,"");{const p=null!==(h=l.name)&&void 0!==h?h:"";return Oy({name:p},l.parent,l.providers,p)}}}return s.THROW_IF_NOT_FOUND=ha,s.NULL=new xy,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>xe(My)}),s.__NG_ELEMENT_ID__=-1,s})();function mi(s,o){$a(F_(s)[1],Ln())}function ya(s){let o=function Qr(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(Si(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Be(903,"");h=o.\u0275dir}if(h){if(l){c.push(h);const y=s;y.inputs=jy(s.inputs),y.declaredInputs=jy(s.declaredInputs),y.outputs=jy(s.outputs);const b=h.hostBindings;b&&HT(s,b);const C=h.viewQuery,S=h.contentQueries;if(C&&EE(s,C),S&&wE(s,S),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),Si(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===ya&&(l=!1)}}o=Object.getPrototypeOf(o)}!function jT(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Ur(h.hostAttrs,l=Ur(l,h.hostAttrs))}}(c)}function jy(s){return s===_n?{}:s===j?[]:s}function EE(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function wE(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,p)=>{o(c,h,p),l(c,h,p)}:o}function HT(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let Ff=null;function Sr(){if(!Ff){const s=Kt.Symbol;if(s&&s.iterator)Ff=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ff=c)}}}return Ff}function Br(s){return!!Lf(s)&&(Array.isArray(s)||!(s instanceof Map)&&Sr()in s)}function Lf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _i(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function eu(s,o,l,c){const h=Re();return _i(h,ts(),o)&&(Yt(),tl(Zn(),h,s,o,l,c)),eu}function tu(s,o,l,c){return _i(s,ts(),l)?o+_e(l)+c:Pt}function RE(s,o,l,c,h,p,y,b){const C=Re(),S=Yt(),R=s+20,F=S.firstCreatePass?function Uf(s,o,l,c,h,p,y,b,C){const S=o.consts,R=nc(o,s,4,y||null,li(S,b));tE(o,l,R,li(S,C)),$a(o,R);const F=R.tViews=Rf(2,R,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,S,C,o,l,c,h,p,y):S.data[R];zr(F,!1);const $=C[11].createComment("");Ag(S,C,$,F),Ri($,C),Ad(C,C[R]=Ey($,C,$,F)),Ls(F)&&ic(S,C,F),null!=y&&hy(C,F,b)}function jf(s,o=bt.Default){const l=Re();return null===l?xe(s,o):oa(Ln(),l,oe(s),o)}function dc(){throw new Error("invalid")}function tv(s,o,l){const c=Re();return _i(c,ts(),o)&&$i(Yt(),Zn(),c,s,o,c[11],l,!1),tv}function nv(s,o,l,c,h){const y=h?"class":"style";Hg(s,l,o.inputs[y],y,c)}function Hf(s,o,l,c){const h=Re(),p=Yt(),y=20+s,b=h[11],C=h[y]=j_(b,o,function ad(){return Et.lFrame.currentNamespace}()),S=p.firstCreatePass?function hc(s,o,l,c,h,p,y){const b=o.consts,S=nc(o,s,2,h,li(b,p));return tE(o,l,S,li(b,y)),null!==S.attrs&&Of(S,S.attrs,!1),null!==S.mergedAttrs&&Of(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,h,0,o,l,c):p.data[y];zr(S,!0);const R=S.mergedAttrs;null!==R&&nt(b,C,R);const F=S.classes;null!==F&&Mg(b,C,F);const $=S.styles;return null!==$&&N0(b,C,$),64!=(64&S.flags)&&Ag(p,h,C,S),0===function Na(){return Et.lFrame.elementDepthCount}()&&Ri(C,h),function td(){Et.lFrame.elementDepthCount++}(),Ls(S)&&(ic(p,h,S),rc(p,S,h)),null!==c&&hy(h,S),Hf}function fc(){let s=Ln();Nu()?Pu():(s=s.parent,zr(s,!1));const o=s;!function Pa(){Et.lFrame.elementDepthCount--}();const l=Yt();return l.firstCreatePass&&($a(l,s),Gc(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function cd(s){return 0!=(16&s.flags)}(o)&&nv(l,o,Re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ug(s){return 0!=(32&s.flags)}(o)&&nv(l,o,Re(),o.stylesWithoutHost,!1),fc}function nm(s,o,l,c){return Hf(s,o,l,c),fc(),nm}function ei(s,o,l){const c=Re(),h=Yt(),p=s+20,y=h.firstCreatePass?function HE(s,o,l,c,h){const p=o.consts,y=li(p,c),b=nc(o,s,8,"ng-container",y);return null!==y&&Of(b,y,!0),tE(o,l,b,li(p,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(p,h,c,o,l):h.data[p];zr(y,!0);const b=c[p]=c[11].createComment("");return Ag(h,c,b,y),Ri(b,c),Ls(y)&&(ic(h,c,y),rc(h,y,c)),null!=l&&hy(c,y),ei}function $f(){let s=Ln();const o=Yt();return Nu()?Pu():(s=s.parent,zr(s,!1)),o.firstCreatePass&&($a(o,s),Gc(s)&&o.queries.elementEnd(s)),$f}function qf(){return Re()}function im(s){return!!s&&"function"==typeof s.then}function sm(s){return!!s&&"function"==typeof s.subscribe}const rv=sm;function om(s,o,l,c){const h=Re(),p=Yt(),y=Ln();return function am(s,o,l,c,h,p,y,b){const C=Ls(c),R=s.firstCreatePass&&Sy(s),F=o[8],$=lE(o);let te=!0;if(3&c.type||b){const Qe=_r(c,o),dt=b?b(Qe):Qe,Le=$.length,Tt=b?tn=>b(vn(tn[c.index])):c.index;if(In(l)){let tn=null;if(!b&&C&&(tn=function iv(s,o,l,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===c){const b=o[7],C=h[p+2];return b.length>C?b[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,c.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=p,tn.__ngLastListenerFn__=p,te=!1;else{p=Vd(c,o,F,p,!1);const pn=l.listen(dt,h,p);$.push(p,pn),R&&R.push(h,Tt,Le,Le+1)}}else p=Vd(c,o,F,p,!0),dt.addEventListener(h,p,y),$.push(p),R&&R.push(h,Tt,Le,y)}else p=Vd(c,o,F,p,!1);const Ae=c.outputs;let qe;if(te&&null!==Ae&&(qe=Ae[h])){const Qe=qe.length;if(Qe)for(let dt=0;dt<Qe;dt+=2){const Ci=o[qe[dt]][qe[dt+1]].subscribe(p),yl=$.length;$.push(p,Ci),R&&R.push(h,c.index,yl,-(yl+1))}}}(p,h,h[11],y,s,o,!!l,c),om}function lm(s,o,l,c){try{return!1!==l(c)}catch(h){return NT(s,h),!1}}function Vd(s,o,l,c,h){return function p(y){if(y===Function)return c;const b=2&s.flags?yr(s.index,o):o;0==(32&o[2])&&Iy(b);let C=lm(o,0,c,y),S=p.__ngNextListenerFn__;for(;S;)C=lm(o,0,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function Bd(s=1){return function ns(s){return(Et.lFrame.contextLView=function Gh(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function $E(s,o){let l=null;const c=function U0(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?pi(s,p,!0):j0(c,p))return h}else l=h}return l}function qE(s){const o=Re()[16][6];if(!o.projection){const c=o.projection=bo(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const y=s?$E(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:c[y]=p,h[y]=p),p=p.next}}}function um(s,o=0,l){const c=Re(),h=Yt(),p=nc(h,20+s,16,null,l||null);null===p.projection&&(p.projection=o),Pu(),64!=(64&p.flags)&&function O0(s,o,l){J_(o[11],0,o,l,Dg(s,l,o),M0(l.parent||o[6],l,o))}(h,c,p)}function jd(s,o,l){return Hd(s,"",o,"",l),jd}function Hd(s,o,l,c,h){const p=Re(),y=tu(p,o,l,c);return y!==Pt&&$i(Yt(),Zn(),p,s,y,p[11],h,!1),Hd}function cm(s,o,l,c,h){const p=s[l+1],y=null===o;let b=c?ko(p):_a(p),C=!1;for(;0!==b&&(!1===C||y);){const R=s[b+1];Zd(s[b],o)&&(C=!0,s[b+1]=c?xg(R):Ef(R)),b=c?ko(R):_a(R)}C&&(s[l+1]=c?Ef(p):xg(p))}function Zd(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Eo(s,o)>=0}function cv(s,o){return function Lo(s,o,l,c){const h=Re(),p=Yt(),y=function ys(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);p.firstUpdatePass&&function dv(s,o,l,c){const h=s.data;if(null===h[l+1]){const p=h[vr()],y=function ll(s,o){return o>=s.expandoStartIndex}(s,l);(function pm(s,o){return 0!=(s.flags&(o?16:32))})(p,c)&&null===o&&!y&&(o=!1),o=function KE(s,o,l,c){const h=function Ml(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=Kd(l=hv(null,s,o,l,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=hv(h,s,o,l,c),null===p){let C=function YE(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==_a(c))return s[ko(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=hv(null,s,o,C[1],c),C=Kd(C,o.attrs,c),function Wd(s,o,l,c){s[ko(l?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else p=function nD(s,o,l){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Kd(c,s[p].hostAttrs,l);return Kd(c,o.attrs,l)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,c),function uv(s,o,l,c,h,p){let y=p?o.classBindings:o.styleBindings,b=ko(y),C=_a(y);s[c]=l;let R,S=!1;if(Array.isArray(l)){const F=l;R=F[1],(null===R||Eo(F,R)>0)&&(S=!0)}else R=l;if(h)if(0!==C){const $=ko(s[b+1]);s[c+1]=bf($,b),0!==$&&(s[$+1]=wf(s[$+1],c)),s[b+1]=function G0(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=bf(b,0),0!==b&&(s[b+1]=wf(s[b+1],c)),b=c;else s[c+1]=bf(C,0),0===b?b=c:s[C+1]=wf(s[C+1],c),C=c;S&&(s[c+1]=Ef(s[c+1])),cm(s,R,c,!0),cm(s,R,c,!1),function QT(s,o,l,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Eo(p,o)>=0&&(l[c+1]=xg(l[c+1]))}(o,R,s,c,p),y=bf(b,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,c)}}(p,s,y,c),o!==Pt&&_i(h,y,o)&&function hm(s,o,l,c,h,p,y,b){if(!(3&o.type))return;const C=s.data,S=C[b+1];Kf(function iy(s){return 1==(1&s)}(S)?fm(C,o,l,h,_a(S),y):void 0)||(Kf(p)||function ry(s){return 2==(2&s)}(S)&&(p=fm(C,null,l,h,b,y)),function ma(s,o,l,c,h){const p=In(s);if(o)h?p?s.addClass(l,c):l.classList.add(c):p?s.removeClass(l,c):l.classList.remove(c);else{let y=-1===c.indexOf("-")?void 0:ga.DashCase;if(null==h)p?s.removeStyle(l,c,y):l.style.removeProperty(c);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),y|=ga.Important),p?s.setStyle(l,c,h,y):l.style.setProperty(c,h,b?"important":"")}}}(c,y,oo(vr(),l),h,p))}(p,p.data[vr()],h,h[11],s,h[y+1]=function JE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(Ds(s)))),s}(o,l),c,y)}(s,o,null,!0),cv}function hv(s,o,l,c,h){let p=null;const y=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<y&&(p=o[b],c=Kd(c,p.hostAttrs,h),p!==s);)b++;return null!==s&&(l.directiveStylingLast=b),c}function Kd(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Bn(s,y,!!l||o[++p]))}return void 0===s?null:s}function fm(s,o,l,c,h,p){const y=null===o;let b;for(;h>0;){const C=s[h],S=Array.isArray(C),R=S?C[1]:C,F=null===R;let $=l[h+1];$===Pt&&($=F?j:void 0);let te=F?Ul($,c):R===c?$:void 0;if(S&&!Kf(te)&&(te=Ul(C,c)),Kf(te)&&(b=te,y))return b;const Ae=s[h+1];h=y?ko(Ae):_a(Ae)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(b=Ul(C,c))}return b}function Kf(s){return void 0!==s}function XE(s,o=""){const l=Re(),c=Yt(),h=s+20,p=c.firstCreatePass?nc(c,h,1,o,null):c.data[h],y=l[h]=function V_(s,o){return In(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Ag(c,l,y,p),zr(p,!1)}function pv(s){return gm("",s,""),pv}function gm(s,o,l){const c=Re(),h=tu(c,s,o,l);return h!==Pt&&nl(c,vr(),h),gm}function tp(s,o,l){const c=Re();return _i(c,ts(),o)&&$i(Yt(),Zn(),c,s,o,c[11],l,!0),tp}const au=void 0;var uw=["en",[["a","p"],["AM","PM"],au],[["AM","PM"],au,au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",au,"{1} 'at' {0}",au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bm(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let pc={};function Em(s){const o=function cw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Cv(o);if(l)return l;const c=o.split("-")[0];if(l=Cv(c),l)return l;if("en"===c)return uw;throw new Error(`Missing locale data for the locale "${s}".`)}function wv(s){return Em(s)[ft.PluralCase]}function Cv(s){return s in pc||(pc[s]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[s]),pc[s]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const wm="en-US";let hw=wm;function Fn(s,o,l,c,h){if(s=oe(s),Array.isArray(s))for(let p=0;p<s.length;p++)Fn(s[p],o,l,c,h);else{const p=Yt(),y=Re();let b=Nf(s)?s:oe(s.provide),C=Py(s);const S=Ln(),R=1048575&S.providerIndexes,F=S.directiveStart,$=S.providerIndexes>>20;if(Nf(s)||!s.multi){const te=new na(C,h,jf),Ae=fl(b,o,h?R:R+$,F);-1===Ae?(ui(An(S,y),p,b),lh(p,s,o.length),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(te),y.push(te)):(l[Ae]=te,y[Ae]=te)}else{const te=fl(b,o,R+$,F),Ae=fl(b,o,R,R+$),qe=te>=0&&l[te],Qe=Ae>=0&&l[Ae];if(h&&!Qe||!h&&!qe){ui(An(S,y),p,b);const dt=function SD(s,o,l,c,h){const p=new na(s,l,jf);return p.multi=[],p.index=o,p.componentProviders=0,Sm(p,h,c&&!l),p}(h?op:Mm,l.length,h,c,C);!h&&Qe&&(l[Ae].providerFactory=dt),lh(p,s,o.length,0),o.push(b),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(dt),y.push(dt)}else lh(p,s,te>-1?te:Ae,Sm(l[h?Ae:te],C,!h&&c));!h&&c&&Qe&&l[Ae].componentProviders++}}}function lh(s,o,l,c){const h=Nf(o),p=function UT(s){return!!s.useClass}(o);if(h||p){const C=(p?oe(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(l);-1===R?S.push(l,[c,C]):S[R+1].push(c,C)}else S.push(l,C)}}}function Sm(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function fl(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function Mm(s,o,l,c){return xm(this.multi,[])}function op(s,o,l,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Za(l,l[1],this.providerFactory.index,c);p=b.slice(0,y),xm(h,p);for(let C=y;C<b.length;C++)p.push(b[C])}else p=[],xm(h,p);return p}function xm(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Xs(s,o=[]){return l=>{l.providersResolver=(c,h)=>function ww(s,o,l){const c=Yt();if(c.firstCreatePass){const h=Si(s);Fn(l,c.data,c.blueprint,h,!0),Fn(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class hr{}class Iw{resolveComponentFactory(o){throw function Rm(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let pl=(()=>{class s{}return s.NULL=new Iw,s})();function MD(){return wc(Ln(),Re())}function wc(s,o){return new Uo(_r(s,o))}let Uo=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=MD,s})();function xD(s){return s instanceof Uo?s.nativeElement:s}class ap{}let Om=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Dw(){const s=Re(),l=yr(Ln().index,s);return function Tw(s){return s[11]}(Ai(l)?l:s)}(),s})(),vi=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class Aw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Sw=new Aw("13.3.6"),Pv={};function lp(s,o,l,c,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&c.push(vn(p)),ai(p))for(let b=10;b<p.length;b++){const C=p[b],S=C[1].firstChild;null!==S&&lp(C[1],C,S,c)}const y=l.type;if(8&y)lp(s,o,l.child,c);else if(32&y){const b=Cg(l,o);let C;for(;C=b();)c.push(C)}else if(16&y){const b=k0(o,l);if(Array.isArray(b))c.push(...b);else{const C=_f(o[16]);lp(C[1],C,b,c,!0)}}l=h?l.projectionNext:l.next}return c}class up{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return lp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ai(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&($_(o,c),da(l,c))}this._attachedToViewContainer=!1}q_(this._lView[1],this._lView)}onDestroy(o){Ug(this._lView[1],this._lView,null,o)}markForCheck(){Iy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function kT(s,o,l){ea(!0);try{Dy(s,o,l)}finally{ea(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function I0(s,o){Sg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=o}}class RD extends up{constructor(o){super(o),this._view=o}detectChanges(){oc(this._view)}checkNoChanges(){!function oE(s){ea(!0);try{oc(s)}finally{ea(!1)}}(this._view)}get context(){return null}}class Mw extends pl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=gt(o);return new Fv(l,this.ngModule)}}function xw(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Fv extends hr{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function $0(s){return s.map(H0).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return xw(this.componentDef.inputs)}get outputs(){return xw(this.componentDef.outputs)}create(o,l,c,h){const p=(h=h||this.ngModule)?function uh(s,o){return{get:(l,c,h)=>{const p=s.get(l,Pv,h);return p!==Pv||c===Pv?p:o.get(l,c,h)}}}(o,h.injector):o,y=p.get(ap,Ra),b=p.get(vi,null),C=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=c?function my(s,o,l){if(In(s))return s.selectRootElement(o,l===Xt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):j_(y.createRenderer(null,this.componentDef),S,function cu(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),F=this.componentDef.onPush?576:528,$=function bE(s,o){return{components:[],scheduler:s||sT,clean:OT,playerHandler:o||null,flags:0}}(),te=Rf(0,null,null,1,0,null,null,null,null,null),Ae=Af(null,te,$,F,null,null,y,C,b,p);let qe,Qe;lo(Ae);try{const dt=function yE(s,o,l,c,h,p){const y=l[1];l[20]=s;const C=nc(y,20,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(Of(C,S,!0),null!==s&&(nt(h,s,S),null!==C.classes&&Mg(h,s,C.classes),null!==C.styles&&N0(h,s,C.styles)));const R=c.createRenderer(s,o),F=Af(l,Lg(o),null,o.onPush?64:16,l[20],C,c,R,p||null,null);return y.firstCreatePass&&(ui(An(C,l),y,o.type),by(y,C),rE(C,l.length,1)),Ad(l,F),l[20]=F}(R,this.componentDef,Ae,y,C);if(R)if(c)nt(C,R,["ng-version",Sw.full]);else{const{attrs:Le,classes:Tt}=function q0(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&l.push(p);else{if(!Yr(h))break;h=p}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Le&&nt(C,R,Le),Tt&&Tt.length>0&&Mg(C,R,Tt.join(" "))}if(Qe=Gn(te,20),void 0!==l){const Le=Qe.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const tn=l[Tt];Le.push(null!=tn?Array.from(tn):null)}}qe=function vE(s,o,l,c,h){const p=l[1],y=function eE(s,o,l){const c=Ln();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Vg(s,c,o,Kl(s,o,1,null),l));const h=Za(o,s,c.directiveStart,c);Ri(h,o);const p=_r(c,o);return p&&Ri(p,o),h}(p,l,o);if(c.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=Ln();o.contentQueries(1,y,C.directiveStart)}const b=Ln();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(vs(b.index),TT(l[1],b,0,b.directiveStart,b.directiveEnd,o),vy(o,y)),y}(dt,this.componentDef,Ae,$,[mi]),Fg(te,Ae,null)}finally{ta()}return new gl(this.componentType,qe,wc(Qe,Ae),Ae,Qe)}}class gl extends class Cw{}{constructor(o,l,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new RD(h),this.componentType=o}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Vo{}class Ow{}const du=new Map;class Uv extends Vo{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mw(this);const c=Gt(o);this._bootstrapComponents=Ro(c.bootstrap),this._r3Injector=dE(o,l,[{provide:Vo,useValue:this},{provide:pl,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=rl.THROW_IF_NOT_FOUND,c=bt.Default){return o===rl||o===Vo||o===My?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class cp extends Ow{constructor(o){super(),this.moduleType=o,null!==Gt(o)&&function ch(s){const o=new Set;!function l(c){const h=Gt(c,!0),p=h.id;null!==p&&(function Nm(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(p,du.get(p),c),du.set(p,c));const y=Ro(h.imports);for(const b of y)o.has(b)||(o.add(b),l(b))}(s)}(o)}create(o){return new Uv(this.moduleType,o)}}function Hv(s){return o=>{setTimeout(s,void 0,o)}}const eo=class Lm extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var h,p,y;let b=o,C=l||(()=>null),S=c;if(o&&"object"==typeof o){const F=o;b=null===(h=F.next)||void 0===h?void 0:h.bind(F),C=null===(p=F.error)||void 0===p?void 0:p.bind(F),S=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(C=Hv(C),b&&(b=Hv(b)),S&&(S=Hv(S)));const R=super.subscribe({next:b,error:C,complete:S});return o instanceof V.w0&&o.add(R),R}};function UD(){return this._results[Sr()]()}class Um{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Sr(),c=Um.prototype;c[l]||(c[l]=UD)}get changes(){return this._changes||(this._changes=new eo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=Vr(o);(this._changesDetected=!function Kh(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Hw,s})();const hp=fh,Ic=class extends hp{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=Af(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(l)),Fg(l,c,o),new up(c)}};function Hw(){return fp(Ln(),Re())}function fp(s,o){return 4&s.type?new Ic(o,s,wc(s,o)):null}let pp=(()=>{class s{}return s.__NG_ELEMENT_ID__=gp,s})();function gp(){return qv(Ln(),Re())}const $v=pp,$w=class extends $v{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){const o=po(this._hostTNode,this._hostLView);if(ia(o)){const l=ho(o,this._hostLView),c=sa(o);return new mo(l[1].data[c+8],l)}return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Tr(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const h=o.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(o,l,c,h,p){const y=o&&!function Ka(s){return"function"==typeof s}(o);let b;if(y)b=l;else{const F=l||{};b=F.index,c=F.injector,h=F.projectableNodes,p=F.ngModuleRef}const C=y?o:new Fv(gt(o)),S=c||this.parentInjector;if(!p&&null==C.ngModule){const $=(y?S:this.parentInjector).get(Vo,null);$&&(p=$)}const R=C.create(S,h,void 0,p);return this.insert(R.hostView,b),R}insert(o,l){const c=o._lView,h=c[1];if(function ku(s){return ai(s[3])}(c)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=c[3],$=new $w(F,F[6],F[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function Xa(s,o,l,c){const h=10+c,p=l.length;c>0&&(l[h-1][4]=o),c<p-10?(o[4]=l[h],vo(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function wd(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,c,y,p);const b=K_(p,y),C=c[11],S=vf(C,y[7]);return null!==S&&function dT(s,o,l,c,h,p){c[0]=h,c[6]=o,Sg(s,c,l,1,h,p)}(h,y[6],C,c,S,b),o.attachToViewContainerRef(),vo(on(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Tr(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=$_(this._lContainer,l);c&&(da(on(this._lContainer),l),q_(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=$_(this._lContainer,l);return c&&null!=da(on(this._lContainer),l)?new up(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Tr(s){return s[8]}function on(s){return s[8]||(s[8]=[])}function qv(s,o){let l;const c=o[s.index];if(ai(c))l=c;else{let h;if(8&s.type)h=vn(c);else{const p=o[11];h=p.createComment("");const y=_r(s,o);As(p,vf(p,y),h,function pT(s,o){return In(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=l=Ey(c,o,h,s),Ad(o,l)}return new $w(l,s,o)}class ls{constructor(o){this.queryList=o,this.matches=null}clone(){return new ls(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<c;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Gv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Gw(o,l).matches&&this.queries[l].setDirty()}}class Vm{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class Tc{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==l?l.push(p):l=[p])}return null!==l?new Tc(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Zv{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Zv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,l,VD(l,p)),this.matchTNodeWithReadOption(o,l,Zs(l,o,p,!1,!1))}else c===fh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Zs(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Uo||h===pp||h===fh&&4&l.type)this.addMatch(l.index,-2);else{const p=Zs(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function VD(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function BD(s,o,l,c){return-1===l?function Tn(s,o){return 11&s.type?wc(s,o):4&s.type?fp(s,o):null}(o,s):-2===l?function Bm(s,o,l){return l===Uo?wc(o,s):l===fh?fp(o,s):l===pp?qv(o,s):void 0}(s,o,c):Za(s,s[1],l,o)}function ph(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,y=l.matches,b=[];for(let C=0;C<y.length;C+=2){const S=y[C];b.push(S<0?null:BD(o,p[S],y[C+1],l.metadata.read))}h.matches=b}return h.matches}function Dc(s,o,l,c){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=ph(s,o,h,l);for(let b=0;b<p.length;b+=2){const C=p[b];if(C>0)c.push(y[b/2]);else{const S=p[b+1],R=o[-C];for(let F=10;F<R.length;F++){const $=R[F];$[17]===$[3]&&Dc($[1],$,S,c)}if(null!==R[9]){const F=R[9];for(let $=0;$<F.length;$++){const te=F[$];Dc(te[1],te,S,c)}}}}}return c}function mp(s){const o=Re(),l=Yt(),c=Ha();Lu(c+1);const h=Gw(l,c);if(s.dirty&&Xo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Dc(l,o,c,[]):ph(l,o,h,c);s.reset(p,xD),s.notifyOnChanges()}return!0}return!1}function zv(s,o,l){const c=Yt();c.firstCreatePass&&(Qv(c,new Vm(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),Yv(c,Re(),o)}function Wv(s,o,l,c){const h=Yt();if(h.firstCreatePass){const p=Ln();Qv(h,new Vm(o,l,c),p.index),function HD(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Yv(h,Re(),l)}function Kv(){return function jD(s,o){return s[19].queries[o].queryList}(Re(),Ha())}function Yv(s,o,l){const c=new Um(4==(4&l));Ug(s,o,c,c.destroy),null===o[19]&&(o[19]=new Gv),o[19].queries.push(new ls(c))}function Qv(s,o,l){null===s.queries&&(s.queries=new Tc),s.queries.track(new Zv(o,l))}function Gw(s,o){return s.queries.getByIndex(o)}function Ep(...s){}const ob=new Vn("Application Initializer");let ab=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Ep,this.reject=Ep,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(im(p))l.push(p);else if(rv(p)){const y=new Promise((b,C)=>{p.subscribe({complete:b,error:C})});l.push(y)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(xe(ob,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const lb=new Vn("AppId",{providedIn:"root",factory:function ub(){return`${_h()}${_h()}${_h()}`}});function _h(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const no=new Vn("Platform Initializer"),WD=new Vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yh=new Vn("appBootstrapListener");let KD=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const qm=new Vn("LocaleId",{providedIn:"root",factory:()=>Ct(qm,bt.Optional|bt.SkipSelf)||function Mc(){return"undefined"!=typeof $localize&&$localize.locale||wm}()}),cb=new Vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class db{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let hb=(()=>{class s{compileModuleSync(l){return new cp(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),p=Ro(Gt(l).declarations).reduce((y,b)=>{const C=gt(b);return C&&y.push(new Fv(C)),y},[]);return new db(c,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const JD=(()=>Promise.resolve(0))();function Gm(s){"undefined"==typeof Zone?JD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ei{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eo(!1),this.onMicrotaskEmpty=new eo(!1),this.onStable=new eo(!1),this.onError=new eo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Zm(){let s=Kt.requestAnimationFrame,o=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function cC(s){const o=()=>{!function wp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Cp(s),s.isCheckStableRunning=!0,_u(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Cp(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,p,y,b)=>{try{return zm(s),l.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),fb(s)}},onInvoke:(l,c,h,p,y,b,C)=>{try{return zm(s),l.invoke(h,p,y,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),fb(s)}},onHasTask:(l,c,h,p)=>{l.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Cp(s),_u(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,c,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ei.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ei.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,xc,Ep,Ep);try{return p.runTask(y,l,c)}finally{p.cancelTask(y)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const xc={};function _u(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Cp(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function zm(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function fb(s){s._nesting--,_u(s)}class XD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eo,this.onMicrotaskEmpty=new eo,this.onStable=new eo,this.onError=new eo}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}let pb=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ei.assertNotInAngularZone(),Gm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gm(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(xe(Ei))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),dC=(()=>{class s{constructor(){this._applications=new Map,ml.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return ml.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class gb{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function Ip(s){ml=s}let ml=new gb,Rc=null;const mb=new Vn("AllowMultipleToken"),hC=new Vn("PlatformOnDestroy");class kc{constructor(o,l){this.name=o,this.token=l}}function _b(s,o,l=[]){const c=`Platform: ${o}`,h=new Vn(c);return(p=[])=>{let y=bh();if(!y||y.injector.get(mb,!1)){const b=[...l,...p,{provide:h,useValue:!0}];s?s(b):function Oc(s){if(Rc&&!Rc.get(mb,!1))throw new Be(400,"");Rc=s;const o=s.get(pC),l=s.get(no,null);l&&l.forEach(c=>c())}(function nA(s=[],o){return rl.create({name:o,providers:[{provide:Ry,useValue:"platform"},{provide:hC,useValue:()=>Rc=null},...s]})}(b,c))}return function tA(s){const o=bh();if(!o)throw new Be(401,"");return o}()}}function bh(){var s;return null!==(s=null==Rc?void 0:Rc.get(pC))&&void 0!==s?s:null}let pC=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const b=function gC(s,o){let l;return l="noop"===s?new XD:("zone.js"===s?void 0:s)||new Ei({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Ei,useValue:b}];return b.run(()=>{const S=rl.create({providers:C,parent:this.injector,name:l.moduleType.name}),R=l.create(S),F=R.injector.get(wg,null);if(!F)throw new Be(402,"");return b.runOutsideAngular(()=>{const $=b.onError.subscribe({next:te=>{F.handleError(te)}});R.onDestroy(()=>{Wm(this._modules,R),$.unsubscribe()})}),function Dp(s,o,l){try{const c=l();return im(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(F,b,()=>{const $=R.injector.get(ab);return $.runInitializers(),$.donePromise.then(()=>(function Im(s){zt(s,"Expected localeId to be defined"),"string"==typeof s&&(hw=s.toLowerCase().replace(/_/g,"-"))}(R.injector.get(qm,wm)||wm),this._moduleDoBootstrap(R),R))})})}bootstrapModule(l,c=[]){const h=Ap({},c);return function eA(s,o,l){const c=new cp(l);return Promise.resolve(c)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const c=l.injector.get(Eh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Be(403,"");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(hC,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(xe(rl))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Ap(s,o){return Array.isArray(o)?o.reduce(Ap,s):Object.assign(Object.assign({},s),o)}let Eh=(()=>{class s{constructor(l,c,h,p){this._zone=l,this._injector=c,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new O.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ei.assertNotInAngularZone(),Gm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Ei.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),R.unsubscribe()}});this.isStable=(0,le.T)(y,b.pipe((0,ue.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new Be(405,"");let h;h=l instanceof hr?l:this._injector.get(pl).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const p=function Tp(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Vo),b=h.create(rl.NULL,[],c||h.selector,p),C=b.location.nativeElement,S=b.injector.get(pb,null),R=S&&b.injector.get(dC);return S&&R&&R.registerApplication(C,S),b.onDestroy(()=>{this.detachView(b.hostView),Wm(this.components,b),R&&R.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;Wm(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(yh,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(xe(Ei),xe(rl),xe(wg),xe(ab))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Wm(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let Sp=!0,Km=!1;function _C(){return Km=!0,Sp}function yu(){if(Km)throw new Error("Cannot enable prod mode after platform setup.");Sp=!1}let iA=(()=>{class s{}return s.__NG_ELEMENT_ID__=wh,s})();function wh(s){return function yC(s,o,l){if(wl(s)&&!l){const c=yr(s.index,o);return new up(c,c)}return 47&s.type?new up(o[16],o):null}(Ln(),Re(),16==(16&s))}class Rp{constructor(){}supports(o){return Br(o)}create(o){return new uA(o)}}const vb=(s,o)=>o;class uA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||vb}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,p=null;for(;l||c;){const y=!c||l&&l.currentIndex<Eb(c,h,p)?l:c,b=Eb(y,h,p),C=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const S=b-h,R=C-h;if(S!=R){for(let $=0;$<S;$++){const te=$<p.length?p[$]:p[$]=0,Ae=te+$;R<=Ae&&Ae<S&&(p[$]=te+1)}p[y.previousIndex]=R-S}}b!==C&&o(y,b,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Br(o))throw new Be(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,p,y,b)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,b),c=!0),l=l._next}else h=0,function TE(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Sr()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,b=>{y=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,b,y,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,y,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new bb(l,c),p,h),o}_verifyReinsertion(o,l,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new IC),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bb{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class IC{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new CC,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Eb(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class wb{constructor(){}supports(o){return o instanceof Map||Lf(o)}create(){return new Cb}}class Cb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Lf(o)))throw new Be(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new cA(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class cA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ib(){return new Tb([new Rp])}let Tb=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Ib()),deps:[[s,new Hi,new Is]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Be(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:Ib}),s})();function TC(){return new bu([new wb])}let bu=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||TC()),deps:[[s,new Hi,new Is]]}}find(l){const c=this.factories.find(p=>p.supports(l));if(c)return c;throw new Be(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:TC}),s})();const DC=_b(null,"core",[]);let AC=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(xe(Eh))},s.\u0275mod=de({type:s}),s.\u0275inj=rn({}),s})()},3942:(st,Ce,N)=>{N.d(Ce,{Z:()=>Be});var u=N(2090),V=N(4859),O=N(9681),le=N(1877);class ue{constructor(_e,Se){this._delegate=_e,this.firebase=Se,(0,O._addComponent)(_e,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(_e,Se=O._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(_e);return!Ze.isInitialized()&&"EXPLICIT"===(null===(ze=Ze.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Se})}_removeServiceInstance(_e,Se=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Se)}_addComponent(_e){(0,O._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,O._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function be(){const Ge=function ce(Ge){const _e={},Se={__esModule:!0,initializeApp:function Ne(re,ge={}){const Te=O.initializeApp(re,ge);if((0,u.r3)(_e,Te.name))return _e[Te.name];const J=new Ge(Te,Se);return _e[Te.name]=J,J},app:Ze,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ie(re){const ge=re.name,Te=ge.replace("-compat","");if(O._registerComponent(re)&&"PUBLIC"===re.type){const J=(ie=Ze())=>{if("function"!=typeof ie[Te])throw fe.create("invalid-app-argument",{appName:ge});return ie[Te]()};void 0!==re.serviceProps&&(0,u.ZB)(J,re.serviceProps),Se[Te]=J,Ge.prototype[Te]=function(...ie){return this._getService.bind(this,ge).apply(this,re.multipleInstances?ie:[])}}return"PUBLIC"===re.type?Se[Te]:null},removeApp:function ze(re){delete _e[re]},useAsService:function Ke(re,ge){return"serverAuth"===ge?null:ge},modularAPIs:O}};function Ze(re){if(!(0,u.r3)(_e,re=re||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:re});return _e[re]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Pe(){return Object.keys(_e).map(re=>_e[re])}}),Ze.App=Ge,Se}(ue);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function _e(Se){(0,u.ZB)(Ge,Se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ge}(),H=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=z;!function Oe(Ge){(0,O.registerVersion)("@firebase/app-compat","0.1.25",Ge)}()},9681:(st,Ce,N)=>{N.r(Ce),N.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Ii,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>bn,_addOrOverwriteComponent:()=>an,_apps:()=>mn,_clearComponents:()=>Ki,_components:()=>Hn,_getProvider:()=>rn,_registerComponent:()=>Wt,_removeServiceInstance:()=>Sn,deleteApp:()=>bt,getApp:()=>er,getApps:()=>Qi,initializeApp:()=>Ui,onLog:()=>sn,registerVersion:()=>Dn,setLogLevel:()=>Nr});var u=N(5861),V=N(4859),O=N(1877),le=N(2090),ue=N(8766);class ve{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function fe(q){const ne=q.getComponent();return"VERSION"===(null==ne?void 0:ne.type)}(Ue)){const tt=Ue.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const ce="@firebase/app",z=new O.Yd("@firebase/app"),zt="[DEFAULT]",Je={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Hn=new Map;function bn(q,ne){try{q.container.addComponent(ne)}catch(Ue){z.debug(`Component ${ne.name} failed to register with FirebaseApp ${q.name}`,Ue)}}function an(q,ne){q.container.addOrOverwriteComponent(ne)}function Wt(q){const ne=q.name;if(Hn.has(ne))return z.debug(`There were multiple attempts to register component ${ne}.`),!1;Hn.set(ne,q);for(const Ue of mn.values())bn(Ue,q);return!0}function rn(q,ne){const Ue=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),q.container.getProvider(ne)}function Sn(q,ne,Ue=zt){rn(q,ne).clearInstance(Ue)}function Ki(){Hn.clear()}const kn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Yi{constructor(ne,Ue,tt){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const Ii="9.8.1";function Ui(q,ne={}){"object"!=typeof ne&&(ne={name:ne});const Ue=Object.assign({name:zt,automaticDataCollectionEnabled:!1},ne),tt=Ue.name;if("string"!=typeof tt||!tt)throw kn.create("bad-app-name",{appName:String(tt)});const vt=mn.get(tt);if(vt){if((0,le.vZ)(q,vt.options)&&(0,le.vZ)(Ue,vt.config))return vt;throw kn.create("duplicate-app",{appName:tt})}const Bt=new V.H0(tt);for(const At of Hn.values())Bt.addComponent(At);const hn=new Yi(q,Ue,Bt);return mn.set(tt,hn),hn}function er(q=zt){const ne=mn.get(q);if(!ne)throw kn.create("no-app",{appName:q});return ne}function Qi(){return Array.from(mn.values())}function bt(q){return qr.apply(this,arguments)}function qr(){return(qr=(0,u.Z)(function*(q){const ne=q.name;mn.has(ne)&&(mn.delete(ne),yield Promise.all(q.container.getProviders().map(Ue=>Ue.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Dn(q,ne,Ue){var tt;let vt=null!==(tt=Je[q])&&void 0!==tt?tt:q;Ue&&(vt+=`-${Ue}`);const Bt=vt.match(/\s|\//),hn=ne.match(/\s|\//);if(Bt||hn){const At=[`Unable to register library "${vt}" with version "${ne}":`];return Bt&&At.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Bt&&hn&&At.push("and"),hn&&At.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void z.warn(At.join(" "))}Wt(new V.wA(`${vt}-version`,()=>({library:vt,version:ne}),"VERSION"))}function sn(q,ne){if(null!==q&&"function"!=typeof q)throw kn.create("invalid-log-argument");(0,O.Am)(q,ne)}function Nr(q){(0,O.Ub)(q)}const Mn="firebase-heartbeat-store";let gr=null;function Ps(){return gr||(gr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(q,ne)=>{0===ne&&q.createObjectStore(Mn)}}).catch(q=>{throw kn.create("storage-open",{originalErrorMessage:q.message})})),gr}function mt(){return(mt=(0,u.Z)(function*(q){try{return(yield Ps()).transaction(Mn).objectStore(Mn).get(Di(q))}catch(ne){throw kn.create("storage-get",{originalErrorMessage:ne.message})}})).apply(this,arguments)}function at(q,ne){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,u.Z)(function*(q,ne){try{const tt=(yield Ps()).transaction(Mn,"readwrite");return yield tt.objectStore(Mn).put(ne,Di(q)),tt.done}catch(Ue){throw kn.create("storage-set",{originalErrorMessage:Ue.message})}})).apply(this,arguments)}function Di(q){return`${q.name}!${q.options.appId}`}class $n{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new W(Ue),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var ne=this;return(0,u.Z)(function*(){const tt=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=_n();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==vt&&!ne._heartbeatsCache.heartbeats.some(Bt=>Bt.date===vt))return ne._heartbeatsCache.heartbeats.push({date:vt,agent:tt}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Bt=>{const hn=new Date(Bt.date).valueOf();return Date.now()-hn<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,u.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Ue=_n(),{heartbeatsToSend:tt,unsentEntries:vt}=function j(q,ne=1024){const Ue=[];let tt=q.slice();for(const vt of q){const Bt=Ue.find(hn=>hn.agent===vt.agent);if(Bt){if(Bt.dates.push(vt.date),Y(Ue)>ne){Bt.dates.pop();break}}else if(Ue.push({agent:vt.agent,dates:[vt.date]}),Y(Ue)>ne){Ue.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:tt}}(ne._heartbeatsCache.heartbeats),Bt=(0,le.L)(JSON.stringify({version:2,heartbeats:tt}));return ne._heartbeatsCache.lastSentHeartbeatDate=Ue,vt.length>0?(ne._heartbeatsCache.heartbeats=vt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Bt})()}}function _n(){return(new Date).toISOString().substring(0,10)}class W{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,u.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Xt(q){return mt.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Ue=this;return(0,u.Z)(function*(){var tt;if(yield Ue._canUseIndexedDBPromise){const Bt=yield Ue.read();return at(Ue.app,{lastSentHeartbeatDate:null!==(tt=ne.lastSentHeartbeatDate)&&void 0!==tt?tt:Bt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Ue=this;return(0,u.Z)(function*(){var tt;if(yield Ue._canUseIndexedDBPromise){const Bt=yield Ue.read();return at(Ue.app,{lastSentHeartbeatDate:null!==(tt=ne.lastSentHeartbeatDate)&&void 0!==tt?tt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...ne.heartbeats]})}})()}}function Y(q){return(0,le.L)(JSON.stringify({version:2,heartbeats:q})).length}!function we(q){Wt(new V.wA("platform-logger",ne=>new ve(ne),"PRIVATE")),Wt(new V.wA("heartbeat",ne=>new $n(ne),"PRIVATE")),Dn(ce,"0.7.24",q),Dn(ce,"0.7.24","esm2017"),Dn("fire-js","")}("")},4859:(st,Ce,N)=>{N.d(Ce,{H0:()=>ce,wA:()=>O});var u=N(5861),V=N(2090);class O{constructor(z,H,oe){this.name=z,this.instanceFactory=H,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const le="[DEFAULT]";class ue{constructor(z,H){this.name=z,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const H=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(H)){const oe=new V.BH;if(this.instancesDeferred.set(H,oe),this.isInitialized(H)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:H});We&&oe.resolve(We)}catch(We){}}return this.instancesDeferred.get(H).promise}getImmediate(z){var H;const oe=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),We=null!==(H=null==z?void 0:z.optional)&&void 0!==H&&H;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Oe){if(We)return null;throw Oe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function fe(be){return"EAGER"===be.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:le})}catch(H){}for(const[H,oe]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(H);try{const Oe=this.getOrInitializeService({instanceIdentifier:We});oe.resolve(Oe)}catch(Oe){}}}}clearInstance(z=le){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,u.Z)(function*(){const H=Array.from(z.instances.values());yield Promise.all([...H.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...H.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=le){return this.instances.has(z)}getOptions(z=le){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:H={}}=z,oe=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:oe,options:H});for(const[Oe,Be]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Oe)&&Be.resolve(We);return We}onInit(z,H){var oe;const We=this.normalizeInstanceIdentifier(H),Oe=null!==(oe=this.onInitCallbacks.get(We))&&void 0!==oe?oe:new Set;Oe.add(z),this.onInitCallbacks.set(We,Oe);const Be=this.instances.get(We);return Be&&z(Be,We),()=>{Oe.delete(z)}}invokeOnInitCallbacks(z,H){const oe=this.onInitCallbacks.get(H);if(oe)for(const We of oe)try{We(z,H)}catch(Oe){}}getOrInitializeService({instanceIdentifier:z,options:H={}}){let oe=this.instances.get(z);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(be=z,be===le?void 0:be),options:H}),this.instances.set(z,oe),this.instancesOptions.set(z,H),this.invokeOnInitCallbacks(oe,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,oe)}catch(We){}var be;return oe||null}normalizeInstanceIdentifier(z=le){return this.component?this.component.multipleInstances?z:le:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const H=this.getProvider(z.name);if(H.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);H.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const H=new ue(z,this);return this.providers.set(z,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,N)=>{N.d(Ce,{Am:()=>be,Ub:()=>ce,Yd:()=>fe,in:()=>V});const u=[];var V=(()=>{return(z=V||(V={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",V;var z})();const O={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},le=V.INFO,ue={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ve=(z,H,...oe)=>{if(H<z.logLevel)return;const We=(new Date).toISOString(),Oe=ue[H];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Oe](`[${We}]  ${z.name}:`,...oe)};class fe{constructor(H){this.name=H,this._logLevel=le,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in V))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...H),this._logHandler(this,V.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...H),this._logHandler(this,V.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,V.INFO,...H),this._logHandler(this,V.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,V.WARN,...H),this._logHandler(this,V.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...H),this._logHandler(this,V.ERROR,...H)}}function ce(z){u.forEach(H=>{H.setLogLevel(z)})}function be(z,H){for(const oe of u){let We=null;H&&H.level&&(We=O[H.level]),oe.userLogHandler=null===z?null:(Oe,Be,...Ge)=>{const _e=Ge.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(ze){return null}}).filter(Se=>Se).join(" ");Be>=(null!=We?We:Oe.logLevel)&&z({level:V[Be].toLowerCase(),message:_e,args:Ge,type:Oe.name})}}}},8766:(st,Ce,N)=>{N.d(Ce,{Lj:()=>Ne,X3:()=>Ze});var u=N(5861);let O,le;const fe=new WeakMap,ce=new WeakMap,be=new WeakMap,z=new WeakMap,H=new WeakMap;let Oe={get(ge,Te,J){if(ge instanceof IDBTransaction){if("done"===Te)return ce.get(ge);if("objectStoreNames"===Te)return ge.objectStoreNames||be.get(ge);if("store"===Te)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Se(ge[Te])},set:(ge,Te,J)=>(ge[Te]=J,!0),has:(ge,Te)=>ge instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in ge};function _e(ge){return"function"==typeof ge?function Ge(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...Te){return ge.apply(ze(this),Te),Se(fe.get(this))}:function(...Te){return Se(ge.apply(ze(this),Te))}:function(Te,...J){const ie=ge.call(ze(this),Te,...J);return be.set(ie,Te.sort?Te.sort():[Te]),Se(ie)}}(ge):(ge instanceof IDBTransaction&&function We(ge){if(ce.has(ge))return;const Te=new Promise((J,ie)=>{const ae=()=>{ge.removeEventListener("complete",Ee),ge.removeEventListener("error",pe),ge.removeEventListener("abort",pe)},Ee=()=>{J(),ae()},pe=()=>{ie(ge.error||new DOMException("AbortError","AbortError")),ae()};ge.addEventListener("complete",Ee),ge.addEventListener("error",pe),ge.addEventListener("abort",pe)});ce.set(ge,Te)}(ge),((ge,Te)=>Te.some(J=>ge instanceof J))(ge,function ue(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Oe):ge)}function Se(ge){if(ge instanceof IDBRequest)return function oe(ge){const Te=new Promise((J,ie)=>{const ae=()=>{ge.removeEventListener("success",Ee),ge.removeEventListener("error",pe)},Ee=()=>{J(Se(ge.result)),ae()},pe=()=>{ie(ge.error),ae()};ge.addEventListener("success",Ee),ge.addEventListener("error",pe)});return Te.then(J=>{J instanceof IDBCursor&&fe.set(J,ge)}).catch(()=>{}),H.set(Te,ge),Te}(ge);if(z.has(ge))return z.get(ge);const Te=_e(ge);return Te!==ge&&(z.set(ge,Te),H.set(Te,ge)),Te}const ze=ge=>H.get(ge);function Ze(ge,Te,{blocked:J,upgrade:ie,blocking:ae,terminated:Ee}={}){const pe=indexedDB.open(ge,Te),je=Se(pe);return ie&&pe.addEventListener("upgradeneeded",yt=>{ie(Se(pe.result),yt.oldVersion,yt.newVersion,Se(pe.transaction))}),J&&pe.addEventListener("blocked",()=>J()),je.then(yt=>{Ee&&yt.addEventListener("close",()=>Ee()),ae&&yt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),je}function Ne(ge,{blocked:Te}={}){const J=indexedDB.deleteDatabase(ge);return Te&&J.addEventListener("blocked",()=>Te()),Se(J).then(()=>{})}const Pe=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ke=new Map;function re(ge,Te){if(!(ge instanceof IDBDatabase)||Te in ge||"string"!=typeof Te)return;if(Ke.get(Te))return Ke.get(Te);const J=Te.replace(/FromIndex$/,""),ie=Te!==J,ae=Ie.includes(J);if(!(J in(ie?IDBIndex:IDBObjectStore).prototype)||!ae&&!Pe.includes(J))return;const Ee=function(){var pe=(0,u.Z)(function*(je,...yt){const nn=this.transaction(je,ae?"readwrite":"readonly");let zt=nn.store;return ie&&(zt=zt.index(yt.shift())),(yield Promise.all([zt[J](...yt),ae&&nn.done]))[0]});return function(yt){return pe.apply(this,arguments)}}();return Ke.set(Te,Ee),Ee}!function Be(ge){Oe=ge(Oe)}(ge=>fN(hN({},ge),{get:(Te,J,ie)=>re(Te,J)||ge.get(Te,J,ie),has:(Te,J)=>!!re(Te,J)||ge.has(Te,J)}))},5861:(st,Ce,N)=>{function u(O,le,ue,ve,fe,ce,be){try{var z=O[ce](be),H=z.value}catch(oe){return void ue(oe)}z.done?le(H):Promise.resolve(H).then(ve,fe)}function V(O){return function(){var le=this,ue=arguments;return new Promise(function(ve,fe){var ce=O.apply(le,ue);function be(H){u(ce,ve,fe,be,z,"next",H)}function z(H){u(ce,ve,fe,be,z,"throw",H)}be(void 0)})}}N.d(Ce,{Z:()=>V})}},st=>{st(st.s=8189)}]);